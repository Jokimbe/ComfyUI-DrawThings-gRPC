var Co=Object.defineProperty;var Eo=r=>{throw TypeError(r)};var ta=(r,t,i)=>t in r?Co(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var Je=(r,t)=>()=>(r&&(t=r(r=0)),t);var Ze=(r,t)=>{for(var i in t)Co(r,i,{get:t[i],enumerable:!0})};var c=(r,t,i)=>ta(r,typeof t!="symbol"?t+"":t,i),Sn=(r,t,i)=>t.has(r)||Eo("Cannot "+i);var w=(r,t,i)=>(Sn(r,t,"read from private field"),i?i.call(r):t.get(r)),P=(r,t,i)=>t.has(r)?Eo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,i),B=(r,t,i,n)=>(Sn(r,t,"write to private field"),n?n.call(r,i):t.set(r,i),i),T=(r,t,i)=>(Sn(r,t,"access private method"),i);var No=(r,t,i,n)=>({set _(o){B(r,t,o,i)},get _(){return w(r,t,n)}});var Do={};Ze(Do,{default:()=>na});var na,Lo=Je(()=>{na=[{version:"v1",prefix:"redshift style ",upcast_attention:!1,default_scale:8,file:"redshift_v1_f16.ckpt",text_encoder:"redshift_v1_clip_vit_l14_f16.ckpt",name:"3D Model (Redshift v1)"},{name:"3D Model 768 (Redshift 768)",objective:{v:{}},file:"redshift_768_v_f16.ckpt",version:"v2",upcast_attention:!1,prefix:"redshift style ",text_encoder:"redshift_768_v_open_clip_vit_h14_f16.ckpt",default_scale:12},{upcast_attention:!1,version:"v1",name:"AloeVera's SimpMaker 3K1",file:"aloeveras_simpmaker_3k1_f16.ckpt",prefix:"",default_scale:8},{name:"Analog (v1)",prefix:"analog style ",default_scale:8,version:"v1",upcast_attention:!1,file:"analog_v1_f16.ckpt",text_encoder:"analog_v1_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Animagine XL v3.1",modifier:"none",text_encoder:"animagine_xl_v3.1_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"animagine_xl_v3.1_clip_vit_l14_f16.ckpt",file:"animagine_xl_v3.1_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Animagine XL v3.1 (8-bit)",modifier:"none",text_encoder:"animagine_xl_v3.1_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"animagine_xl_v3.1_clip_vit_l14_f16.ckpt",file:"animagine_xl_v3.1_q6p_q8p.ckpt"},{prefix:"",upcast_attention:!1,clip_encoder:"open_clip_vit_h14_visual_proj_f16.ckpt",text_encoder:"open_clip_vit_h14_vision_model_f16.ckpt",conditioning:"noise",version:"svd_i2v",default_scale:8,name:"AnimateLCM SVD XT v1.1",noise_discretization:{edm:{_0:{sigma_max:700,sigma_data:.5,sigma_min:.002}}},modifier:"none",objective:{v:{}},file:"animatelcm_svd_xt_v1.1_f16.ckpt"},{prefix:"",upcast_attention:!1,clip_encoder:"open_clip_vit_h14_visual_proj_f16.ckpt",text_encoder:"open_clip_vit_h14_vision_model_f16.ckpt",conditioning:"noise",version:"svd_i2v",default_scale:8,name:"AnimateLCM SVD XT v1.1 (8-bit)",noise_discretization:{edm:{_0:{sigma_max:700,sigma_data:.5,sigma_min:.002}}},modifier:"none",objective:{v:{}},file:"animatelcm_svd_xt_v1.1_q6p_q8p.ckpt"},{text_encoder:"anything_v3_clip_vit_l14_f16.ckpt",default_scale:8,version:"v1",file:"anything_v3_f16.ckpt",prefix:"",autoencoder:"anything_v3_vae_f16.ckpt",name:"Anime (Anything v3)",upcast_attention:!1},{upcast_attention:!1,version:"v1",file:"wd_v1.3_f16.ckpt",prefix:"",name:"Anime (Waifu Diffusion v1.3)",default_scale:8},{name:"AniSora v3.2 I2V Wan 2.2 A14B High Noise Expert",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v3.2_i2v_wan_2.2_a14b_hne_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[AniSora v3.2](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation."},{name:"AniSora v3.2 I2V Wan 2.2 A14B High Noise Expert (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v3.2_i2v_wan_2.2_a14b_hne_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[AniSora v3.2](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation.",builtin_lora:!0},{name:"AniSora v3.2 I2V Wan 2.2 A14B Low Noise Expert",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v3.2_i2v_wan_2.2_a14b_lne_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[AniSora v3.2](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation."},{name:"AniSora v3.2 I2V Wan 2.2 A14B Low Noise Expert (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v3.2_i2v_wan_2.2_a14b_lne_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[AniSora v3.2](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation.",builtin_lora:!0},{file:"arcane_v3_f16.ckpt",text_encoder:"arcane_v3_clip_vit_l14_f16.ckpt",name:"Arcane (v3)",default_scale:8,prefix:"arcane style ",upcast_attention:!1,version:"v1"},{name:"Artsy Vibe v1",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"artsy_vibe_v1_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}}},{name:"Artsy Vibe v1 (5-bit, SVDQuant)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"artsy_vibe_v1_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},builtin_lora:!0},{name:"AuraFlow v0.1",file:"auraflow_v0.1_q8p.ckpt",prefix:"",version:"auraflow",defaultScale:16,textEncoder:"pile_t5_xl_encoder_q8p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",deprecated:!0},{name:"AuraFlow v0.1 (8-bit)",file:"auraflow_v0.1_q5p.ckpt",prefix:"",version:"auraflow",defaultScale:16,textEncoder:"pile_t5_xl_encoder_q8p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",deprecated:!0},{name:"AuraFlow v0.2",file:"auraflow_v0.2_q8p.ckpt",prefix:"",version:"auraflow",defaultScale:16,textEncoder:"pile_t5_xl_encoder_q8p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{name:"AuraFlow v0.2 (8-bit)",file:"auraflow_v0.2_q5p.ckpt",prefix:"",version:"auraflow",defaultScale:16,textEncoder:"pile_t5_xl_encoder_q8p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{name:"Balloon Art (v1)",upcast_attention:!1,version:"v1",file:"balloonart_v1_f16.ckpt",prefix:"balloonart ",default_scale:8,text_encoder:"balloonart_v1_clip_vit_l14_f16.ckpt"},{name:"Chroma v47 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v47_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v47 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v47_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v48 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v48_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v48 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v48_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma1 HD",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_1_hd_r0.1_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma1 HD](https://huggingface.co/lodestones/Chroma1-HD)."},{name:"Chroma1 HD (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_1_hd_r0.1_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma1 HD](https://huggingface.co/lodestones/Chroma1-HD)."},{name:"ChronoEdit 14B",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:15,hires_fix_scale:16,file:"chronoedit_14b_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[ChronoEdit 14B](https://research.nvidia.com/labs/toronto-ai/chronoedit/) is a image edit model fine-tuned from Wan 2.1 14B video model, that prefers 29-frame or 5-frame generation."},{name:"ChronoEdit 14B (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:15,hires_fix_scale:16,file:"chronoedit_14b_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[ChronoEdit 14B](https://research.nvidia.com/labs/toronto-ai/chronoedit/) is a image edit model fine-tuned from Wan 2.1 14B video model, that prefers 29-frame or 5-frame generation.",builtin_lora:!0},{text_encoder:"classicanim_v1_clip_vit_l14_f16.ckpt",default_scale:8,version:"v1",file:"classicanim_v1_f16.ckpt",prefix:"classic disney style ",name:"Classic Animation (v1)",upcast_attention:!1},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"ColorfulXL v6.0",modifier:"none",clip_encoder:"colorfulxl_v6.0_clip_vit_l14_f16.ckpt",file:"colorfulxl_v6.0_f16.ckpt",text_encoder:"colorfulxl_v6.0_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"ColorfulXL v6.0 (8-bit)",modifier:"none",clip_encoder:"colorfulxl_v6.0_clip_vit_l14_f16.ckpt",file:"colorfulxl_v6.0_q6p_q8p.ckpt",text_encoder:"colorfulxl_v6.0_open_clip_vit_bigg14_f16.ckpt"},{version:"v1",default_scale:8,prefix:"",name:"Counterfeit v3.0",upcast_attention:!1,modifier:"none",file:"counterfeit_v3.0_f16.ckpt",text_encoder:"counterfeit_v3.0_clip_vit_l14_f16.ckpt"},{version:"v1",default_scale:8,prefix:"",name:"Counterfeit v3.0 (8-bit)",upcast_attention:!1,modifier:"none",file:"counterfeit_v3.0_q6p_q8p.ckpt",text_encoder:"counterfeit_v3.0_clip_vit_l14_f16.ckpt"},{prefix:"dgs illustration style ",file:"cyberpunk_anime_f16.ckpt",default_scale:8,upcast_attention:!1,version:"v1",name:"Cyberpunk Anime",text_encoder:"cyberpunk_anime_clip_vit_l14_f16.ckpt"},{version:"v1",name:"Deliberate v2.0 (8-bit)",file:"deliberate_v2_q6p_q8p.ckpt",prefix:"",text_encoder:"deliberate_v2_clip_vit_l14_f16.ckpt",default_scale:8,upcast_attention:!1},{name:"devMODE v0.3 Turbo",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"devmode_v0.3_turbo_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}}},{name:"devMODE v0.3 Turbo (5-bit, SVDQuant)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"devmode_v0.3_turbo_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},builtin_lora:!0},{default_scale:8,text_encoder:"disney_pixar_cartoon_type_b_clip_vit_l14_f16.ckpt",upcast_attention:!1,prefix:"",file:"disney_pixar_cartoon_type_b_q6p_q8p.ckpt",name:"Disney Pixar Cartoon Type B (8-bit)",version:"v1"},{file:"dnd_classes_and_species_f16.ckpt",prefix:"",upcast_attention:!1,default_scale:8,version:"v1",text_encoder:"dnd_classes_and_species_clip_vit_l14_f16.ckpt",name:"DnD Classes and Species"},{version:"v1",default_scale:12,prefix:"",name:"DreamShaper v8",upcast_attention:!1,file:"dreamshaper_v8_f16.ckpt",text_encoder:"dreamshaper_v8_clip_vit_l14_f16.ckpt",modifier:"none"},{version:"v1",default_scale:12,prefix:"",name:"DreamShaper v8 (8-bit)",upcast_attention:!1,file:"dreamshaper_v8_q6p_q8p.ckpt",text_encoder:"dreamshaper_v8_clip_vit_l14_f16.ckpt",modifier:"none"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"DreamShaper XL v2.1 Turbo",modifier:"none",clip_encoder:"dreamshaper_xl_v2.1_turbo_clip_vit_l14_f16.ckpt",file:"dreamshaper_xl_v2.1_turbo_f16.ckpt",text_encoder:"dreamshaper_xl_v2.1_turbo_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"DreamShaper XL v2.1 Turbo (8-bit)",modifier:"none",clip_encoder:"dreamshaper_xl_v2.1_turbo_clip_vit_l14_f16.ckpt",file:"dreamshaper_xl_v2.1_turbo_q6p_q8p.ckpt",text_encoder:"dreamshaper_xl_v2.1_turbo_open_clip_vit_bigg14_f16.ckpt"},{version:"v1",file:"dnd_30000_f16.ckpt",prefix:"",default_scale:8,upcast_attention:!1,name:"Dungeons and Diffusion (30000)",text_encoder:"dnd_30000_clip_vit_l14_f16.ckpt"},{prefix:"elden ring style ",upcast_attention:!1,name:"Elden Ring (v3)",file:"eldenring_v3_f16.ckpt",default_scale:8,text_encoder:"eldenring_v3_clip_vit_l14_f16.ckpt",version:"v1"},{upcast_attention:!1,version:"v1",name:"F222",file:"f222_f16.ckpt",prefix:"",default_scale:8},{name:"FLUX.1 [dev]",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"flux_1_dev_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 [dev] (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"flux_1_dev_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 [dev] (Exact)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"flux_1_dev_f16.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 [dev] De-distill",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"flux_1_dev_de_distill_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 [dev] De-distill (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"flux_1_dev_de_distill_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 [schnell]",file:"flux_1_schnell_q8p.ckpt",prefix:"",version:"flux1",defaultScale:16,textEncoder:"t5_xxl_encoder_q6p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"clip_vit_l14_f16.ckpt",highPrecisionAutoencoder:!0,isConsistencyModel:!0,paddedTextEncodingLength:256,hiresFixScale:24},{name:"FLUX.1 [schnell] (5-bit)",file:"flux_1_schnell_q5p.ckpt",prefix:"",version:"flux1",defaultScale:16,textEncoder:"t5_xxl_encoder_q6p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"clip_vit_l14_f16.ckpt",highPrecisionAutoencoder:!0,isConsistencyModel:!0,paddedTextEncodingLength:256,hiresFixScale:24},{name:"FLUX.1 Canny [dev]",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"canny",default_scale:16,hires_fix_scale:24,file:"flux_1_canny_dev_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}}},{name:"FLUX.1 Canny [dev] (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"canny",default_scale:16,hires_fix_scale:24,file:"flux_1_canny_dev_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}}},{name:"FLUX.1 Depth [dev]",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"depth",default_scale:16,hires_fix_scale:24,file:"flux_1_depth_dev_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}}},{name:"FLUX.1 Depth [dev] (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"depth",default_scale:16,hires_fix_scale:24,file:"flux_1_depth_dev_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}}},{name:"FLUX.1 Fill [dev]",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"inpainting",default_scale:16,hires_fix_scale:24,file:"flux_1_fill_dev_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:128,objective:{u:{condition_scale:1e3}}},{name:"FLUX.1 Fill [dev] (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"inpainting",default_scale:16,hires_fix_scale:24,file:"flux_1_fill_dev_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:128,objective:{u:{condition_scale:1e3}}},{name:"FLUX.1 Kontext [dev]",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"kontext",default_scale:16,hires_fix_scale:24,file:"flux_1_kontext_dev_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 Kontext [dev] (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"kontext",default_scale:16,hires_fix_scale:24,file:"flux_1_kontext_dev_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 Kontext [dev] (Exact)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",modifier:"kontext",default_scale:16,hires_fix_scale:24,file:"flux_1_kontext_dev_f16.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 Krea [dev]",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"flux_1_krea_dev_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"FLUX.1 Krea [dev] (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"flux_1_krea_dev_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"Fooocus Inpaint SDXL v2.6",file:"fooocus_inpaint_sd_xl_v2.6_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"inpainting",clipEncoder:"clip_vit_l14_f16.ckpt"},{name:"Fooocus Inpaint SDXL v2.6 (8-bit)",file:"fooocus_inpaint_sd_xl_v2.6_q6p_q8p.ckpt",prefix:"",version:"sdxl_base_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"inpainting",clipEncoder:"clip_vit_l14_f16.ckpt"},{upcast_attention:!1,prefix:"ghibli style ",text_encoder:"ghibli_v1_clip_vit_l14_f16.ckpt",default_scale:8,file:"ghibli_v1_f16.ckpt",name:"Ghibli (v1)",version:"v1"},{file:"hna_3dkx_1.1_f16.ckpt",upcast_attention:!1,text_encoder:"hna_3dkx_1.1_clip_vit_l14_f16.ckpt",default_scale:8,version:"v1",name:"H&A's 3DKX 1.1",prefix:"a 3d render / cartoon of "},{version:"v1",file:"hassanblend_v1.5.1.2_f16.ckpt",prefix:"",text_encoder:"hassanblend_v1.5.1.2_clip_vit_l14_f16.ckpt",upcast_attention:!1,default_scale:8,name:"Hassanblend (v1.5.1.2)"},{name:"HiDream E1 [full]",file:"hidream_e1_full_q8p.ckpt",prefix:"",version:"hidream_i1",defaultScale:12,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",modifier:"editing",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-E1 [full]](https://huggingface.co/HiDream-ai/HiDream-E1-Full) is an image editing model built on HiDream-I1. It is MIT-licensed and commercially friendly. Trained at 768\xD7768 resolution using a Flow Matching objective, the model performs best with trailing samplers and 30\u201350 sampling steps. For optimal results, ensure the width is set to 768 and use the following prompt format: Editing Instruction: {}. Target Image Description: {}."},{name:"HiDream E1 [full] (5-bit)",file:"hidream_e1_full_q5p.ckpt",prefix:"",version:"hidream_i1",defaultScale:12,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",modifier:"editing",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-E1 [full]](https://huggingface.co/HiDream-ai/HiDream-E1-Full) is an image editing model built on HiDream-I1. It is MIT-licensed and commercially friendly. Trained at 768\xD7768 resolution using a Flow Matching objective, the model performs best with trailing samplers and 30\u201350 sampling steps. For optimal results, ensure the width is set to 768 and use the following prompt format: Editing Instruction: {}. Target Image Description: {}."},{name:"HiDream E1-1",file:"hidream_e1_1_q8p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",modifier:"editing",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-E1-1](https://huggingface.co/HiDream-ai/HiDream-E1-1) is an image editing model built on HiDream-I1. It is MIT-licensed and commercially friendly. Trained with dynamic resolutions (around 1MP) using a Flow Matching objective, the model performs best with trailing samplers and 30\u201350 sampling steps."},{name:"HiDream E1-1 (5-bit)",file:"hidream_e1_1_q5p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",modifier:"editing",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-E1-1](https://huggingface.co/HiDream-ai/HiDream-E1-1) is an image editing model built on HiDream-I1. It is MIT-licensed and commercially friendly. Trained with dynamic resolutions (around 1MP) using a Flow Matching objective, the model performs best with trailing samplers and 30\u201350 sampling steps."},{name:"HiDream E1-1 (Exact)",version:"hidream_i1",autoencoder:"flux_1_vae_f16.ckpt",modifier:"editing",prefix:"",default_scale:16,hires_fix_scale:24,file:"hidream_e1_1_f16.ckpt",upcast_attention:!1,text_encoder:"llama_3.1_8b_instruct_f16.ckpt",t5_encoder:"t5_xxl_encoder_f16.ckpt",clip_encoder:"long_clip_vit_l14_f16.ckpt",additional_clip_encoders:["long_open_clip_vit_bigg14_f16.ckpt"],high_precision_autoencoder:!0,padded_text_encoding_length:128,objective:{u:{condition_scale:1e3}},note:"[HiDream-E1-1](https://huggingface.co/HiDream-ai/HiDream-E1-1) is an image editing model built on HiDream-I1. It is MIT-licensed and commercially friendly. Trained at dynamic resolutions (around 1MP) using a Flow Matching objective, the model performs best with trailing samplers and 30\u201350 sampling steps."},{name:"HiDream I1 [dev]",file:"hidream_i1_dev_q8p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,guidanceEmbed:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-I1 [dev]](https://huggingface.co/HiDream-ai/HiDream-I1-Dev) is a state-of-the-art open-source image generation model known for its strong prompt adherence across diverse styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 20\u201330 sampling steps recommended. Text guidance is not effective for this model."},{name:"HiDream I1 [dev] (5-bit)",file:"hidream_i1_dev_q5p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,guidanceEmbed:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-I1 [dev]](https://huggingface.co/HiDream-ai/HiDream-I1-Dev) is a state-of-the-art open-source image generation model known for its strong prompt adherence across diverse styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 20\u201330 sampling steps recommended. Text guidance is not effective for this model."},{name:"HiDream I1 [dev] (Exact)",version:"hidream_i1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"hidream_i1_dev_f16.ckpt",upcast_attention:!1,text_encoder:"llama_3.1_8b_instruct_f16.ckpt",t5_encoder:"t5_xxl_encoder_f16.ckpt",clip_encoder:"long_clip_vit_l14_f16.ckpt",additional_clip_encoders:["long_open_clip_vit_bigg14_f16.ckpt"],high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:128,objective:{u:{condition_scale:1e3}},note:"[HiDream-I1 [dev]](https://huggingface.co/HiDream-ai/HiDream-I1-Dev) is a state-of-the-art open-source image generation model known for its strong prompt adherence across diverse styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 20\u201330 sampling steps recommended. Text guidance is not effective for this model."},{name:"HiDream I1 [fast]",file:"hidream_i1_fast_q8p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,isConsistencyModel:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-I1 [fast]](https://huggingface.co/HiDream-ai/HiDream-I1-Fast) is a state-of-the-art open-source image generation model known for its strong prompt adherence across diverse styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 10\u201320 sampling steps recommended. Text guidance is not effective for this model."},{name:"HiDream I1 [fast] (5-bit)",file:"hidream_i1_fast_q5p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,isConsistencyModel:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-I1 [fast]](https://huggingface.co/HiDream-ai/HiDream-I1-Fast) is a state-of-the-art open-source image generation model known for its strong prompt adherence across diverse styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 10\u201320 sampling steps recommended. Text guidance is not effective for this model."},{name:"HiDream I1 [fast] (Exact)",version:"hidream_i1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"hidream_i1_fast_f16.ckpt",upcast_attention:!1,text_encoder:"llama_3.1_8b_instruct_f16.ckpt",t5_encoder:"t5_xxl_encoder_f16.ckpt",clip_encoder:"long_clip_vit_l14_f16.ckpt",additional_clip_encoders:["long_open_clip_vit_bigg14_f16.ckpt"],high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:128,objective:{u:{condition_scale:1e3}},note:"[HiDream-I1 [fast]](https://huggingface.co/HiDream-ai/HiDream-I1-Fast) is a state-of-the-art open-source image generation model known for its strong prompt adherence across diverse styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 10\u201320 sampling steps recommended. Text guidance is not effective for this model."},{name:"HiDream I1 [full]",file:"hidream_i1_full_q8p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-I1 [full]](https://huggingface.co/HiDream-ai/HiDream-I1-Full) is a state-of-the-art open-source image generation model known for its exceptional prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended."},{name:"HiDream I1 [full] (5-bit)",file:"hidream_i1_full_q5p.ckpt",prefix:"",version:"hidream_i1",defaultScale:16,textEncoder:"llama_3.1_8b_instruct_q8p.ckpt",autoencoder:"flux_1_vae_f16.ckpt",clipEncoder:"long_clip_vit_l14_f16.ckpt",additionalClipEncoders:["long_open_clip_vit_bigg14_f16.ckpt"],t5Encoder:"t5_xxl_encoder_q6p.ckpt",highPrecisionAutoencoder:!0,paddedTextEncodingLength:128,hiresFixScale:24,note:"[HiDream-I1 [full]](https://huggingface.co/HiDream-ai/HiDream-I1-Full) is a state-of-the-art open-source image generation model known for its exceptional prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended."},{name:"HiDream I1 [full] (Exact)",version:"hidream_i1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"hidream_i1_full_f16.ckpt",upcast_attention:!1,text_encoder:"llama_3.1_8b_instruct_f16.ckpt",t5_encoder:"t5_xxl_encoder_f16.ckpt",clip_encoder:"long_clip_vit_l14_f16.ckpt",additional_clip_encoders:["long_open_clip_vit_bigg14_f16.ckpt"],high_precision_autoencoder:!0,padded_text_encoding_length:128,objective:{u:{condition_scale:1e3}},note:"[HiDream-I1 [full]](https://huggingface.co/HiDream-ai/HiDream-I1-Full) is a state-of-the-art open-source image generation model known for its exceptional prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is MIT-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended."},{name:"Hunyuan Video T2V 720p",version:"hunyuan_video",autoencoder:"hunyuan_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:24,file:"hunyuan_video_t2v_720p_q8p.ckpt",upcast_attention:!1,text_encoder:"llava_llama_3_8b_v1.1_q8p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!1,guidance_embed:!0,objective:{u:{condition_scale:1e3}},frames_per_second:30,tea_cache_coefficients:[733.226126,-401.131952,67.5869174,-3.149878,.0961237896],note:"[Hunyuan Video](https://huggingface.co/tencent/HunyuanVideo) is a state-of-the-art text-to-video model developed by Tencent. It can generate video clips of up to 5 seconds in length. The recommended resolutions are 960\xD7544 or 1280\xD7720. The model supports up to 129 frames, with a recommended shift value of 7.0."},{name:"Hunyuan Video T2V 720p (5-bit, SVDQuant)",version:"hunyuan_video",autoencoder:"hunyuan_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:24,file:"hunyuan_video_t2v_720p_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"llava_llama_3_8b_v1.1_q8p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!1,guidance_embed:!0,objective:{u:{condition_scale:1e3}},frames_per_second:30,tea_cache_coefficients:[733.226126,-401.131952,67.5869174,-3.149878,.0961237896],note:"[Hunyuan Video](https://huggingface.co/tencent/HunyuanVideo) is a state-of-the-art text-to-video model developed by Tencent. It can generate video clips of up to 5 seconds in length. The recommended resolutions are 960\xD7544 or 1280\xD7720. The model supports up to 129 frames, with a recommended shift value of 7.0.",builtin_lora:!0},{name:"iCatcher Cartoon",file:"icatcher_cartoon_f16.ckpt",prefix:"",modifier:"none",default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"icatcher_cartoon_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",text_encoder:"icatcher_cartoon_open_clip_vit_bigg14_f16.ckpt"},{name:"iCatcher Cartoon (8-bit)",file:"icatcher_cartoon_q6p_q8p.ckpt",prefix:"",modifier:"none",default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"icatcher_cartoon_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",text_encoder:"icatcher_cartoon_open_clip_vit_bigg14_f16.ckpt"},{name:"iCatcher Realistic",file:"icatcher_realistic_f16.ckpt",prefix:"",modifier:"none",default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"icatcher_realistic_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"icatcher_realistic_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9"},{name:"iCatcher Realistic (8-bit)",file:"icatcher_realistic_q6p_q8p.ckpt",prefix:"",modifier:"none",default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"icatcher_realistic_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"icatcher_realistic_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9"},{version:"v1",file:"inkpunk_v2_f16.ckpt",name:"Inkpunk (v2)",upcast_attention:!1,prefix:"nvinkpunk ",default_scale:8,text_encoder:"inkpunk_v2_clip_vit_l14_f16.ckpt"},{name:"Instruct Pix2Pix",file:"instruct_pix2pix_22000_f16.ckpt",prefix:"",version:"v1",defaultScale:8,modifier:"editing",deprecated:!0},{version:"v1",default_scale:12,prefix:"",name:"Juggernaut Reborn",upcast_attention:!1,file:"juggernaut_reborn_f16.ckpt",text_encoder:"juggernaut_reborn_clip_vit_l14_f16.ckpt",modifier:"none"},{version:"v1",default_scale:12,prefix:"",name:"Juggernaut Reborn (8-bit)",upcast_attention:!1,file:"juggernaut_reborn_q6p_q8p.ckpt",text_encoder:"juggernaut_reborn_clip_vit_l14_f16.ckpt",modifier:"none"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL Ragnarok",modifier:"none",text_encoder:"juggernaut_xl_ragnarok_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"juggernaut_xl_ragnarok_clip_vit_l14_f16.ckpt",file:"juggernaut_xl_ragnarok_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL Ragnarok (8-bit)",modifier:"none",text_encoder:"juggernaut_xl_ragnarok_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"juggernaut_xl_ragnarok_clip_vit_l14_f16.ckpt",file:"juggernaut_xl_ragnarok_q6p_q8p.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL v9",modifier:"none",text_encoder:"juggernaut_xl_v9_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"juggernaut_xl_v9_clip_vit_l14_f16.ckpt",file:"juggernaut_xl_v9_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL v9 (8-bit)",modifier:"none",text_encoder:"juggernaut_xl_v9_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"juggernaut_xl_v9_clip_vit_l14_f16.ckpt",file:"juggernaut_xl_v9_q6p_q8p.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL v9 Lightning",modifier:"none",file:"juggernaut_xl_v9_lightning_f16.ckpt",text_encoder:"juggernaut_xl_v9_lightning_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"juggernaut_xl_v9_lightning_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL v9 Lightning (8-bit)",modifier:"none",file:"juggernaut_xl_v9_lightning_q6p_q8p.ckpt",text_encoder:"juggernaut_xl_v9_lightning_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"juggernaut_xl_v9_lightning_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL X",modifier:"none",text_encoder:"juggernaut_xl_x_open_clip_vit_bigg14_f16.ckpt",file:"juggernaut_xl_x_f16.ckpt",clip_encoder:"juggernaut_xl_x_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Juggernaut XL X (8-bit)",modifier:"none",text_encoder:"juggernaut_xl_x_open_clip_vit_bigg14_f16.ckpt",file:"juggernaut_xl_x_q6p_q8p.ckpt",clip_encoder:"juggernaut_xl_x_clip_vit_l14_f16.ckpt"},{name:"Kandinsky v2.1",file:"kandinsky_f16.ckpt",prefix:"",version:"kandinsky2.1",upcastAttention:!1,defaultScale:12,textEncoder:"xlm_roberta_f16.ckpt",autoencoder:"kandinsky_movq_f16.ckpt",deprecated:!0,imageEncoder:"image_vit_l14_f16.ckpt",clipEncoder:"clip_vit_l14_f16.ckpt",diffusionMapping:"kandinsky_diffusion_mapping_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Kwai Kolors 1.0",modifier:"none",file:"kwai_kolors_1.0_f16.ckpt",text_encoder:"chatglm3_6b_q6p_q8p.ckpt",text_encoder_version:"chatglm3_6b"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Kwai Kolors 1.0 (8-bit)",modifier:"none",file:"kwai_kolors_1.0_q6p_q8p.ckpt",text_encoder:"chatglm3_6b_q6p_q8p.ckpt",text_encoder_version:"chatglm3_6b"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!0,name:"Kwai Kolors Inpainting 1.0",modifier:"inpainting",file:"kwai_kolors_inpainting_1.0_f16.ckpt",text_encoder:"chatglm3_6b_q6p_q8p.ckpt",text_encoder_version:"chatglm3_6b"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!0,name:"Kwai Kolors Inpainting 1.0 (8-bit)",modifier:"inpainting",file:"kwai_kolors_inpainting_1.0_q6p_q8p.ckpt",text_encoder:"chatglm3_6b_q6p_q8p.ckpt",text_encoder_version:"chatglm3_6b"},{version:"v1",default_scale:8,prefix:"",name:"MajicMIX Realistic v7",upcast_attention:!1,file:"majicmix_realistic_v7_f16.ckpt",text_encoder:"majicmix_realistic_v7_clip_vit_l14_f16.ckpt",modifier:"none"},{version:"v1",default_scale:8,prefix:"",name:"MajicMIX Realistic v7 (8-bit)",upcast_attention:!1,file:"majicmix_realistic_v7_q6p_q8p.ckpt",text_encoder:"majicmix_realistic_v7_clip_vit_l14_f16.ckpt",modifier:"none"},{name:"MiniSD v1.4",file:"minisd_v1.4_f16.ckpt",prefix:"",version:"v1",defaultScale:4,deprecated:!0},{prefix:"modern disney style ",upcast_attention:!1,version:"v1",file:"modi_v1_f16.ckpt",name:"Modern Disney (v1)",text_encoder:"modi_v1_clip_vit_l14_f16.ckpt",default_scale:8},{file:"nitro_v1_f16.ckpt",default_scale:8,version:"v1",prefix:"",name:"Multi-Style (Nitro Diffusion v1)",upcast_attention:!1,text_encoder:"nitro_v1_clip_vit_l14_f16.ckpt"},{text_encoder:"mdjrny_v4_clip_vit_l14_f16.ckpt",version:"v1",prefix:"mdjrny-v4 style ",upcast_attention:!1,file:"mdjrny_v4_f16.ckpt",name:"Openjourney",default_scale:8},{autoencoder:"vae_ft_mse_840000_f16.ckpt",default_scale:16,prefix:"",version:"v1",upcast_attention:!1,name:"Outfitting Fusion Virtual Try-on (Full-Body)",modifier:"double",file:"ootd_vton_full_body_1.0_f16.ckpt",text_encoder:"clip_vit_l14_f16.ckpt"},{autoencoder:"vae_ft_mse_840000_f16.ckpt",default_scale:16,prefix:"",version:"v1",upcast_attention:!1,name:"Outfitting Fusion Virtual Try-on (Upper-Body)",modifier:"double",file:"ootd_vton_upper_body_1.0_f16.ckpt",text_encoder:"clip_vit_l14_f16.ckpt"},{name:"Paper Cut (v1)",upcast_attention:!1,version:"v1",file:"papercut_v1_f16.ckpt",prefix:"papercut ",default_scale:8,text_encoder:"papercut_v1_clip_vit_l14_f16.ckpt"},{name:"PixArt Sigma XL 1K",file:"pixart_sigma_xl_2_1024_ms_f16.ckpt",prefix:"",version:"pixart",defaultScale:16,textEncoder:"t5_xxl_encoder_q6p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{name:"PixArt Sigma XL 1K (8-bit)",file:"pixart_sigma_xl_2_1024_ms_q8p.ckpt",prefix:"",version:"pixart",defaultScale:16,textEncoder:"t5_xxl_encoder_q6p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{name:"PixArt Sigma XL 512",file:"pixart_sigma_xl_2_512_ms_f16.ckpt",prefix:"",version:"pixart",defaultScale:8,textEncoder:"t5_xxl_encoder_q6p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{name:"PixArt Sigma XL 512 (8-bit)",file:"pixart_sigma_xl_2_512_ms_q8p.ckpt",prefix:"",version:"pixart",defaultScale:8,textEncoder:"t5_xxl_encoder_q6p.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"PixelWave 10",modifier:"none",file:"pixelwave_10_f16.ckpt",clip_encoder:"pixelwave_10_clip_vit_l14_f16.ckpt",text_encoder:"pixelwave_10_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"PixelWave 10 (8-bit)",modifier:"none",file:"pixelwave_10_q6p_q8p.ckpt",clip_encoder:"pixelwave_10_clip_vit_l14_f16.ckpt",text_encoder:"pixelwave_10_open_clip_vit_bigg14_f16.ckpt"},{name:"PixelWave FLUX.1 Schnell 04",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"pixelwave_flux_1_schnell_04_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}}},{name:"PixelWave FLUX.1 Schnell 04 (5-bit, SVDQuant)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"pixelwave_flux_1_schnell_04_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},builtin_lora:!0},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"PixelWave v9",modifier:"none",text_encoder:"pixelwave_v9_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"pixelwave_v9_clip_vit_l14_f16.ckpt",file:"pixelwave_v9_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"PixelWave v9 (8-bit)",modifier:"none",text_encoder:"pixelwave_v9_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"pixelwave_v9_clip_vit_l14_f16.ckpt",file:"pixelwave_v9_q6p_q8p.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",clip_encoder:"clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Playground v2",file:"playground_v2_f16.ckpt",text_encoder:"open_clip_vit_bigg14_f16.ckpt",modifier:"none"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",clip_encoder:"clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Playground v2 (8-bit)",file:"playground_v2_q6p_q8p.ckpt",text_encoder:"open_clip_vit_bigg14_f16.ckpt",modifier:"none"},{conditioning:"noise",latents_std:[8.4927,5.9022,6.5498,5.2299],autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,objective:{edm:{sigma_data:.5}},prefix:"",clip_encoder:"clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Playground v2.5",file:"playground_v2.5_f16.ckpt",noise_discretization:{edm:{_0:{sigma_min:.002,sigma_data:.5,sigma_max:80}}},text_encoder:"open_clip_vit_bigg14_f16.ckpt",latents_mean:[-1.6574,1.886,-1.383,2.5155],latents_scaling_factor:.5},{conditioning:"noise",latents_std:[8.4927,5.9022,6.5498,5.2299],autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,objective:{edm:{sigma_data:.5}},prefix:"",clip_encoder:"clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Playground v2.5 (8-bit)",file:"playground_v2.5_q6p_q8p.ckpt",noise_discretization:{edm:{_0:{sigma_min:.002,sigma_data:.5,sigma_max:80}}},text_encoder:"open_clip_vit_bigg14_f16.ckpt",latents_mean:[-1.6574,1.886,-1.383,2.5155],latents_scaling_factor:.5},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Proteus v0.3",modifier:"none",clip_encoder:"proteus_v0.3_clip_vit_l14_f16.ckpt",file:"proteus_v0.3_f16.ckpt",text_encoder:"proteus_v0.3_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Proteus v0.3 (8-bit)",modifier:"none",clip_encoder:"proteus_v0.3_clip_vit_l14_f16.ckpt",file:"proteus_v0.3_q6p_q8p.ckpt",text_encoder:"proteus_v0.3_open_clip_vit_bigg14_f16.ckpt"},{name:"Qwen Image 1.0",file:"qwen_image_1.0_q8p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",hiresFixScale:24,note:"[Qwen Image](https://huggingface.co/Qwen/Qwen-Image) is a state-of-the-art open-source image generation model known for its exceptional text layout and prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image 1.0 (6-bit)",file:"qwen_image_1.0_q6p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",hiresFixScale:24,note:"[Qwen Image](https://huggingface.co/Qwen/Qwen-Image) is a state-of-the-art open-source image generation model known for its exceptional text layout and prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image 1.0 (BF16, 6-bit)",file:"qwen_image_1.0_bf16_q6p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",hiresFixScale:24,isBf16:!0,note:"[Qwen Image](https://huggingface.co/Qwen/Qwen-Image) is a state-of-the-art open-source image generation model known for its exceptional text layout and prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. The BF16 version is only compatible with macOS 15, iOS 18 and above.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image 1.0 (BF16, Exact)",version:"qwen_image",autoencoder:"qwen_image_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"qwen_image_1.0_bf16.ckpt",upcast_attention:!1,text_encoder:"qwen_2.5_vl_7b_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},is_bf16:!0,note:"[Qwen Image](https://huggingface.co/Qwen/Qwen-Image) is a state-of-the-art open-source image generation model known for its exceptional text layout and prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. The BF16 version is only compatible with macOS 15, iOS 18 and above."},{name:"Qwen Image 1.0 (BF16)",file:"qwen_image_1.0_bf16_q8p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",hiresFixScale:24,isBf16:!0,note:"[Qwen Image](https://huggingface.co/Qwen/Qwen-Image) is a state-of-the-art open-source image generation model known for its exceptional text layout and prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. The BF16 version is only compatible with macOS 15, iOS 18 and above.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image 1.0 (Exact)",version:"qwen_image",autoencoder:"qwen_image_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"qwen_image_1.0_f16.ckpt",upcast_attention:!1,text_encoder:"qwen_2.5_vl_7b_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},note:"[Qwen Image](https://huggingface.co/Qwen/Qwen-Image) is a state-of-the-art open-source image generation model known for its exceptional text layout and prompt adherence across a wide range of styles, including photorealistic, cartoon, and artistic. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended."},{name:"Qwen Image Edit 1.0",file:"qwen_image_edit_1.0_q8p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",modifier:"kontext",clipEncoder:"qwen_2.5_vl_7b_vit_f16.ckpt",hiresFixScale:24,note:"[Qwen Image Edit](https://huggingface.co/Qwen/Qwen-Image-Edit) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image Edit 1.0 (6-bit)",file:"qwen_image_edit_1.0_q6p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",modifier:"kontext",clipEncoder:"qwen_2.5_vl_7b_vit_f16.ckpt",hiresFixScale:24,note:"[Qwen Image Edit](https://huggingface.co/Qwen/Qwen-Image-Edit) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image Edit 2509",file:"qwen_image_edit_2509_q8p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",modifier:"qwenimageEditPlus",clipEncoder:"qwen_2.5_vl_7b_vit_f16.ckpt",hiresFixScale:24,note:"[Qwen Image Edit 2509](https://huggingface.co/Qwen/Qwen-Image-Edit-2509) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. This is an update in Sep, 2025.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image Edit 2509 (6-bit)",file:"qwen_image_edit_2509_q6p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",modifier:"qwenimageEditPlus",clipEncoder:"qwen_2.5_vl_7b_vit_f16.ckpt",hiresFixScale:24,note:"[Qwen Image Edit 2509](https://huggingface.co/Qwen/Qwen-Image-2509) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. This is an update in Sep, 2025.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image Edit 2509 (BF16, 6-bit)",file:"qwen_image_edit_2509_bf16_q6p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",modifier:"qwenimageEditPlus",clipEncoder:"qwen_2.5_vl_7b_vit_f16.ckpt",hiresFixScale:24,isBf16:!0,note:"[Qwen Image Edit 2509](https://huggingface.co/Qwen/Qwen-Image-2509) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. This is an update in Sep, 2025. The BF16 version is only compatible with macOS 15, iOS 18 and above.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image Edit 2509 (BF16, Exact)",version:"qwen_image",autoencoder:"qwen_image_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"qwen_image_edit_2509_bf16.ckpt",upcast_attention:!1,modifier:"qwenimage_edit_plus",text_encoder:"qwen_2.5_vl_7b_f16.ckpt",clip_encoder:"qwen_2.5_vl_7b_vit_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},is_bf16:!0,note:"[Qwen Image Edit 2509](https://huggingface.co/Qwen/Qwen-Image-2509) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. This is an update in Sep, 2025. The BF16 version is only compatible with macOS 15, iOS 18 and above."},{name:"Qwen Image Edit 2509 (BF16)",file:"qwen_image_edit_2509_bf16_q8p.ckpt",prefix:"",version:"qwen_image",defaultScale:16,textEncoder:"qwen_2.5_vl_7b_q8p.ckpt",autoencoder:"qwen_image_vae_f16.ckpt",modifier:"qwenimageEditPlus",clipEncoder:"qwen_2.5_vl_7b_vit_f16.ckpt",hiresFixScale:24,isBf16:!0,note:"[Qwen Image Edit 2509](https://huggingface.co/Qwen/Qwen-Image-Edit-2509) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. This is an update in Sep, 2025. The BF16 version is only compatible with macOS 15, iOS 18 and above.",copyright:"\xA9 2025 Alibaba"},{name:"Qwen Image Edit 2509 (Exact)",version:"qwen_image",autoencoder:"qwen_image_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"qwen_image_edit_2509_f16.ckpt",upcast_attention:!1,modifier:"qwenimage_edit_plus",text_encoder:"qwen_2.5_vl_7b_f16.ckpt",clip_encoder:"qwen_2.5_vl_7b_vit_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},note:"[Qwen Image Edit 2509](https://huggingface.co/Qwen/Qwen-Image-2509) is a state-of-the-art open-source image edit model excels at image edit tasks such as background alternation, style transfer, object removal etc. It is Apache 2.0-licensed and commercially friendly. The model is trained at multiple resolutions using a Flow Matching objective; trailing samplers yield the best results, with 30\u201350 sampling steps recommended. This is an update in Sep, 2025."},{name:"RayFLUX v3.0",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"rayflux_v3.0_aio_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{name:"RayFLUX v3.0 (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"rayflux_v3.0_aio_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861]},{version:"v1",default_scale:12,prefix:"",name:"Realistic Vision v5.1",upcast_attention:!1,text_encoder:"realistic_vision_v5.1_clip_vit_l14_f16.ckpt",file:"realistic_vision_v5.1_f16.ckpt",modifier:"none"},{version:"v1",default_scale:12,prefix:"",name:"Realistic Vision v5.1 (8-bit)",upcast_attention:!1,text_encoder:"realistic_vision_v5.1_clip_vit_l14_f16.ckpt",file:"realistic_vision_v5.1_q6p_q8p.ckpt",modifier:"none"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"RealVisXL v4.0",modifier:"none",clip_encoder:"realvisxl_v4.0_clip_vit_l14_f16.ckpt",text_encoder:"realvisxl_v4.0_open_clip_vit_bigg14_f16.ckpt",file:"realvisxl_v4.0_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"RealVisXL v4.0 (8-bit)",modifier:"none",clip_encoder:"realvisxl_v4.0_clip_vit_l14_f16.ckpt",text_encoder:"realvisxl_v4.0_open_clip_vit_bigg14_f16.ckpt",file:"realvisxl_v4.0_q6p_q8p.ckpt"},{version:"v1",default_scale:8,prefix:"",name:"Rev Animated v1.22",upcast_attention:!1,modifier:"none",text_encoder:"rev_animated_v1.22_clip_vit_l14_f16.ckpt",file:"rev_animated_v1.22_f16.ckpt"},{version:"v1",default_scale:8,prefix:"",name:"Rev Animated v1.22 (8-bit)",upcast_attention:!1,modifier:"none",text_encoder:"rev_animated_v1.22_clip_vit_l14_f16.ckpt",file:"rev_animated_v1.22_q6p_q8p.ckpt"},{version:"v1",name:"SamDoesArt (v3)",upcast_attention:!1,text_encoder:"samdoesart_v3_clip_vit_l14_f16.ckpt",default_scale:8,prefix:"samdoesart ",file:"samdoesart_v3_f16.ckpt"},{name:"schnellMODE v3.3",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"schnellmode_v3.3_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}}},{name:"schnellMODE v3.3 (5-bit, SVDQuant)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"schnellmode_v3.3_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},builtin_lora:!0},{name:"SD3 Large 3.5",version:"sd3_large",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,file:"sd3_large_3.5_q8p.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}}},{name:"SD3 Large 3.5 (6-bit)",version:"sd3_large",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,file:"sd3_large_3.5_q6p.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}}},{name:"SD3 Large 3.5 (Exact)",version:"sd3_large",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,file:"sd3_large_3.5_f16.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}}},{name:"SD3 Large Turbo 3.5",version:"sd3_large",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,file:"sd3_large_turbo_3.5_q8p.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}},is_consistency_model:!0},{name:"SD3 Large Turbo 3.5 (6-bit)",version:"sd3_large",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,file:"sd3_large_turbo_3.5_q6p.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}},is_consistency_model:!0},{name:"SD3 Medium",version:"sd3",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,file:"sd3_medium_f16.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}}},{name:"SD3 Medium (8-bit)",version:"sd3",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,file:"sd3_medium_q8p.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}}},{name:"SD3 Medium 3.5",version:"sd3",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,hires_fix_scale:32,file:"sd3_medium_3.5_f16.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}},mmdit:{qk_norm:!0,dual_attention_layers:[0,1,2,3,4,5,6,7,8,9,10,11,12]}},{name:"SD3 Medium 3.5 (8-bit)",version:"sd3",autoencoder:"sd3_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",t5_encoder:"t5_xxl_encoder_q6p.ckpt",prefix:"",default_scale:16,hires_fix_scale:32,file:"sd3_medium_3.5_q8p.ckpt",upcast_attention:!1,text_encoder:"open_clip_vit_bigg14_f16.ckpt",objective:{u:{condition_scale:1e3}},mmdit:{qk_norm:!0,dual_attention_layers:[0,1,2,3,4,5,6,7,8,9,10,11,12]}},{name:"SDXL Base (v0.9)",file:"sd_xl_base_0.9_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_f16.ckpt",deprecated:!0,clipEncoder:"clip_vit_l14_f16.ckpt"},{name:"SDXL Base (v1.0)",file:"sd_xl_base_1.0_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clipEncoder:"clip_vit_l14_f16.ckpt"},{name:"SDXL Base v1.0 (8-bit)",file:"sd_xl_base_1.0_q6p_q8p.ckpt",prefix:"",version:"sdxl_base_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clipEncoder:"clip_vit_l14_f16.ckpt"},{name:"SDXL Refiner (v0.9)",file:"sd_xl_refiner_0.9_f16.ckpt",prefix:"",version:"sdxl_refiner_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_f16.ckpt",deprecated:!0,clipEncoder:"clip_vit_l14_f16.ckpt"},{name:"SDXL Refiner (v1.0)",file:"sd_xl_refiner_1.0_f16.ckpt",prefix:"",version:"sdxl_refiner_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clipEncoder:"clip_vit_l14_f16.ckpt"},{name:"SDXL Refiner v1.0 (8-bit)",file:"sd_xl_refiner_1.0_q6p_q8p.ckpt",prefix:"",version:"sdxl_refiner_v0.9",defaultScale:16,textEncoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clipEncoder:"clip_vit_l14_f16.ckpt"},{name:"SDXL Turbo",prefix:"",default_scale:8,autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",text_encoder:"open_clip_vit_bigg14_f16.ckpt",file:"sd_xl_turbo_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,is_consistency_model:!0},{name:"SDXL Turbo (8-bit)",prefix:"",default_scale:8,autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",text_encoder:"open_clip_vit_bigg14_f16.ckpt",file:"sd_xl_turbo_q6p_q8p.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,is_consistency_model:!0},{text_encoder:"seek_art_mega_v1_clip_vit_l14_f16.ckpt",upcast_attention:!1,name:"seek.art MEGA (v1)",version:"v1",file:"seek_art_mega_v1_f16.ckpt",default_scale:10,prefix:""},{name:"Shuttle Jaguar",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"shuttle_jaguar_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}}},{name:"Shuttle Jaguar (5-bit, SVDQuant)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"shuttle_jaguar_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},builtin_lora:!0},{name:"Shuttle v3.1 Aesthetic",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"shuttle_v3.1_aesthetic_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}}},{name:"Shuttle v3.1 Aesthetic (5-bit, SVDQuant)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"shuttle_v3.1_aesthetic_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,is_consistency_model:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},builtin_lora:!0},{name:"SkyReels v1 Hunyuan I2V 544p",version:"hunyuan_video",autoencoder:"hunyuan_video_vae_f16.ckpt",prefix:"FPS-24, ",default_scale:12,hires_fix_scale:24,file:"skyreels_v1_hunyuan_i2v_q8p.ckpt",upcast_attention:!1,text_encoder:"llava_llama_3_8b_v1.1_q8p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!1,modifier:"inpainting",guidance_embed:!0,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[733.226126,-401.131952,67.5869174,-3.149878,.0961237896],note:'[SkyReels v1](https://huggingface.co/collections/Skywork/skyreels-v1-67b34676ff65b4ec02d16307) is a significant fine-tune of Hunyuan Video, Tencent\u2019s state-of-the-art text-to-video model. SkyReels v1 I2V is an image-to-video (img2vid) fine-tune that generates video clips up to 4 seconds long from a single image. The model supports up to 97 frames, with a recommended shift value of 7.0 or higher. For optimal results, disable "Speedup w/ Guidance Embed" by setting it to 1.0 and use a Text Guidance value of 6.'},{name:"SkyReels v1 Hunyuan I2V 544p (5-bit, SVDQuant)",version:"hunyuan_video",autoencoder:"hunyuan_video_vae_f16.ckpt",prefix:"FPS-24, ",default_scale:12,hires_fix_scale:24,file:"skyreels_v1_hunyuan_i2v_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"llava_llama_3_8b_v1.1_q8p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!1,modifier:"inpainting",guidance_embed:!0,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[733.226126,-401.131952,67.5869174,-3.149878,.0961237896],note:'[SkyReels v1](https://huggingface.co/collections/Skywork/skyreels-v1-67b34676ff65b4ec02d16307) is a significant fine-tune of Hunyuan Video, Tencent\u2019s state-of-the-art text-to-video model. SkyReels v1 I2V is an image-to-video (img2vid) fine-tune that generates video clips up to 4 seconds long from a single image. The model supports up to 97 frames, with a recommended shift value of 7.0 or higher. For optimal results, disable "Speedup w/ Guidance Embed" by setting it to 1.0 and use a Text Guidance value of 6.',builtin_lora:!0},{name:"SkyReels v1 Hunyuan T2V 544p",version:"hunyuan_video",autoencoder:"hunyuan_video_vae_f16.ckpt",prefix:"FPS-24, ",default_scale:12,hires_fix_scale:24,file:"skyreels_v1_hunyuan_t2v_q8p.ckpt",upcast_attention:!1,text_encoder:"llava_llama_3_8b_v1.1_q8p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!1,guidance_embed:!0,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[733.226126,-401.131952,67.5869174,-3.149878,.0961237896],note:'[SkyReels v1](https://huggingface.co/collections/Skywork/skyreels-v1-67b34676ff65b4ec02d16307) is a significant fine-tune of Hunyuan Video, Tencent\u2019s state-of-the-art text-to-video model. It can generate video clips up to 4 seconds long at a recommended resolution of 960\xD7544. The model supports up to 97 frames, with a recommended shift value of 7.0 or higher. For optimal results, disable "Speedup w/ Guidance Embed" by setting it to 1.0 and use a Text Guidance value of 6.'},{name:"SkyReels v1 Hunyuan T2V 544p (5-bit, SVDQuant)",version:"hunyuan_video",autoencoder:"hunyuan_video_vae_f16.ckpt",prefix:"FPS-24, ",default_scale:12,hires_fix_scale:24,file:"skyreels_v1_hunyuan_t2v_q5p_svd.ckpt",upcast_attention:!1,text_encoder:"llava_llama_3_8b_v1.1_q8p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!1,guidance_embed:!0,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[733.226126,-401.131952,67.5869174,-3.149878,.0961237896],note:'[SkyReels v1](https://huggingface.co/collections/Skywork/skyreels-v1-67b34676ff65b4ec02d16307) is a significant fine-tune of Hunyuan Video, Tencent\u2019s state-of-the-art text-to-video model. It can generate video clips up to 4 seconds long at a recommended resolution of 960\xD7544. The model supports up to 97 frames, with a recommended shift value of 7.0 or higher. For optimal results, disable "Speedup w/ Guidance Embed" by setting it to 1.0 and use a Text Guidance value of 6.',builtin_lora:!0},{name:"SkyReels v2 I2V 1.3B 540p",version:"wan_v2.1_1.3b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:8,hires_fix_scale:12,file:"skyreels_v2_i2v_1.3b_540p_f16.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[SkyReels v2 I2V 1.3B 540p](https://huggingface.co/Skywork/SkyReels-V2-I2V-1.3B-540P) is a image-to-video model developed by Skywork AI. It can generate video clips of up to 4 seconds in length. The model is trained at 544x960, supports up to 97 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (1.3B), it performs best with similar generation settings."},{name:"SkyReels v2 I2V 1.3B 540p (8-bit)",version:"wan_v2.1_1.3b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:8,hires_fix_scale:12,file:"skyreels_v2_i2v_1.3b_540p_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[SkyReels v2 I2V 1.3B 540p](https://huggingface.co/Skywork/SkyReels-V2-I2V-1.3B-540P) is a image-to-video model developed by Skywork AI. It can generate video clips of up to 4 seconds in length. The model is trained at 544x960, supports up to 97 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (1.3B), it performs best with similar generation settings."},{name:"SkyReels v2 I2V 14B 540p",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_i2v_14b_540p_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[SkyReels v2 I2V 14B 540p](https://huggingface.co/Skywork/SkyReels-V2-I2V-14B-540P) is a image-to-video model developed by Skywork AI. It can generate video clips of up to 4 seconds in length. The model is trained at 544x960, supports up to 97 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings."},{name:"SkyReels v2 I2V 14B 540p (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_i2v_14b_540p_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],note:"[SkyReels v2 I2V 14B 540p](https://huggingface.co/Skywork/SkyReels-V2-I2V-14B-540P) is a image-to-video model developed by Skywork AI. It can generate video clips of up to 4 seconds in length. The model is trained at 544x960, supports up to 97 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings.",builtin_lora:!0},{name:"SkyReels v2 I2V 14B 720p",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_i2v_14b_720p_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[SkyReels v2 I2V 14B 720p](https://huggingface.co/Skywork/SkyReels-V2-I2V-14B-720P) is a image-to-video model developed by Skywork AI. It can generate video clips of up to 5 seconds in length. The model is trained at 720x1280, supports up to 121 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings."},{name:"SkyReels v2 I2V 14B 720p (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_i2v_14b_720p_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[SkyReels v2 I2V 14B 720p](https://huggingface.co/Skywork/SkyReels-V2-I2V-14B-720P) is a image-to-video model developed by Skywork AI. It can generate video clips of up to 5 seconds in length. The model is trained at 720x1280, supports up to 121 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings.",builtin_lora:!0},{name:"SkyReels v2 T2V 14B 540p",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_t2v_14b_540p_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[SkyReels v2 T2V 14B 540p](https://huggingface.co/Skywork/SkyReels-V2-T2V-14B-540P) is a text-to-video model developed by Skywork AI. It can generate video clips of up to 4 seconds in length. The model is trained at 544x960, supports up to 97 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings."},{name:"SkyReels v2 T2V 14B 540p (6-bit, SVDQuant)",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_t2v_14b_540p_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[SkyReels v2 T2V 14B 540p](https://huggingface.co/Skywork/SkyReels-V2-T2V-14B-540P) is a text-to-video model developed by Skywork AI. It can generate video clips of up to 4 seconds in length. The model is trained at 544x960, supports up to 97 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings.",builtin_lora:!0},{name:"SkyReels v2 T2V 14B 720p",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_t2v_14b_720p_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[SkyReels v2 T2V 14B 720p](https://huggingface.co/Skywork/SkyReels-V2-T2V-14B-720P) is a text-to-video model developed by Skywork AI. It can generate video clips of up to 5 seconds in length. The model is trained at 720x1280, supports up to 121 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings."},{name:"SkyReels v2 T2V 14B 720p (6-bit, SVDQuant)",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"skyreels_v2_t2v_14b_720p_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:24,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[SkyReels v2 T2V 14B 720p](https://huggingface.co/Skywork/SkyReels-V2-T2V-14B-720P) is a text-to-video model developed by Skywork AI. It can generate video clips of up to 5 seconds in length. The model is trained at 720x1280, supports up to 121 frames, with a recommended shift value of 5.0. As a derivative of Wan 2.1 (14B), it performs best with similar generation settings.",builtin_lora:!0},{name:"Spider-Verse (v1)",version:"v1",text_encoder:"spiderverse_v1_clip_vit_l14_f16.ckpt",upcast_attention:!1,default_scale:8,file:"spiderverse_v1_f16.ckpt",prefix:"spiderverse style "},{text_encoder:"open_clip_vit_bigg14_f16.ckpt",prefix:"",file:"ssd_1b_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",version:"ssd_1b",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,name:"SSD 1B (Segmind SDXL)",default_scale:16},{text_encoder:"open_clip_vit_bigg14_f16.ckpt",prefix:"",file:"ssd_1b_q6p_q8p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",version:"ssd_1b",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,name:"SSD 1B (Segmind SDXL) (8-bit)",default_scale:16},{name:"Stable Cascade (W\xFCrstchen v3.0)",stage_models:["wurstchen_3.0_stage_b_f16.ckpt"],version:"wurstchen_v3.0_stage_c",default_scale:16,file:"wurstchen_3.0_stage_c_f32_f16.ckpt",text_encoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"wurstchen_3.0_stage_a_hq_f16.ckpt",upcast_attention:!1,prefix:""},{name:"Stable Cascade (W\xFCrstchen v3.0) (8-bit)",stage_models:["wurstchen_3.0_stage_b_q6p_q8p.ckpt"],version:"wurstchen_v3.0_stage_c",default_scale:16,file:"wurstchen_3.0_stage_c_f32_q6p_q8p.ckpt",text_encoder:"open_clip_vit_bigg14_f16.ckpt",autoencoder:"wurstchen_3.0_stage_a_hq_f16.ckpt",upcast_attention:!1,prefix:""},{name:"Stable Diffusion v1.4",file:"sd_v1.4_f16.ckpt",prefix:"",version:"v1",deprecated:!0},{name:"Stable Diffusion v1.5",file:"sd_v1.5_f16.ckpt",prefix:"",version:"v1"},{name:"Stable Diffusion v1.5 Inpainting",file:"sd_v1.5_inpainting_f16.ckpt",prefix:"",version:"v1",modifier:"inpainting"},{name:"Stable Diffusion v2.0",file:"sd_v2.0_f16.ckpt",prefix:"",version:"v2",textEncoder:"open_clip_vit_h14_f16.ckpt",deprecated:!0},{name:"Stable Diffusion v2.0 768-v",file:"sd_v2.0_768_v_f16.ckpt",prefix:"",version:"v2",defaultScale:12,textEncoder:"open_clip_vit_h14_f16.ckpt",deprecated:!0},{name:"Stable Diffusion v2.0 Depth",file:"sd_v2.0_depth_f16.ckpt",prefix:"",version:"v2",textEncoder:"open_clip_vit_h14_f16.ckpt",modifier:"depth"},{name:"Stable Diffusion v2.0 Inpainting",file:"sd_v2.0_inpainting_f16.ckpt",prefix:"",version:"v2",textEncoder:"open_clip_vit_h14_f16.ckpt",modifier:"inpainting"},{name:"Stable Diffusion v2.1",file:"sd_v2.1_f16.ckpt",prefix:"",version:"v2",textEncoder:"open_clip_vit_h14_f16.ckpt"},{name:"Stable Diffusion v2.1 768-v",file:"sd_v2.1_768_v_f16.ckpt",prefix:"",version:"v2",upcastAttention:!0,defaultScale:12,textEncoder:"open_clip_vit_h14_f16.ckpt"},{file:"svd_i2v_1.0_f16.ckpt",version:"svd_i2v",conditioning:"noise",objective:{v:{}},prefix:"",default_scale:8,clip_encoder:"svd_i2v_1.0_f16.ckpt",name:"Stable Video Diffusion I2V v1.0",text_encoder:"open_clip_vit_h14_vision_model_f16.ckpt",upcast_attention:!1,modifier:"none",noise_discretization:{edm:{_0:{sigma_max:700,sigma_data:.5,sigma_min:.002}}}},{file:"svd_i2v_1.0_q6p_q8p.ckpt",version:"svd_i2v",conditioning:"noise",objective:{v:{}},prefix:"",default_scale:8,clip_encoder:"svd_i2v_1.0_q6p_q8p.ckpt",name:"Stable Video Diffusion I2V v1.0 (8-bit)",text_encoder:"open_clip_vit_h14_vision_model_f16.ckpt",upcast_attention:!1,modifier:"none",noise_discretization:{edm:{_0:{sigma_max:700,sigma_data:.5,sigma_min:.002}}}},{name:"Stable Video Diffusion I2V XT 1.0 (8-bit)",file:"svd_i2v_xt_1.0_q6p_q8p.ckpt",prefix:"",version:"svd_i2v",defaultScale:8,textEncoder:"open_clip_vit_h14_vision_model_f16.ckpt",deprecated:!0,clipEncoder:"svd_i2v_xt_1.0_q6p_q8p.ckpt"},{name:"Stable Video Diffusion I2V XT v1.0",file:"svd_i2v_xt_1.0_f16.ckpt",prefix:"",version:"svd_i2v",defaultScale:8,textEncoder:"open_clip_vit_h14_vision_model_f16.ckpt",deprecated:!0,clipEncoder:"svd_i2v_xt_1.0_f16.ckpt"},{file:"svd_i2v_xt_1.1_f16.ckpt",version:"svd_i2v",conditioning:"noise",objective:{v:{}},prefix:"",default_scale:8,clip_encoder:"svd_i2v_xt_1.1_f16.ckpt",name:"Stable Video Diffusion I2V XT v1.1",text_encoder:"open_clip_vit_h14_vision_model_f16.ckpt",upcast_attention:!1,modifier:"none",noise_discretization:{edm:{_0:{sigma_max:700,sigma_data:.5,sigma_min:.002}}}},{file:"svd_i2v_xt_1.1_q6p_q8p.ckpt",version:"svd_i2v",conditioning:"noise",objective:{v:{}},prefix:"",default_scale:8,clip_encoder:"svd_i2v_xt_1.1_q6p_q8p.ckpt",name:"Stable Video Diffusion I2V XT v1.1 (8-bit)",text_encoder:"open_clip_vit_h14_vision_model_f16.ckpt",upcast_attention:!1,modifier:"none",noise_discretization:{edm:{_0:{sigma_max:700,sigma_data:.5,sigma_min:.002}}}},{name:"Super Mario Nation (v2)",default_scale:8,text_encoder:"supermarionation_v2_clip_vit_l14_f16.ckpt",file:"supermarionation_v2_f16.ckpt",prefix:"supermarionation ",version:"v1",upcast_attention:!1},{version:"v1",prefix:"trnlgcy style ",upcast_attention:!1,default_scale:8,text_encoder:"trnlgcy_clip_vit_l14_f16.ckpt",name:"Tron Legacy",file:"trnlgcy_f16.ckpt"},{name:"Van Gogh Style (Lvngvncnt v2)",version:"v1",text_encoder:"lvngvncnt_v2_clip_vit_l14_f16.ckpt",upcast_attention:!1,default_scale:8,file:"lvngvncnt_v2_f16.ckpt",prefix:"lvngvncnt "},{name:"VoxelArt (v1)",upcast_attention:!1,version:"v1",file:"voxelart_v1_f16.ckpt",prefix:"voxelart ",default_scale:8,text_encoder:"voxelart_v1_clip_vit_l14_f16.ckpt"},{name:"Wan 2.1 1.3B Fun InP",version:"wan_v2.1_1.3b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:8,hires_fix_scale:12,file:"wan_2.1_1.3b_fun_inp_f16.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-52186.2437,9230.41404,-528.275948,13.6987616,-.0499875664],note:"[Wan2.1 1.3B Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-1.3B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result."},{name:"Wan 2.1 1.3B Fun InP (8-bit)",version:"wan_v2.1_1.3b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:8,hires_fix_scale:12,file:"wan_2.1_1.3b_fun_inp_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-52186.2437,9230.41404,-528.275948,13.6987616,-.0499875664],note:"[Wan2.1 1.3B Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-1.3B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result."},{name:"Wan 2.1 1.3B v1.1 Fun InP",version:"wan_v2.1_1.3b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:8,hires_fix_scale:12,file:"wan_2.1_1.3b_v1.1_fun_inp_f16.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-52186.2437,9230.41404,-528.275948,13.6987616,-.0499875664],note:"[Wan2.1 1.3B v1.1 Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-V1.1-1.3B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result."},{name:"Wan 2.1 1.3B v1.1 Fun InP (8-bit)",version:"wan_v2.1_1.3b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:8,hires_fix_scale:12,file:"wan_2.1_1.3b_v1.1_fun_inp_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-52186.2437,9230.41404,-528.275948,13.6987616,-.0499875664],note:"[Wan2.1 1.3B v1.1 Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-V1.1-1.3B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result."},{name:"Wan 2.1 14B Fun InP",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_fun_inp_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[Wan2.1 14B Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-14B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result."},{name:"Wan 2.1 14B Fun InP (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_fun_inp_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[Wan2.1 14B Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-14B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result.",builtin_lora:!0},{name:"Wan 2.1 14B I2V FusionX",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_i2v_fusionx_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[Wan2.1 14B FusionX](https://huggingface.co/vrgamedevgirl84/Wan14BT2VFusioniX) is a merged model of multiple quality and acceleration LoRAs."},{name:"Wan 2.1 14B I2V FusionX (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_i2v_fusionx_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[Wan2.1 14B FusionX](https://huggingface.co/vrgamedevgirl84/Wan14BT2VFusioniX) is a merged model of multiple quality and acceleration LoRAs.",builtin_lora:!0},{name:"Wan 2.1 14B T2V FusionX",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_t2v_fusionx_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[Wan2.1 14B FusionX](https://huggingface.co/vrgamedevgirl84/Wan14BT2VFusioniX) is a merged model of multiple quality and acceleration LoRAs."},{name:"Wan 2.1 14B T2V FusionX (6-bit, SVDQuant)",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_t2v_fusionx_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[Wan2.1 14B FusionX](https://huggingface.co/vrgamedevgirl84/Wan14BT2VFusioniX) is a merged model of multiple quality and acceleration LoRAs.",builtin_lora:!0},{name:"Wan 2.1 14B v1.1 Fun InP",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_v1.1_fun_inp_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[Wan2.1 14B v1.1 Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-V1.1-14B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result."},{name:"Wan 2.1 14B v1.1 Fun InP (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_2.1_14b_v1.1_fun_inp_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[Wan2.1 14B v1.1 Fun InP](https://huggingface.co/alibaba-pai/Wan2.1-Fun-V1.1-14B-InP) is a state-of-the-art image-to-video model developed by Alibaba PAI. It can generate video clips of up to 4 seconds in length. The model is trained at multiple resolutions, supports up to 81 frames, with a recommended shift value of 5.0. Text Guidance should be somewhere between 3 to 7. Wan2.1 is trained with Flow Matching objective, Trailing samplers would give the best result.",builtin_lora:!0},{name:"Wan 2.1 I2V 14B 480p",file:"wan_v2.1_14b_i2v_480p_q8p.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:8,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",clipEncoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",hiresFixScale:12,teaCacheCoefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],framesPerSecond:16,note:"[Wan2.1 I2V 14B 480P](https://huggingface.co/Wan-AI/Wan2.1-I2V-14B-480P) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 832\xD7480. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 I2V 14B 480p (6-bit, SVDQuant)",file:"wan_v2.1_14b_i2v_480p_q6p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:8,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",clipEncoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",hiresFixScale:12,builtinLora:!0,teaCacheCoefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],framesPerSecond:16,note:"[Wan2.1 I2V 14B 480P](https://huggingface.co/Wan-AI/Wan2.1-I2V-14B-480P) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 832\xD7480. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 I2V 14B 720p",file:"wan_v2.1_14b_i2v_720p_q8p.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",clipEncoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",hiresFixScale:16,teaCacheCoefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],framesPerSecond:16,note:"[Wan2.1 I2V 14B 720P](https://huggingface.co/Wan-AI/Wan2.1-I2V-14B-720P) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 I2V 14B 720p (6-bit, SVDQuant)",file:"wan_v2.1_14b_i2v_720p_q6p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",clipEncoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",hiresFixScale:16,builtinLora:!0,teaCacheCoefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],framesPerSecond:16,note:"[Wan2.1 I2V 14B 720P](https://huggingface.co/Wan-AI/Wan2.1-I2V-14B-720P) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 T2V 1.3B",file:"wan_v2.1_1.3b_480p_f16.ckpt",prefix:"",version:"wan_v2.1_1.3b",defaultScale:8,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:12,teaCacheCoefficients:[-52186.2437,9230.41404,-528.275948,13.6987616,-.0499875664],framesPerSecond:16,note:"[Wan2.1 T2V 1.3B](https://huggingface.co/Wan-AI/Wan2.1-T2V-1.3B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 832\xD7480. The model supports up to 81 frames, with a recommended shift value of 6.0. For best results, set Text Guidance above 5.0. Wan2.1 is trained with a Flow Matching objective, and trailing samplers will produce the best outputs.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 T2V 1.3B (8-bit)",file:"wan_v2.1_1.3b_480p_q8p.ckpt",prefix:"",version:"wan_v2.1_1.3b",defaultScale:8,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:12,teaCacheCoefficients:[-52186.2437,9230.41404,-528.275948,13.6987616,-.0499875664],framesPerSecond:16,note:"[Wan2.1 T2V 1.3B](https://huggingface.co/Wan-AI/Wan2.1-T2V-1.3B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 832\xD7480. The model supports up to 81 frames, with a recommended shift value of 6.0. For best results, set Text Guidance above 5.0. Wan2.1 is trained with a Flow Matching objective, and trailing samplers will produce the best outputs.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 T2V 14B",file:"wan_v2.1_14b_720p_q8p.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:16,teaCacheCoefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],framesPerSecond:16,note:"[Wan2.1 T2V 14B](https://huggingface.co/Wan-AI/Wan2.1-T2V-14B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The recommended resolutions are 832\xD7480. The model supports up to 81 frames, with a recommended shift value of 5.0. For best results, set Text Guidance above 5.0. Wan2.1 is trained with a Flow Matching objective, and trailing samplers will produce the best outputs.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 T2V 14B (5-bit, SVDQuant)",file:"wan_v2.1_14b_720p_q5p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",deprecated:!0,hiresFixScale:16,builtinLora:!0,teaCacheCoefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],framesPerSecond:16,note:"[Wan2.1 T2V 14B](https://huggingface.co/Wan-AI/Wan2.1-T2V-14B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.1 T2V 14B (6-bit, SVDQuant)",file:"wan_v2.1_14b_720p_q6p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:16,builtinLora:!0,teaCacheCoefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],framesPerSecond:16,note:"[Wan2.1 T2V 14B](https://huggingface.co/Wan-AI/Wan2.1-T2V-14B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 High Noise Expert I2V A14B",file:"wan_v2.2_a14b_hne_i2v_q8p.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",hiresFixScale:16,teaCacheCoefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],framesPerSecond:16,note:"[Wan2.2 I2V A14B](https://huggingface.co/Wan-AI/Wan2.2-I2V-A14B) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 High Noise Expert I2V A14B (6-bit, SVDQuant)",file:"wan_v2.2_a14b_hne_i2v_q6p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",hiresFixScale:16,builtinLora:!0,teaCacheCoefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],framesPerSecond:16,note:"[Wan2.2 I2V A14B](https://huggingface.co/Wan-AI/Wan2.2-I2V-A14B) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 High Noise Expert T2V A14B",file:"wan_v2.2_a14b_hne_t2v_q8p.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:16,teaCacheCoefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],framesPerSecond:16,note:"[Wan2.2 T2V A14B](https://huggingface.co/Wan-AI/Wan2.2-T2V-A14B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 High Noise Expert T2V A14B (6-bit, SVDQuant)",file:"wan_v2.2_a14b_hne_t2v_q6p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:16,builtinLora:!0,teaCacheCoefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],framesPerSecond:16,note:"[Wan2.2 T2V A14B](https://huggingface.co/Wan-AI/Wan2.2-T2V-A14B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 Low Noise Expert I2V A14B",file:"wan_v2.2_a14b_lne_i2v_q8p.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",hiresFixScale:16,teaCacheCoefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],framesPerSecond:16,note:"[Wan2.2 I2V A14B](https://huggingface.co/Wan-AI/Wan2.2-I2V-A14B) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 Low Noise Expert I2V A14B (6-bit, SVDQuant)",file:"wan_v2.2_a14b_lne_i2v_q6p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",modifier:"inpainting",hiresFixScale:16,builtinLora:!0,teaCacheCoefficients:[257151.496,-35422.9917,1402.86849,-13.5890334,.132517977],framesPerSecond:16,note:"[Wan2.2 I2V A14B](https://huggingface.co/Wan-AI/Wan2.2-I2V-A14B) is a state-of-the-art image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length from a given start frame. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 Low Noise Expert T2V A14B",file:"wan_v2.2_a14b_lne_t2v_q8p.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:16,teaCacheCoefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],framesPerSecond:16,note:"[Wan2.2 T2V A14B](https://huggingface.co/Wan-AI/Wan2.2-T2V-A14B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 Low Noise Expert T2V A14B (6-bit, SVDQuant)",file:"wan_v2.2_a14b_lne_t2v_q6p_svd.ckpt",prefix:"",version:"wan_v2.1_14b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.1_video_vae_f16.ckpt",hiresFixScale:16,builtinLora:!0,teaCacheCoefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],framesPerSecond:16,note:"[Wan2.2 T2V A14B](https://huggingface.co/Wan-AI/Wan2.2-T2V-A14B) is a state-of-the-art text-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 81 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 TI2V 5B",file:"wan_v2.2_5b_ti2v_f16.ckpt",prefix:"",version:"wan_v2.2_5b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.2_video_vae_f16.ckpt",hiresFixScale:16,teaCacheCoefficients:null,framesPerSecond:24,note:"[Wan2.2 TI2V 5B](https://huggingface.co/Wan-AI/Wan2.2-TI2V-5B) is a state-of-the-art text-image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 121 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan 2.2 TI2V 5B (8-bit)",file:"wan_v2.2_5b_ti2v_q8p.ckpt",prefix:"",version:"wan_v2.2_5b",defaultScale:12,textEncoder:"umt5_xxl_encoder_q8p.ckpt",autoencoder:"wan_v2.2_video_vae_f16.ckpt",hiresFixScale:16,teaCacheCoefficients:null,framesPerSecond:24,note:"[Wan2.2 TI2V 5B](https://huggingface.co/Wan-AI/Wan2.2-TI2V-5B) is a state-of-the-art text-image-to-video model developed by Alibaba. It can generate video clips of up to 4 seconds in length. The recommended resolutions are 1280\xD7720. The model supports up to 121 frames, with a recommended shift value of 5.0.",copyright:"\xA9 2025 Alibaba"},{name:"Wan v2.2 High Noise Expert T2V A14B Lightning 250928",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_v2.2_a14b_hne_t2v_lightning_250928_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[Wan2.2 High Noise Expert T2V A14B Lightning 250928](https://huggingface.co/lightx2v/Wan2.2-Lightning/tree/main/Wan2.2-T2V-A14B-4steps-250928-dyno) is a fine-tune of Wan v2.2 High Noise Expert model. It can generate more dynamic motions with 4 steps and text guidance 1.0."},{name:"Wan v2.2 High Noise Expert T2V A14B Lightning 250928 (6-bit, SVDQuant)",version:"wan_v2.1_14b",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"wan_v2.2_a14b_hne_t2v_lightning_250928_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[-303318.725,49053.7029,-2655.30556,58.7365115,-.315583525],note:"[Wan2.2 High Noise Expert T2V A14B Lightning 250928](https://huggingface.co/lightx2v/Wan2.2-Lightning/tree/main/Wan2.2-T2V-A14B-4steps-250928-dyno) is a fine-tune of Wan v2.2 High Noise Expert model. It can generate more dynamic motions with 4 steps and text guidance 1.0.",builtin_lora:!0}]});var Ao={};Ze(Ao,{default:()=>sa});var sa,Oo=Je(()=>{sa=[{upcast_attention:!1,clip_encoder:"2dn_clip_vit_l14_f16.ckpt",modifier:"none",version:"sdxl_base_v0.9",name:"2DN",text_encoder:"2dn_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",file:"2dn_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1693152_8stepscrearthyperflux_creartultimate_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"8Steps_Creart_Hyper_Flux_creart_Ultimate",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"862930_8stepscrearthyperflux_v24hyperdevfp8unet_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"8Steps_Creart_Hyper_Flux_v24Hyper_Dev_Fp8Unet",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"930403_8stepscrearthyperflux_v26hyperdevfp8unet_f16.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"8Steps_Creart_Hyper_Flux_v26Hyper_Dev_Fp8Unet",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"930403_8stepscrearthyperflux_v26hyperdevfp8unet_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"8Steps_Creart_Hyper_Flux_v26Hyper_Dev_Fp8Unet",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1187144_8stepscrearthyperflux_v30hyperdevfp8unet_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"8Steps_Creart_Hyper_Flux_v30Hyper_Dev_Fp8Unet",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1315145_8stepscrearthyperflux_v40hyperdevfp8unet_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"8Steps_Creart_Hyper_Flux_v40Hyper_Dev_Fp8Unet",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"987485_acornisspinningflux_aisfluxdedistilled_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Acorn_Is_Spinning_FLUX_ais_Flux_De_Distilled",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1374658_acornisspinningflux_aisfluxv15_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Acorn_Is_Spinning_FLUX_ais_Flux_V15",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1450688_acornisspinningflux_aisfdedistilledv15_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Acorn_Is_Spinning_FLUX_aisf_De_Distilled_V15",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1298942_acornisspinningflux_aisfhyper8stepv15_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Acorn_Is_Spinning_FLUX_aisf_Hyper8Step_V15",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1656743_acornisspinningflux_aisfv169_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Acorn_Is_Spinning_FLUX_aisf_V169",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1052470_acornisspinningflux_aisf11h8stpchinfx_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Acorn_Is_Spinning_FLUX_aisf11H8stp_Chinfx",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1095910_agfluxfillnsfwfp8_agfluxfillnsfwv17fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"inpainting",name:"Agflux_Fill_NSFWFp8_agflux_Fill_NSFWV17Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"884843_agflux_schnellv10fp8_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Agflux_Schnell_V10Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"864441_agflux_v10fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Agflux_V10Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1055211_agflux_v21fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Agflux_V21Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1244250_agflux_v3fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Agflux_V3Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"agga_s_utopia__illustrious_sdxl_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,text_encoder:"agga_s_utopia__illustrious_sdxl_open_clip_vit_bigg14_f16.ckpt",default_scale:16,name:"AGGAs-Utopia-_illustrious-SDXL",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",modifier:"none",clip_encoder:"agga_s_utopia__illustrious_sdxl_clip_vit_l14_f16.ckpt"},{file:"amanatsu_illustrious_f16.ckpt",clip_encoder:"amanatsu_illustrious_clip_vit_l14_f16.ckpt",text_encoder:"amanatsu_illustrious_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",upcast_attention:!1,name:"Amanatsu-Illustrious",default_scale:16},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",upcast_attention:!1,modifier:"none",version:"sdxl_base_v0.9",default_scale:16,text_encoder:"anillustrious_open_clip_vit_bigg14_f16.ckpt",name:"Anillustrious",file:"anillustrious_f16.ckpt",clip_encoder:"anillustrious_clip_vit_l14_f16.ckpt"},{modifier:"none",text_encoder:"animij_open_clip_vit_bigg14_f16.ckpt",default_scale:16,file:"animij_f16.ckpt",prefix:"",name:"Animij",clip_encoder:"animij_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1},{name:"AniSora v2 I2V Wan 2.1 14B",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v2_i2v_wan_2.1_14b_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[AniSora v2](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation."},{name:"AniSora v2 I2V Wan 2.1 14B (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v2_i2v_wan_2.1_14b_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[AniSora v2](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation.",builtin_lora:!0},{name:"AniSora v3.1 I2V Wan 2.1 14B",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v3.1_i2v_wan_2.1_14b_q8p.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[AniSora v3.1](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation."},{name:"AniSora v3.1 I2V Wan 2.1 14B (6-bit, SVDQuant)",version:"wan_v2.1_14b",modifier:"inpainting",autoencoder:"wan_v2.1_video_vae_f16.ckpt",prefix:"",default_scale:12,hires_fix_scale:16,file:"anisora_v3.1_i2v_wan_2.1_14b_q6p_svd.ckpt",upcast_attention:!1,text_encoder:"umt5_xxl_encoder_q8p.ckpt",clip_encoder:"open_clip_xlm_roberta_large_vit_h14_f16.ckpt",high_precision_autoencoder:!1,objective:{u:{condition_scale:1e3}},frames_per_second:16,tea_cache_coefficients:[8107.0546,2133.93892,-372.934672,16.6203073,-.0417769401],note:"[AniSora v3.1](https://huggingface.co/IndexTeam/Index-anisora) is a state-of-the-art image-to-video model fine-tuned by Bilibili for anime generation.",builtin_lora:!0},{text_encoder:"artofura_furry_mix_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",file:"artofura_furry_mix_f16.ckpt",modifier:"none",clip_encoder:"artofura_furry_mix_clip_vit_l14_f16.ckpt",prefix:"",name:"Artofura-Furry-mix",default_scale:16,version:"sdxl_base_v0.9",upcast_attention:!1},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"974825_artsydream_v1fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v1FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"974932_artsydream_v1fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v1FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1004320_artsydream_v2fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v2FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1004235_artsydream_v2fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v2FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1023964_artsydream_v3fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v3FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1023471_artsydream_v3fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v3FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1071391_artsydream_v4fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v4FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1070930_artsydream_v4fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v4FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1136806_artsydream_v5fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v5FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1136364_artsydream_v5fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v5FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1213649_artsydream_v6fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v6FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1213097_artsydream_v6fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Dream_v6FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1308807_artsyvibe_v1fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Vibe_v1FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1308180_artsyvibe_v1fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Vibe_v1FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1842885_artsyvibe_v2fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Vibe_v2FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1840540_artsyvibe_v2fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Artsy_Vibe_v2FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"asian_realism_by_stable_yogi_pony_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",text_encoder:"asian_realism_by_stable_yogi_pony_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"asian_realism_by_stable_yogi_pony_clip_vit_l14_f16.ckpt",prefix:"",name:"Asian-Realism-By-Stable-Yogi-PONY",version:"sdxl_base_v0.9",upcast_attention:!1},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"980131_atomixfluxunet_v10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Atomix_FLUXUnet_v10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"aungir_aungir_t6a4_1405004_f16.ckpt",prefix:"",name:"Aungir_Aungir_T6A4_1405004",modifier:"none",clip_encoder:"aungir_aungir_t6a4_1405004_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,text_encoder:"aungir_aungir_t6a4_1405004_open_clip_vit_bigg14_f16.ckpt"},{upcast_attention:!1,prefix:"",file:"aungir_aungir_t6ao4.5_1723632_f16.ckpt",clip_encoder:"aungir_aungir_t6ao4.5_1723632_clip_vit_l14_f16.ckpt",text_encoder:"aungir_aungir_t6ao4.5_1723632_open_clip_vit_bigg14_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Aungir_Aungir_T6AO4.5_1723632",modifier:"none",version:"sdxl_base_v0.9"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,text_encoder:"big_love_open_clip_vit_bigg14_f16.ckpt",upcast_attention:!1,modifier:"none",prefix:"",version:"sdxl_base_v0.9",name:"Big-Love",clip_encoder:"big_love_clip_vit_l14_f16.ckpt",file:"big_love_f16.ckpt"},{name:"Bismuth-Illustrious-Mix",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,clip_encoder:"bismuth_illustrious_mix_clip_vit_l14_f16.ckpt",prefix:"",file:"bismuth_illustrious_mix_f16.ckpt",text_encoder:"bismuth_illustrious_mix_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",default_scale:16,modifier:"none"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",clip_encoder:"blendermix_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",default_scale:16,file:"blendermix_f16.ckpt",modifier:"none",text_encoder:"blendermix_open_clip_vit_bigg14_f16.ckpt",name:"BlenderMix",upcast_attention:!1},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"808159_bluepencilflux1_v010_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Blue_Pencil_Flux1_v010",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"867256_bluepencilflux1_v021_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Blue_Pencil_Flux1_v021",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{default_scale:16,prefix:"",name:"boleromixillustrious",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"boleromixillustrious_clip_vit_l14_f16.ckpt",text_encoder:"boleromixillustrious_open_clip_vit_bigg14_f16.ckpt",file:"boleromixillustrious_f16.ckpt",upcast_attention:!1,modifier:"none"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"978066_c4pacitor_av2alpha_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_a_V2Alpha",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1035832_c4pacitor_av2beta_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_a_V2Beta",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"845592_c4pacitor_dv1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_d_V1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"949363_c4pacitor_dv11_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_d_V11",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1123235_c4pacitor_dv2_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_d_V2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1700674_c4pacitor_dv3alpha_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_d_V3Alpha",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"954181_c4pacitor_sv11_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_s_V11",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1086868_c4pacitor_sv2alpha_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"C4pacitor_s_V2Alpha",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{version:"sdxl_base_v0.9",default_scale:16,modifier:"none",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",name:"Candied-Anime-IllustriousXL",upcast_attention:!1,clip_encoder:"candied_anime_illustriousxl_clip_vit_l14_f16.ckpt",file:"candied_anime_illustriousxl_f16.ckpt",text_encoder:"candied_anime_illustriousxl_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1178183_centerfoldflux_v35fp8e54steps_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Centerfold_Flux_v35FP8E54Steps",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1845222_centerfoldflux_v40fp8e5m2_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Centerfold_Flux_v40Fp8E5m2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{name:"Chroma v38 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v38_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v38 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v38_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v39 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v39_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v39 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v39_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v40 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v40_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v40 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v40_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v41 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v41_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v41 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v41_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v42 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v42_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v42 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v42_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v43 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v43_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v43 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v43_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v44 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v44_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v44 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v44_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v45 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v45_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v45 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v45_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v46 Detail Calibrated",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v46_detail_calibrated_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma v46 Detail Calibrated (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_v46_detail_calibrated_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma](https://huggingface.co/lodestones/Chroma)."},{name:"Chroma1 HD Annealed",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_1_hd_annealed_q8p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma1 HD](https://huggingface.co/lodestones/Chroma1-HD)."},{name:"Chroma1 HD Annealed (5-bit)",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,file:"chroma_1_hd_annealed_q5p.ckpt",upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,padded_text_encoding_length:256,objective:{u:{condition_scale:1e3}},mmdit:{dual_attention_layers:[],distilled_guidance_layers:5,qk_norm:!0},note:"See more about [Chroma1 HD](https://huggingface.co/lodestones/Chroma1-HD)."},{default_scale:16,prefix:"",upcast_attention:!1,version:"sdxl_base_v0.9",file:"circusmix_f16.ckpt",text_encoder:"circusmix_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"circusmix_clip_vit_l14_f16.ckpt",name:"CircusMix",modifier:"none"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"765642_colorfulasiangirlflux_beta_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colorfulasiangirl_Flux_beta",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"996001_colossusprojectflux_21dedistilledaioexp_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_21De_Distilled_AIOExp",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1846322_colossusprojectflux_v10aiofp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v10AIOFP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"931988_colossusprojectflux_v10allinonefp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v10All_In_One_Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1860608_colossusprojectflux_v10bfp8aiobobfp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v10b_FP8AIOBOBFP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1851709_colossusprojectflux_v10behemothaiofp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v10Behemoth_AIOFP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"940696_colossusprojectflux_v10fp16unetonly_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v10FP16UNETONLY",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1855312_colossusprojectflux_v10unetonlyfp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v10UNETOnly_FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1848909_colossusprojectflux_v10unetonlyfp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v10UNETOnly_FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"971579_colossusprojectflux_v20allinoneexp_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v20All_In_One_Exp",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1159932_colossusprojectflux_v42aio_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v42AIO",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1495910_colossusprojectflux_v44aio_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v44AIO",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1443922_colossusprojectflux_v50aio_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v50AIO",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1507835_colossusprojectflux_v50aiobehemoth_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v50AIOBehemoth",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1462430_colossusprojectflux_v50fp8unet_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v50FP8UNET",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1703060_colossusprojectflux_v90aio_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Colossus_Project_Flux_v90AIO",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1045901_copaxtimeless_fluxrealfast_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_fluxreal_Fast",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"894590_copaxtimeless_stylemix1fluxdevfp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_stylemix1Flux_Dev_FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"897535_copaxtimeless_stylemix1fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_stylemix1Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"975743_copaxtimeless_stylemix2_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_stylemix2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1338565_copaxtimeless_xpluscartoon_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_Cartoon",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"954640_copaxtimeless_xplusmix1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_MIX1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"962412_copaxtimeless_xplusmix1fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_MIX1FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"982160_copaxtimeless_xplusmix2_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_MIX2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1134093_copaxtimeless_xplusmix3_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_MIX3",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1148473_copaxtimeless_xplusmix3dark_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_MIX3Dark",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1217501_copaxtimeless_xplusmix4_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_MIX4",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"801556_copaxtimeless_xplusposes_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_Poses",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"783956_copaxtimeless_xplusunrealfast_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus_Unreal_Fast",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"778112_copaxtimeless_xplus1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"907183_copaxtimeless_xplus2_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1085190_copaxtimeless_xplus2basetrain_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Copax_Timeless_xplus2Base_Train",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"copax_pony_xl_f16.ckpt",name:"Copax-Pony-XL",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"copax_pony_xl_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",default_scale:16,prefix:"",upcast_attention:!1,text_encoder:"copax_pony_xl_open_clip_vit_bigg14_f16.ckpt"},{text_encoder:"crow___pony_qp_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"crow___pony_qp_clip_vit_l14_f16.ckpt",modifier:"none",name:"Crow-Pony-qp",version:"sdxl_base_v0.9",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",default_scale:16,file:"crow___pony_qp_f16.ckpt"},{prefix:"",text_encoder:"cyberillustrious_cyberrealistic_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",clip_encoder:"cyberillustrious_cyberrealistic_clip_vit_l14_f16.ckpt",upcast_attention:!1,name:"CyberIllustrious-CyberRealistic",file:"cyberillustrious_cyberrealistic_f16.ckpt",default_scale:16},{default_scale:8,upcast_attention:!1,prefix:"",name:"CyberRealistic",text_encoder:"cyberrealistic_clip_vit_l14_f16.ckpt",version:"v1",file:"cyberrealistic_f16.ckpt",modifier:"none"},{name:"CyberRealistic Flux v2.5",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861],file:"cyberrealistic_flux_v2.5_f16.ckpt",modifier:"none"},{name:"CyberRealistic Flux v2.5",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861],file:"cyberrealistic_flux_v2.5_q8p.ckpt",modifier:"none"},{name:"CyberRealistic_Pony_v8_1346181",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"cyberrealistic_pony_v8_1346181_open_clip_vit_bigg14_f16.ckpt",modifier:"none",file:"cyberrealistic_pony_v8_1346181_f16.ckpt",prefix:"",clip_encoder:"cyberrealistic_pony_v8_1346181_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",default_scale:16},{file:"cyberrealistic_pony_v8.5_1478064_f16.ckpt",prefix:"",upcast_attention:!1,version:"sdxl_base_v0.9",text_encoder:"cyberrealistic_pony_v8.5_1478064_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",default_scale:16,clip_encoder:"cyberrealistic_pony_v8.5_1478064_clip_vit_l14_f16.ckpt",name:"CyberRealistic_Pony_v8.5_1478064"},{prefix:"",modifier:"none",version:"sdxl_base_v0.9",text_encoder:"cyberrealistic_pony_v9.0_alt_1_1691220_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"cyberrealistic_pony_v9.0_alt_1_1691220_clip_vit_l14_f16.ckpt",upcast_attention:!1,default_scale:16,name:"CyberRealistic_Pony_v9.0_Alt_1_1691220",file:"cyberrealistic_pony_v9.0_alt_1_1691220_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{default_scale:16,version:"sdxl_base_v0.9",name:"CyberRealistic-Pony-Catalyst",file:"cyberrealistic_pony_catalyst_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"cyberrealistic_pony_catalyst_open_clip_vit_bigg14_f16.ckpt",modifier:"none",upcast_attention:!1,clip_encoder:"cyberrealistic_pony_catalyst_clip_vit_l14_f16.ckpt",prefix:""},{prefix:"",version:"sdxl_base_v0.9",text_encoder:"cyberrealistic_pony_semi_realistic_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",clip_encoder:"cyberrealistic_pony_semi_realistic_clip_vit_l14_f16.ckpt",name:"CyberRealistic-Pony-Semi-Realistic",file:"cyberrealistic_pony_semi_realistic_f16.ckpt",default_scale:16,upcast_attention:!1},{file:"cyberrealistic_xl_f16.ckpt",name:"CyberRealistic-XL",upcast_attention:!1,text_encoder:"cyberrealistic_xl_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",clip_encoder:"cyberrealistic_xl_clip_vit_l14_f16.ckpt",prefix:"",default_scale:16,version:"sdxl_base_v0.9"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1048219_demoncoresfwnsfw_fluxv13_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Demon_CORESFWNSFW_flux_V13",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1357212_demoncoresfwnsfw_v25helheimprojectaio_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Demon_CORESFWNSFW_v25Helheim_Project_AIO",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{prefix:"",name:"DHXL-v1.0",upcast_attention:!1,version:"sdxl_base_v0.9",modifier:"none",default_scale:16,text_encoder:"dhxl_v1.0_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"dhxl_v1.0_clip_vit_l14_f16.ckpt",file:"dhxl_v1.0_f16.ckpt"},{upcast_attention:!1,prefix:"",text_encoder:"dixar_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"dixar_clip_vit_l14_f16.ckpt",default_scale:16,version:"sdxl_base_v0.9",name:"Dixar",modifier:"none",file:"dixar_f16.ckpt"},{upcast_attention:!1,modifier:"none",file:"dreamisoa_remix_f16.ckpt",name:"Dreamisoa-remix",default_scale:16,text_encoder:"dreamisoa_remix_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",clip_encoder:"dreamisoa_remix_clip_vit_l14_f16.ckpt"},{name:"DucHaiten_Pony_XL_no_score_v5.2_706363",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,modifier:"none",version:"sdxl_base_v0.9",prefix:"",file:"duchaiten_pony_xl_no_score_v5.2_706363_f16.ckpt",clip_encoder:"duchaiten_pony_xl_no_score_v5.2_706363_clip_vit_l14_f16.ckpt",text_encoder:"duchaiten_pony_xl_no_score_v5.2_706363_open_clip_vit_bigg14_f16.ckpt"},{upcast_attention:!1,text_encoder:"duchaiten_pony_xl_no_score_v6.0_817261_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",modifier:"none",clip_encoder:"duchaiten_pony_xl_no_score_v6.0_817261_clip_vit_l14_f16.ckpt",default_scale:16,file:"duchaiten_pony_xl_no_score_v6.0_817261_f16.ckpt",name:"DucHaiten_Pony_XL_no_score_v6.0_817261",version:"sdxl_base_v0.9"},{version:"sdxl_base_v0.9",default_scale:16,file:"duchaiten_cool_age_f16.ckpt",prefix:"",clip_encoder:"duchaiten_cool_age_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"duchaiten_cool_age_open_clip_vit_bigg14_f16.ckpt",modifier:"none",upcast_attention:!1,name:"DucHaiten-Cool-Age"},{upcast_attention:!1,prefix:"",modifier:"none",file:"duchaiten_noobai_f16.ckpt",name:"DucHaiten-NoobAI",version:"sdxl_base_v0.9",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"duchaiten_noobai_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"duchaiten_noobai_clip_vit_l14_f16.ckpt"},{prefix:"",modifier:"none",autoencoder:"sdxl_vae_v1.0_f16.ckpt",file:"duchaiten_noobai_cinematic_f16.ckpt",upcast_attention:!1,version:"sdxl_base_v0.9",name:"DucHaiten-NoobAI-Cinematic",clip_encoder:"duchaiten_noobai_cinematic_clip_vit_l14_f16.ckpt",default_scale:16,text_encoder:"duchaiten_noobai_cinematic_open_clip_vit_bigg14_f16.ckpt"},{file:"duchaiten_pony_real_f16.ckpt",text_encoder:"duchaiten_pony_real_open_clip_vit_bigg14_f16.ckpt",default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9",name:"DucHaiten-Pony-Real",prefix:"",modifier:"none",clip_encoder:"duchaiten_pony_real_clip_vit_l14_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1677057_edgeofreality_32beyondreality_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Edge_Of_Reality_32Beyond_Reality",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1224657_edgeofreality_v30_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Edge_Of_Reality_v30",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"editijon_k_pop_f16.ckpt",version:"sdxl_base_v0.9",clip_encoder:"editijon_k_pop_clip_vit_l14_f16.ckpt",upcast_attention:!1,text_encoder:"editijon_k_pop_open_clip_vit_bigg14_f16.ckpt",prefix:"",name:"Editijon-K-POP",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none"},{prefix:"",text_encoder:"epicrealism_xl_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"epicrealism_xl_clip_vit_l14_f16.ckpt",file:"epicrealism_xl_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"epiCRealism-XL",version:"sdxl_base_v0.9",upcast_attention:!1,default_scale:16,modifier:"none"},{name:"Eri-LumenVeil-V1-Illustrious-NAI",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"eri_lumenveil_v1_illustrious_nai_clip_vit_l14_f16.ckpt",text_encoder:"eri_lumenveil_v1_illustrious_nai_open_clip_vit_bigg14_f16.ckpt",prefix:"",default_scale:16,upcast_attention:!1,file:"eri_lumenveil_v1_illustrious_nai_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none"},{name:"Fantasm-Pony-XL",version:"sdxl_base_v0.9",clip_encoder:"fantasm_pony_xl_clip_vit_l14_f16.ckpt",modifier:"none",default_scale:16,file:"fantasm_pony_xl_f16.ckpt",prefix:"",text_encoder:"fantasm_pony_xl_open_clip_vit_bigg14_f16.ckpt",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"795206_fenrisxlflux_fenrisfluxv1fp8_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fenrisxl_Flux_fenris_Flux_V1FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{modifier:"none",clip_encoder:"five_stars_illustrious_1.0_1398525_clip_vit_l14_f16.ckpt",default_scale:16,file:"five_stars_illustrious_1.0_1398525_f16.ckpt",name:"Five_Stars_Illustrious_1.0_1398525",upcast_attention:!1,version:"sdxl_base_v0.9",prefix:"",text_encoder:"five_stars_illustrious_1.0_1398525_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{version:"sdxl_base_v0.9",modifier:"none",file:"five_stars_illustrious_4.0_1657020_f16.ckpt",upcast_attention:!1,name:"Five_Stars_Illustrious_4.0_1657020",default_scale:16,prefix:"",clip_encoder:"five_stars_illustrious_4.0_1657020_clip_vit_l14_f16.ckpt",text_encoder:"five_stars_illustrious_4.0_1657020_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"959302_fluxrealistic_fluxrealisticsamayv2_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux_Realistic_flux_Realistic_Samay_V2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1054490_flux1_v10fp8_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux1_v10Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1103485_flux1_v10fp8schnell_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux1_v10Fp8Schnell",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1219311_flux1_v20fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux1_v20Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1319871_flux1_v30fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux1_v30Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1442202_flux1_v30papfp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux1_v30PAPFp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"752959_flux1devasian_v10fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux1Dev_Asian_v10FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1519790_flux1eastfp8_canny_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"depth",name:"Flux1east_Fp8_canny",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1519801_flux1eastfp8_depth_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"depth",name:"Flux1east_Fp8_depth",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1519030_flux1eastfp8_dev_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Flux1east_Fp8_dev",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1519446_flux1eastfp8_fill_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"inpainting",name:"Flux1east_Fp8_fill",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"947686_fluxedupfluxnsfw_10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxed_Up_Flux_NSFW_10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1126942_fluxedupfluxnsfw_21_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxed_Up_Flux_NSFW_21",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1182699_fluxedupfluxnsfw_22_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxed_Up_Flux_NSFW_22",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1305680_fluxedupfluxnsfw_24_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxed_Up_Flux_NSFW_24",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1466679_fluxedupfluxnsfw_25_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxed_Up_Flux_NSFW_25",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1700814_fluxedupfluxnsfw_40devfp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxed_Up_Flux_NSFW_40Dev_Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1823302_fluxedupfluxnsfw_41_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxed_Up_Flux_NSFW_41",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1050076_fluxmania_i_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxmania_i",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1463804_fluxmania_iv_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxmania_iv",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1769925_fluxmania_legacy_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxmania_legacy",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1539776_fluxmania_v_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Fluxmania_v",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{upcast_attention:!1,default_scale:16,file:"furrytoonmix_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"furrytoonmix_clip_vit_l14_f16.ckpt",modifier:"none",name:"FurryToonMix",text_encoder:"furrytoonmix_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1329004_genovaapex_1618experiment_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Genova_APEX_1618Experiment",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1831456_genovaapex_genovav2_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Genova_APEX_genova_V2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1209969_genovaapex_plus_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Genova_APEX_plus",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1111281_genovaapex_real_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Genova_APEX_real",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1068773_genovaapex_s_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Genova_APEX_s",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{name:"getphat FLUX Reality NSFW v11 Softcore",version:"flux1",autoencoder:"flux_1_vae_f16.ckpt",prefix:"",default_scale:16,hires_fix_scale:24,upcast_attention:!1,text_encoder:"t5_xxl_encoder_q6p.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",high_precision_autoencoder:!0,guidance_embed:!0,padded_text_encoding_length:512,objective:{u:{condition_scale:1e3}},tea_cache_coefficients:[498.651651,-283.781631,55.8554382,-3.82021401,.264230861],modifier:"none",file:"getphat_flux_reality_nsfw_v11_softcore_q8p.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1868950_gonzalomoxlfluxpony_v03fluxityfp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Gonzalomo_XLFlux_Pony_v03Fluxity_Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1883195_gonzalomoxlfluxpony_v10fluxityfp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Gonzalomo_XLFlux_Pony_v10Fluxity_Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"homosimile_xl_pony__illustrious__noobai_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",text_encoder:"homosimile_xl_pony__illustrious__noobai_open_clip_vit_bigg14_f16.ckpt",modifier:"none",version:"sdxl_base_v0.9",upcast_attention:!1,clip_encoder:"homosimile_xl_pony__illustrious__noobai_clip_vit_l14_f16.ckpt",name:"HomoSimile-XL-Pony_-Illustrious_-NoobAI"},{default_scale:16,upcast_attention:!1,file:"hoseki_lustrousmix_illustriousxl_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",clip_encoder:"hoseki_lustrousmix_illustriousxl_clip_vit_l14_f16.ckpt",name:"Hoseki-LustrousMix-IllustriousXL",prefix:"",text_encoder:"hoseki_lustrousmix_illustriousxl_open_clip_vit_bigg14_f16.ckpt"},{version:"sdxl_base_v0.9",file:"hoseki_lustrousmix_pony_xl_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",upcast_attention:!1,clip_encoder:"hoseki_lustrousmix_pony_xl_clip_vit_l14_f16.ckpt",text_encoder:"hoseki_lustrousmix_pony_xl_open_clip_vit_bigg14_f16.ckpt",name:"Hoseki-LustrousMix-Pony-XL",default_scale:16,prefix:""},{version:"sdxl_base_v0.9",prefix:"",clip_encoder:"hs_ultrahd_cg_clip_vit_l14_f16.ckpt",default_scale:16,name:"Hs-UltraHD-CG",upcast_attention:!1,file:"hs_ultrahd_cg_f16.ckpt",modifier:"none",text_encoder:"hs_ultrahd_cg_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1254943_hyperfluxdedistilled_hyper16stepsfp8_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Hyper_Flux_Dedistilled_hyper16Steps_FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1255083_hyperfluxdedistilled_hyper8stepsfp8_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Hyper_Flux_Dedistilled_hyper8Steps_FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{upcast_attention:!1,version:"sdxl_base_v0.9",name:"IcedCoffeeIL",default_scale:16,text_encoder:"icedcoffeeil_open_clip_vit_bigg14_f16.ckpt",modifier:"none",clip_encoder:"icedcoffeeil_clip_vit_l14_f16.ckpt",file:"icedcoffeeil_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{modifier:"none",version:"sdxl_base_v0.9",upcast_attention:!1,prefix:"",default_scale:16,clip_encoder:"iffymix_xl_clip_vit_l14_f16.ckpt",file:"iffymix_xl_f16.ckpt",name:"IffyMix-XL",text_encoder:"iffymix_xl_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{version:"sdxl_base_v0.9",file:"illumiyume_xl_illustrious_f16.ckpt",clip_encoder:"illumiyume_xl_illustrious_clip_vit_l14_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",modifier:"none",upcast_attention:!1,text_encoder:"illumiyume_xl_illustrious_open_clip_vit_bigg14_f16.ckpt",name:"IllumiYume-XL-Illustrious"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1108227_illustrationjuanerghibli_v10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Illustration_Juaner_Ghibli_v10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1215918_illustrationjuanerghibli_v20_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Illustration_Juaner_Ghibli_v20",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{version:"sdxl_base_v0.9",file:"illustrij_f16.ckpt",upcast_attention:!1,default_scale:16,modifier:"none",text_encoder:"illustrij_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"illustrij_clip_vit_l14_f16.ckpt",name:"Illustrij",prefix:""},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Illustrij-GENv1",modifier:"none",file:"illustrij_genv1_f16.ckpt",clip_encoder:"illustrij_genv1_clip_vit_l14_f16.ckpt",text_encoder:"illustrij_genv1_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Illustrij-GENv1 (8-bit)",modifier:"none",file:"illustrij_genv1_q6p_q8p.ckpt",clip_encoder:"illustrij_genv1_clip_vit_l14_f16.ckpt",text_encoder:"illustrij_genv1_open_clip_vit_bigg14_f16.ckpt"},{prefix:"",name:"Illustrious-Black-Magic-Illustrious-Noob-More",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,file:"illustrious_black_magic_illustrious_noob_more_f16.ckpt",clip_encoder:"illustrious_black_magic_illustrious_noob_more_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",default_scale:16,modifier:"none",text_encoder:"illustrious_black_magic_illustrious_noob_more_open_clip_vit_bigg14_f16.ckpt"},{default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"illustrious_gehenna_illustrious_checkpoint_clip_vit_l14_f16.ckpt",modifier:"none",prefix:"",name:"Illustrious-Gehenna-Illustrious-Checkpoint",text_encoder:"illustrious_gehenna_illustrious_checkpoint_open_clip_vit_bigg14_f16.ckpt",file:"illustrious_gehenna_illustrious_checkpoint_f16.ckpt",version:"sdxl_base_v0.9"},{default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9",prefix:"",name:"Illustrious-Realism-by-klaabu",modifier:"none",clip_encoder:"illustrious_realism_by_klaabu_clip_vit_l14_f16.ckpt",file:"illustrious_realism_by_klaabu_f16.ckpt",text_encoder:"illustrious_realism_by_klaabu_open_clip_vit_bigg14_f16.ckpt"},{prefix:"",modifier:"none",name:"Illustrious-XL",clip_encoder:"illustrious_xl_clip_vit_l14_f16.ckpt",text_encoder:"illustrious_xl_open_clip_vit_bigg14_f16.ckpt",file:"illustrious_xl_f16.ckpt",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9",default_scale:16},{prefix:"",name:"Illustrious-XL-personal-merge-noob-v-pred0.5-test-merge-updated",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"illustrious_xl_personal_merge_noob_v_pred0.5_test_merge_updated_open_clip_vit_bigg14_f16.ckpt",default_scale:16,modifier:"none",upcast_attention:!1,file:"illustrious_xl_personal_merge_noob_v_pred0.5_test_merge_updated_f16.ckpt",clip_encoder:"illustrious_xl_personal_merge_noob_v_pred0.5_test_merge_updated_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Inbetweij \u2014 No.04",modifier:"none",clip_encoder:"inbetweij___no.04_clip_vit_l14_f16.ckpt",file:"inbetweij___no.04_f16.ckpt",text_encoder:"inbetweij___no.04_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Inbetweij \u2014 No.04",modifier:"none",clip_encoder:"inbetweij___no.04_clip_vit_l14_f16.ckpt",file:"inbetweij___no.04_f16.ckpt",text_encoder:"inbetweij___no.04_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Inbetweij \u2014 No.04 (8-bit)",modifier:"none",clip_encoder:"inbetweij___no.04_clip_vit_l14_f16.ckpt",file:"inbetweij___no.04_q6p_q8p.ckpt",text_encoder:"inbetweij___no.04_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Inbetweij \u2014 No.04 (8-bit)",modifier:"none",clip_encoder:"inbetweij___no.04_clip_vit_l14_f16.ckpt",file:"inbetweij___no.04_q6p_q8p.ckpt",text_encoder:"inbetweij___no.04_open_clip_vit_bigg14_f16.ckpt"},{prefix:"",text_encoder:"indigo_void_furry_fused_xl_furry_noobai_noobai_v1.7_1569147_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"indigo_void_furry_fused_xl_furry_noobai_noobai_v1.7_1569147_clip_vit_l14_f16.ckpt",modifier:"none",file:"indigo_void_furry_fused_xl_furry_noobai_noobai_v1.7_1569147_f16.ckpt",name:"Indigo_Void_Furry_Fused_XL_Furry_NoobAI_NoobAI_v1.7_1569147",upcast_attention:!1,default_scale:16,version:"sdxl_base_v0.9"},{text_encoder:"indigo_void_furry_fused_xl_furry_noobai_noobai_v1.8_1731573_open_clip_vit_bigg14_f16.ckpt",upcast_attention:!1,name:"Indigo_Void_Furry_Fused_XL_Furry_NoobAI_NoobAI_v1.8_1731573",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",default_scale:16,file:"indigo_void_furry_fused_xl_furry_noobai_noobai_v1.8_1731573_f16.ckpt",clip_encoder:"indigo_void_furry_fused_xl_furry_noobai_noobai_v1.8_1731573_clip_vit_l14_f16.ckpt",prefix:"",version:"sdxl_base_v0.9"},{file:"indigo_furry_mix_xl_f16.ckpt",modifier:"none",text_encoder:"indigo_furry_mix_xl_open_clip_vit_bigg14_f16.ckpt",name:"Indigo-Furry-Mix-XL",version:"sdxl_base_v0.9",prefix:"",clip_encoder:"indigo_furry_mix_xl_clip_vit_l14_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1},{upcast_attention:!1,prefix:"",version:"sdxl_base_v0.9",modifier:"none",file:"indigo_void_furry_vpred_furry_noobai_v_pred_f16.ckpt",name:"Indigo-Void-Furry-Vpred-Furry-NoobAI-V-pred",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"indigo_void_furry_vpred_furry_noobai_v_pred_clip_vit_l14_f16.ckpt",default_scale:16,text_encoder:"indigo_void_furry_vpred_furry_noobai_v_pred_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1006775_iniversemixsfwnsfw_f1drealguofengfp8v20_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Iniverse_Mix_SFWNSFW_f1d_Real_Guofeng_Fp8V20",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1031531_iniversemixsfwnsfw_f1drealnsfwguofengv2_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Iniverse_Mix_SFWNSFW_f1d_Realnsfw_Guofeng_V2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"973626_iniversemixsfwnsfw_flux1dnsfwfp16v12_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Iniverse_Mix_SFWNSFW_flux1DNsfw_Fp16V12",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"966095_iniversemixsfwnsfw_flux1dnsfwfp8v10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Iniverse_Mix_SFWNSFW_flux1DNsfw_Fp8V10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"ionsyx_f16.ckpt",version:"sdxl_base_v0.9",prefix:"",name:"Ionsyx",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",upcast_attention:!1,clip_encoder:"ionsyx_clip_vit_l14_f16.ckpt",text_encoder:"ionsyx_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"886474_isenganmixflux_vb_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Isenganmix_Flux_v_B",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"796103_jibmixflux_fp16v1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_fp16V1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"918242_jibmixflux_fp8v2electric_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_fp8V2Electric",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1001176_jibmixflux_fp8v4canvasgalore_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_fp8V4Canvas_Galore",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1249737_jibmixflux_v72pixelheaven_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_v72Pixel_Heaven",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1355240_jibmixflux_v78cleartextfocus_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_v78Clear_Text_Focus",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1193229_jibmixflux_v7pixelheavenbeta_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_v7Pixel_Heaven_Beta",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1755367_jibmixflux_v85consisteight_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_v85Consisteight",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1389019_jibmixflux_v8accentueightnow_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Jib_Mix_Flux_v8Accentueight_Now",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{clip_encoder:"jib_mix_pony_realistic_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Jib-Mix-Pony-Realistic",modifier:"none",file:"jib_mix_pony_realistic_f16.ckpt",text_encoder:"jib_mix_pony_realistic_open_clip_vit_bigg14_f16.ckpt",prefix:"",default_scale:16,version:"sdxl_base_v0.9",upcast_attention:!1},{name:"Jib-Mix-Realistic-XL",clip_encoder:"jib_mix_realistic_xl_clip_vit_l14_f16.ckpt",text_encoder:"jib_mix_realistic_xl_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,file:"jib_mix_realistic_xl_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",prefix:""},{file:"jujumix_f16.ckpt",text_encoder:"jujumix_open_clip_vit_bigg14_f16.ckpt",modifier:"none",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"jujumix_clip_vit_l14_f16.ckpt",name:"JujuMix",prefix:"",default_scale:16,version:"sdxl_base_v0.9"},{name:"Kageillustrious-Illustrious-XL",prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,text_encoder:"kageillustrious_illustrious_xl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",clip_encoder:"kageillustrious_illustrious_xl_clip_vit_l14_f16.ckpt",default_scale:16,file:"kageillustrious_illustrious_xl_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{text_encoder:"kantanmix_xlillustrious_open_clip_vit_bigg14_f16.ckpt",modifier:"none",file:"kantanmix_xlillustrious_f16.ckpt",default_scale:16,prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,clip_encoder:"kantanmix_xlillustrious_clip_vit_l14_f16.ckpt",name:"KantanMIX-XLIllustrious",version:"sdxl_base_v0.9"},{name:"KFT-Requiem-Fur-a-Dream-Illustrious-Semi-Real-Checkpoint",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,file:"kft_requiem_fur_a_dream_illustrious_semi_real_checkpoint_f16.ckpt",text_encoder:"kft_requiem_fur_a_dream_illustrious_semi_real_checkpoint_open_clip_vit_bigg14_f16.ckpt",modifier:"none",default_scale:16,clip_encoder:"kft_requiem_fur_a_dream_illustrious_semi_real_checkpoint_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"KonanMix-NoobAI-XL-IllustriousXL",version:"sdxl_base_v0.9",clip_encoder:"konanmix_noobai_xl_illustriousxl_clip_vit_l14_f16.ckpt",default_scale:16,text_encoder:"konanmix_noobai_xl_illustriousxl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",file:"konanmix_noobai_xl_illustriousxl_f16.ckpt",upcast_attention:!1,prefix:""},{modifier:"none",clip_encoder:"koronemix_illustrious_clip_vit_l14_f16.ckpt",upcast_attention:!1,file:"koronemix_illustrious_f16.ckpt",prefix:"",name:"koronemix-illustrious",version:"sdxl_base_v0.9",default_scale:16,text_encoder:"koronemix_illustrious_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"872820_lahmysteriousflux_fluxalpha_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Lah_Mysterious_Flux_flux_Alpha",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{default_scale:16,upcast_attention:!1,prefix:"",modifier:"none",clip_encoder:"like_reality_pony_by_ethanar_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9",text_encoder:"like_reality_pony_by_ethanar_open_clip_vit_bigg14_f16.ckpt",name:"Like-Reality-Pony-by-Ethanar",file:"like_reality_pony_by_ethanar_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Lox_s-Souls-Mix-Prisma-",version:"sdxl_base_v0.9",text_encoder:"lox_s_souls_mix_prisma__open_clip_vit_bigg14_f16.ckpt",clip_encoder:"lox_s_souls_mix_prisma__clip_vit_l14_f16.ckpt",prefix:"",default_scale:16,modifier:"none",file:"lox_s_souls_mix_prisma__f16.ckpt",upcast_attention:!1},{clip_encoder:"lunargrapemix_illustrious_clip_vit_l14_f16.ckpt",file:"lunargrapemix_illustrious_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",text_encoder:"lunargrapemix_illustrious_open_clip_vit_bigg14_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"LunarGrapeMix-Illustrious",prefix:"",upcast_attention:!1},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"835744_lyhanimeflux_delete_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Lyh_Anime_Flux_delete",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{version:"sdxl_base_v0.9",upcast_attention:!1,clip_encoder:"madly_mix_ver_nightnoob_clip_vit_l14_f16.ckpt",default_scale:16,modifier:"none",prefix:"",text_encoder:"madly_mix_ver_nightnoob_open_clip_vit_bigg14_f16.ckpt",file:"madly_mix_ver_nightnoob_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Madly-Mix-ver-NightNoob"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1247362_majicflus_v10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Majicflus_v10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"meichidarkmix_reload_f16.ckpt",modifier:"none",version:"sdxl_base_v0.9",text_encoder:"meichidarkmix_reload_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,name:"MeichiDarkMix-Reload",default_scale:16,prefix:"",clip_encoder:"meichidarkmix_reload_clip_vit_l14_f16.ckpt"},{name:"miruku",prefix:"",clip_encoder:"miruku_clip_vit_l14_f16.ckpt",upcast_attention:!1,text_encoder:"miruku_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",file:"miruku_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"mistoon_anime_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",text_encoder:"mistoon_anime_open_clip_vit_bigg14_f16.ckpt",default_scale:16,prefix:"",file:"mistoon_anime_f16.ckpt",name:"Mistoon-Anime",modifier:"none",upcast_attention:!1},{upcast_attention:!1,default_scale:16,modifier:"none",file:"mol_keun_mix_f16.ckpt",name:"Mol-Keun-Mix",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",clip_encoder:"mol_keun_mix_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",text_encoder:"mol_keun_mix_open_clip_vit_bigg14_f16.ckpt"},{prefix:"",file:"molcajetemix_noobil_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"MolcajeteMix-NoobIL",upcast_attention:!1,text_encoder:"molcajetemix_noobil_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"molcajetemix_noobil_clip_vit_l14_f16.ckpt",default_scale:16,modifier:"none"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"905329_moxieflux1ds_flux1d8step_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Flux1DS_flux1D8Step",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"905879_moxieflux1ds_flux1s8step_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Flux1DS_flux1S8Step",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"883958_moxieflux1ds_v138step_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Flux1DS_v138Step",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"986682_moxieflux1ds_v14_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Flux1DS_v14",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1453489_moxieflux1ds_v16d_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Flux1DS_v16D",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1802008_moxieflux1ds_v17s_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Flux1DS_v17S",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1718411_moxiefusionflux_17d_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_17D",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"876813_moxiefusionflux_v1318step_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v1318step",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"874291_moxiefusionflux_v132_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v132",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"873546_moxiefusionflux_v1328step_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v1328step",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"913024_moxiefusionflux_v1338step_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v1338step",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"943051_moxiefusionflux_v134_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v134",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"932231_moxiefusionflux_v1348step_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v1348step",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"985269_moxiefusionflux_v135_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v135",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1255371_moxiefusionflux_v141d_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v141D",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1249359_moxiefusionflux_v141s_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v141S",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1292596_moxiefusionflux_v15s_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v15S",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1473409_moxiefusionflux_v16s_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v16S",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1742386_moxiefusionflux_v17s_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Moxie_Fusion_Flux_v17S",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1505959_msfluxsfwnsfwv3_v3_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ms_Flux_SFWNSFWV3_v3",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"866874_myhumanflux_12train_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Myhuman_Flux_12Train",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"885693_myhumanflux_myh11_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Myhuman_Flux_myh11",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"989443_myhumanflux_myh13_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Myhuman_Flux_myh13",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"991687_myhumanflux_myh13fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Myhuman_Flux_myh13Fp8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1288366_nepotism_xdit_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Nepotism_x_Dit",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1326315_nepotism_xidit_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Nepotism_xi_Dit",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{text_encoder:"nevolution_sdxl_v2_anim_1733673_open_clip_vit_bigg14_f16.ckpt",file:"nevolution_sdxl_v2_anim_1733673_f16.ckpt",name:"Nevolution_SDXL_v2_anim_1733673",default_scale:16,modifier:"none",prefix:"",upcast_attention:!1,clip_encoder:"nevolution_sdxl_v2_anim_1733673_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9"},{prefix:"",text_encoder:"nevolution_sdxl_v2_base_1645671_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Nevolution_SDXL_v2_base_1645671",file:"nevolution_sdxl_v2_base_1645671_f16.ckpt",default_scale:16,modifier:"none",version:"sdxl_base_v0.9",clip_encoder:"nevolution_sdxl_v2_base_1645671_clip_vit_l14_f16.ckpt",upcast_attention:!1},{default_scale:16,text_encoder:"noobai_xl_nai_xl_open_clip_vit_bigg14_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"noobai_xl_nai_xl_clip_vit_l14_f16.ckpt",name:"NoobAI-XL-NAI-XL",modifier:"none",upcast_attention:!1,file:"noobai_xl_nai_xl_f16.ckpt"},{modifier:"none",name:"NostraMix",clip_encoder:"nostramix_clip_vit_l14_f16.ckpt",default_scale:16,upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",text_encoder:"nostramix_open_clip_vit_bigg14_f16.ckpt",file:"nostramix_f16.ckpt",version:"sdxl_base_v0.9"},{upcast_attention:!1,text_encoder:"nova_animal_xl_illustrious_v3.0_1634769_open_clip_vit_bigg14_f16.ckpt",name:"Nova_Animal_XL_Illustrious_v3.0_1634769",clip_encoder:"nova_animal_xl_illustrious_v3.0_1634769_clip_vit_l14_f16.ckpt",default_scale:16,version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",file:"nova_animal_xl_illustrious_v3.0_1634769_f16.ckpt",prefix:""},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,name:"Nova_Animal_XL_v4.0_1028888",default_scale:16,prefix:"",text_encoder:"nova_animal_xl_v4.0_1028888_open_clip_vit_bigg14_f16.ckpt",file:"nova_animal_xl_v4.0_1028888_f16.ckpt",modifier:"none",clip_encoder:"nova_animal_xl_v4.0_1028888_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9"},{text_encoder:"nova_furry_xl_illustrious_v6a_1625975_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",clip_encoder:"nova_furry_xl_illustrious_v6a_1625975_clip_vit_l14_f16.ckpt",upcast_attention:!1,default_scale:16,name:"Nova_Furry_XL_Illustrious_v6A_1625975",prefix:"",version:"sdxl_base_v0.9",file:"nova_furry_xl_illustrious_v6a_1625975_f16.ckpt"},{modifier:"none",clip_encoder:"nova_furry_xl_illustrious_v6b_1626156_clip_vit_l14_f16.ckpt",default_scale:16,name:"Nova_Furry_XL_Illustrious_v6B_1626156",prefix:"",version:"sdxl_base_v0.9",file:"nova_furry_xl_illustrious_v6b_1626156_f16.ckpt",text_encoder:"nova_furry_xl_illustrious_v6b_1626156_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1},{file:"nova_furry_xl_illustrious_v7a_1759909_f16.ckpt",prefix:"",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"nova_furry_xl_illustrious_v7a_1759909_open_clip_vit_bigg14_f16.ckpt",name:"Nova_Furry_XL_Illustrious_v7A_1759909",modifier:"none",version:"sdxl_base_v0.9",clip_encoder:"nova_furry_xl_illustrious_v7a_1759909_clip_vit_l14_f16.ckpt",default_scale:16},{clip_encoder:"nova_furry_xl_illustrious_v7b_1760102_clip_vit_l14_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,modifier:"none",file:"nova_furry_xl_illustrious_v7b_1760102_f16.ckpt",name:"Nova_Furry_XL_Illustrious_v7B_1760102",default_scale:16,version:"sdxl_base_v0.9",text_encoder:"nova_furry_xl_illustrious_v7b_1760102_open_clip_vit_bigg14_f16.ckpt"},{modifier:"none",file:"nova_orange_xl_v7.0_1525944_f16.ckpt",clip_encoder:"nova_orange_xl_v7.0_1525944_clip_vit_l14_f16.ckpt",name:"Nova_Orange_XL_v7.0_1525944",default_scale:16,prefix:"",upcast_attention:!1,version:"sdxl_base_v0.9",text_encoder:"nova_orange_xl_v7.0_1525944_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{modifier:"none",version:"sdxl_base_v0.9",text_encoder:"nova_orange_xl_v9.0_1701002_open_clip_vit_bigg14_f16.ckpt",name:"Nova_Orange_XL_v9.0_1701002",clip_encoder:"nova_orange_xl_v9.0_1701002_clip_vit_l14_f16.ckpt",file:"nova_orange_xl_v9.0_1701002_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",upcast_attention:!1,default_scale:16},{version:"sdxl_base_v0.9",default_scale:16,name:"Nova-3DCG-XL",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",upcast_attention:!1,file:"nova_3dcg_xl_f16.ckpt",text_encoder:"nova_3dcg_xl_open_clip_vit_bigg14_f16.ckpt",prefix:"",clip_encoder:"nova_3dcg_xl_clip_vit_l14_f16.ckpt"},{upcast_attention:!1,clip_encoder:"nova_anime_xl_clip_vit_l14_f16.ckpt",text_encoder:"nova_anime_xl_open_clip_vit_bigg14_f16.ckpt",prefix:"",modifier:"none",version:"sdxl_base_v0.9",name:"Nova-Anime-XL",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,file:"nova_anime_xl_f16.ckpt"},{prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"nova_anime3d_xl_clip_vit_l14_f16.ckpt",upcast_attention:!1,default_scale:16,name:"Nova-Anime3D-XL",file:"nova_anime3d_xl_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",text_encoder:"nova_anime3d_xl_open_clip_vit_bigg14_f16.ckpt"},{file:"nova_asian_xl_f16.ckpt",name:"Nova-Asian-XL",version:"sdxl_base_v0.9",default_scale:16,clip_encoder:"nova_asian_xl_clip_vit_l14_f16.ckpt",text_encoder:"nova_asian_xl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:""},{default_scale:16,upcast_attention:!1,file:"nova_cross_xl_f16.ckpt",version:"sdxl_base_v0.9",name:"Nova-Cross-XL",text_encoder:"nova_cross_xl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",clip_encoder:"nova_cross_xl_clip_vit_l14_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{prefix:"",modifier:"none",default_scale:16,file:"nova_flat_xl_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Nova-Flat-XL",text_encoder:"nova_flat_xl_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"nova_flat_xl_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",default_scale:16,file:"nova_reality_xl_f16.ckpt",name:"Nova-Reality-XL",upcast_attention:!1,prefix:"",version:"sdxl_base_v0.9",clip_encoder:"nova_reality_xl_clip_vit_l14_f16.ckpt",text_encoder:"nova_reality_xl_open_clip_vit_bigg14_f16.ckpt"},{upcast_attention:!1,prefix:"",modifier:"none",file:"nova_unreal_xl_f16.ckpt",name:"Nova-Unreal-XL",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,text_encoder:"nova_unreal_xl_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"nova_unreal_xl_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"ONE-FOR-ALL-Pony-Fantasy-DPOVAE",upcast_attention:!1,prefix:"",version:"sdxl_base_v0.9",text_encoder:"one_for_all_pony_fantasy_dpovae_open_clip_vit_bigg14_f16.ckpt",default_scale:16,modifier:"none",file:"one_for_all_pony_fantasy_dpovae_f16.ckpt",clip_encoder:"one_for_all_pony_fantasy_dpovae_clip_vit_l14_f16.ckpt"},{modifier:"none",file:"oops_all_toons_illustrious_v1.0_f16.ckpt",name:"Oops-All-Toons-Illustrious-v1.0",upcast_attention:!1,text_encoder:"oops_all_toons_illustrious_v1.0_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",clip_encoder:"oops_all_toons_illustrious_v1.0_clip_vit_l14_f16.ckpt"},{prefix:"",name:"Oops-All-vpred-NoobAI-Western-2D-furry-toon",upcast_attention:!1,text_encoder:"oops_all_vpred_noobai_western_2d_furry_toon_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"oops_all_vpred_noobai_western_2d_furry_toon_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,file:"oops_all_vpred_noobai_western_2d_furry_toon_f16.ckpt",modifier:"none",version:"sdxl_base_v0.9"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1308101_originbyn0utis_fluxfp8v1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Origin_By_N0utis_flux_FP8V1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{name:"Photonic-Fusion-SDXL",file:"photonic_fusion_sdxl_f16.ckpt",version:"sdxl_base_v0.9",prefix:"",text_encoder:"photonic_fusion_sdxl_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,upcast_attention:!1,modifier:"none",clip_encoder:"photonic_fusion_sdxl_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Pikon_Realism_v2_alt",modifier:"none",file:"pikon_realism_v2_alt_f16.ckpt",clip_encoder:"pikon_realism_v2_alt_clip_vit_l14_f16.ckpt",text_encoder:"pikon_realism_v2_alt_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,prefix:"",version:"sdxl_base_v0.9",upcast_attention:!1,name:"Pikon_Realism_v2_alt (8-bit)",modifier:"none",file:"pikon_realism_v2_alt_q6p_q8p.ckpt",clip_encoder:"pikon_realism_v2_alt_clip_vit_l14_f16.ckpt",text_encoder:"pikon_realism_v2_alt_open_clip_vit_bigg14_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"826571_pixelwave_flux1dev02_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Pixelwave_flux1Dev02",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"992642_pixelwave_flux1dev03_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Pixelwave_flux1Dev03",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1002647_pixelwave_flux1schnell03_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Pixelwave_flux1Schnell03",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"plant_milk_model_suite_flax_1331188_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",text_encoder:"plant_milk_model_suite_flax_1331188_open_clip_vit_bigg14_f16.ckpt",modifier:"none",clip_encoder:"plant_milk_model_suite_flax_1331188_clip_vit_l14_f16.ckpt",upcast_attention:!1,default_scale:16,name:"Plant_Milk_Model_Suite_Flax_1331188",version:"sdxl_base_v0.9"},{file:"plant_milk_model_suite_hemp_ii_1714314_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"plant_milk_model_suite_hemp_ii_1714314_open_clip_vit_bigg14_f16.ckpt",upcast_attention:!1,name:"Plant_Milk_Model_Suite_Hemp_II_1714314",version:"sdxl_base_v0.9",default_scale:16,modifier:"none",clip_encoder:"plant_milk_model_suite_hemp_ii_1714314_clip_vit_l14_f16.ckpt"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",clip_encoder:"pony_realism_v2.1_534642_clip_vit_l14_f16.ckpt",prefix:"",name:"Pony_Realism_v2.1_534642",file:"pony_realism_v2.1_534642_f16.ckpt",version:"sdxl_base_v0.9",upcast_attention:!1,modifier:"none",default_scale:16,text_encoder:"pony_realism_v2.1_534642_open_clip_vit_bigg14_f16.ckpt"},{upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Pony_Realism_v2.2_914390",prefix:"",default_scale:16,file:"pony_realism_v2.2_914390_f16.ckpt",clip_encoder:"pony_realism_v2.2_914390_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",text_encoder:"pony_realism_v2.2_914390_open_clip_vit_bigg14_f16.ckpt"},{default_scale:16,version:"sdxl_base_v0.9",file:"praeclarus_illustriousxl_f16.ckpt",text_encoder:"praeclarus_illustriousxl_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Praeclarus-IllustriousXL",modifier:"none",prefix:"",clip_encoder:"praeclarus_illustriousxl_clip_vit_l14_f16.ckpt",upcast_attention:!1},{text_encoder:"prefect_illustrious_xl_v1.0_1379960_open_clip_vit_bigg14_f16.ckpt",file:"prefect_illustrious_xl_v1.0_1379960_f16.ckpt",clip_encoder:"prefect_illustrious_xl_v1.0_1379960_clip_vit_l14_f16.ckpt",default_scale:16,name:"Prefect_illustrious_XL_v1.0_1379960",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,prefix:"",modifier:"none",version:"sdxl_base_v0.9"},{modifier:"none",name:"Prefect_illustrious_XL_v1.5_1731647",text_encoder:"prefect_illustrious_xl_v1.5_1731647_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"prefect_illustrious_xl_v1.5_1731647_clip_vit_l14_f16.ckpt",upcast_attention:!1,prefix:"",default_scale:16,file:"prefect_illustrious_xl_v1.5_1731647_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{version:"sdxl_base_v0.9",name:"Prefect-Pony-XL",upcast_attention:!1,text_encoder:"prefect_pony_xl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",clip_encoder:"prefect_pony_xl_clip_vit_l14_f16.ckpt",file:"prefect_pony_xl_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"806846_projectgaiaflux1d_v10unet_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project_Gaia_Flux1D_v10UNET",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1451754_project0_real1smfp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_real1sm_FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1591370_project0_real1smv2fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_real1sm_V2FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1596255_project0_real1smv2fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_real1sm_V2FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1875661_project0_real1smv3fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_real1sm_V3FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1878051_project0_real1smv3fp8aio_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_real1sm_V3FP8AIO",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1181877_project0_v10fp8unetonly_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_v10FP8Unet_Only",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1249092_project0_v20fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_v20FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1249496_project0_v20fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_v20FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1320268_project0_v30artfp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Project0_v30Art_FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"793143_ratatoskranimalcreature_v29_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ratatoskr_Animal_Creature_v29",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"835047_ratatoskranimalcreature_v40fp8_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ratatoskr_Animal_Creature_v40FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"873136_ratatoskranimalcreature_v41_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ratatoskr_Animal_Creature_v41",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1024165_ratatoskranimalcreature_v594fp8dev1hybrid_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ratatoskr_Animal_Creature_v594FP8Dev1Hybrid",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1637227_ratatoskranimalcreature_v667fp16_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ratatoskr_Animal_Creature_v667FP16",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1637484_ratatoskranimalcreature_v667fp8_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ratatoskr_Animal_Creature_v667FP8",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"ratatoskr_animal__creature_and_furry__f16.ckpt",prefix:"",modifier:"none",upcast_attention:!1,clip_encoder:"ratatoskr_animal__creature_and_furry__clip_vit_l14_f16.ckpt",name:"Ratatoskr-Animal_-Creature-and-Furry-",text_encoder:"ratatoskr_animal__creature_and_furry__open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1186008_rayflux_v10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Rayflux_v10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1785042_rayflux_v30aio_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Rayflux_v30AIO",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1703341_realdream_flux1v1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Real_Dream_flux1V1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{default_scale:16,clip_encoder:"realcartoon_xl_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",file:"realcartoon_xl_f16.ckpt",name:"RealCartoon-XL",prefix:"",text_encoder:"realcartoon_xl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",upcast_attention:!1,version:"sdxl_base_v0.9"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"881836_realflux10b_10bcompactschnell_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Realflux10b_10b_Compact_Schnell",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"882554_realflux10b_10btransformer_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Realflux10b_10b_Transformer",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"915279_realflux10b_10btransformerdev_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Realflux10b_10b_Transformer_Dev",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{clip_encoder:"realism_by_stable_yogi_pony_v3_vae_992946_clip_vit_l14_f16.ckpt",name:"Realism_By_Stable_Yogi_Pony_V3_VAE_992946",upcast_attention:!1,version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,file:"realism_by_stable_yogi_pony_v3_vae_992946_f16.ckpt",prefix:"",text_encoder:"realism_by_stable_yogi_pony_v3_vae_992946_open_clip_vit_bigg14_f16.ckpt",modifier:"none"},{name:"Realism_By_Stable_Yogi_v4.0_FP16_1422871",prefix:"",modifier:"none",file:"realism_by_stable_yogi_v4.0_fp16_1422871_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9",clip_encoder:"realism_by_stable_yogi_v4.0_fp16_1422871_clip_vit_l14_f16.ckpt",upcast_attention:!1,text_encoder:"realism_by_stable_yogi_v4.0_fp16_1422871_open_clip_vit_bigg14_f16.ckpt",default_scale:16},{name:"Realism-SDXL-By-Stable-Yogi",text_encoder:"realism_sdxl_by_stable_yogi_open_clip_vit_bigg14_f16.ckpt",modifier:"none",file:"realism_sdxl_by_stable_yogi_f16.ckpt",default_scale:16,clip_encoder:"realism_sdxl_by_stable_yogi_clip_vit_l14_f16.ckpt",prefix:"",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9"},{clip_encoder:"realistic_blend_xl_clip_vit_l14_f16.ckpt",file:"realistic_blend_xl_f16.ckpt",upcast_attention:!1,prefix:"",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Realistic-Blend-XL",modifier:"none",text_encoder:"realistic_blend_xl_open_clip_vit_bigg14_f16.ckpt",default_scale:16},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1138590_redbluefantasy_fluxv10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Red_Blue_Fantasy_fluxv10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1445047_redcraftcadsupdatedjun1_f1fillnsfw_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"inpainting",name:"Redcraft_CADSUpdated_JUN1_f1Fill_NSFW",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1315432_redcraftcadsupdatedjun1_newreveal_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_new_REVEAL",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1093373_redcraftcadsupdatedjun1_rasch1forge_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_rasch1Forge",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1115605_redcraftcadsupdatedjun1_rasch2_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_rasch2",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1344905_redcraftcadsupdatedjun1_rasch3rushreveal_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_rasch3RUSHReveal",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1550408_redcraftcadsupdatedjun1_realreveal5_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_realreveal5",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1745151_redcraftcadsupdatedjun1_redediticedit11_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"inpainting",name:"Redcraft_CADSUpdated_JUN1_red_Edit_Icedit11",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1849802_redcraftcadsupdatedjun1_redomniflux1dreamo_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_red_OMNIFlux1Dreamo",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1087807_redcraftcadsupdatedjun1_revealnsfw_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_reveal_NSFW",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1171942_redcraftcadsupdatedjun1_revealultrav35_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_reveal_ULTRAV35",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1576605_redcraftcadsupdatedjun1_reveal5sfwultra_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_reveal5SFWULTRA",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1201074_redcraftcadsupdatedjun1_turborevealhotfix21_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Redcraft_CADSUpdated_JUN1_turbo_Reveal_Hotfix21",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{name:"RedCraft-CADS-UPdated-May4-Commercial-_-Advertising-Design-System",upcast_attention:!1,clip_encoder:"redcraft___cads_updated_may4_commercial___advertising_design_system_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",text_encoder:"redcraft___cads_updated_may4_commercial___advertising_design_system_open_clip_vit_bigg14_f16.ckpt",file:"redcraft___cads_updated_may4_commercial___advertising_design_system_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",default_scale:16},{file:"richyrichmixixl_f16.ckpt",name:"richyrichMixIXL",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",text_encoder:"richyrichmixixl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",clip_encoder:"richyrichmixixl_clip_vit_l14_f16.ckpt",default_scale:16,upcast_attention:!1,version:"sdxl_base_v0.9"},{name:"Rillusm-Realistic-IL",modifier:"none",clip_encoder:"rillusm___realistic_il_clip_vit_l14_f16.ckpt",prefix:"",text_encoder:"rillusm___realistic_il_open_clip_vit_bigg14_f16.ckpt",upcast_attention:!1,file:"rillusm___realistic_il_f16.ckpt",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"878315_sdvn11ghibliflux_fp8hyper_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Sdvn11Ghibli_Flux_fp8Hyper",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",prefix:"",default_scale:16,file:"silvermoonmix_illustrious_evolved_f16.ckpt",text_encoder:"silvermoonmix_illustrious_evolved_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",clip_encoder:"silvermoonmix_illustrious_evolved_clip_vit_l14_f16.ckpt",upcast_attention:!1,name:"SilvermoonMix-Illustrious-Evolved"},{text_encoder:"singlo_illustrious_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",clip_encoder:"singlo_illustrious_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",name:"SinGlo-illustrious",file:"singlo_illustrious_f16.ckpt",upcast_attention:!1,default_scale:16,modifier:"none"},{clip_encoder:"skibidimix_clip_vit_l14_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"SkibidiMix",file:"skibidimix_f16.ckpt",modifier:"none",default_scale:16,version:"sdxl_base_v0.9",text_encoder:"skibidimix_open_clip_vit_bigg14_f16.ckpt",upcast_attention:!1},{prefix:"",file:"smooth_mix_noobai_illustrious_pony_illustrious_v.2_1401686_f16.ckpt",name:"Smooth_Mix_NoobAI_Illustrious_Pony_Illustrious_v.2_1401686",upcast_attention:!1,default_scale:16,text_encoder:"smooth_mix_noobai_illustrious_pony_illustrious_v.2_1401686_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",clip_encoder:"smooth_mix_noobai_illustrious_pony_illustrious_v.2_1401686_clip_vit_l14_f16.ckpt"},{modifier:"none",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",default_scale:16,upcast_attention:!1,text_encoder:"smooth_mix_noobai_illustrious_pony_illustrious_v.3_1470541_open_clip_vit_bigg14_f16.ckpt",name:"Smooth_Mix_NoobAI_Illustrious_Pony_Illustrious_v.3_1470541",file:"smooth_mix_noobai_illustrious_pony_illustrious_v.3_1470541_f16.ckpt",clip_encoder:"smooth_mix_noobai_illustrious_pony_illustrious_v.3_1470541_clip_vit_l14_f16.ckpt"},{name:"Smooth_Mix_NoobAI_Illustrious_Pony_NoobAI_v2.0_1629718",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"smooth_mix_noobai_illustrious_pony_noobai_v2.0_1629718_open_clip_vit_bigg14_f16.ckpt",modifier:"none",file:"smooth_mix_noobai_illustrious_pony_noobai_v2.0_1629718_f16.ckpt",prefix:"",upcast_attention:!1,clip_encoder:"smooth_mix_noobai_illustrious_pony_noobai_v2.0_1629718_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9"},{upcast_attention:!1,name:"Smooth_Mix_NoobAI_Illustrious_Pony_Pony_v.3_997031",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",default_scale:16,text_encoder:"smooth_mix_noobai_illustrious_pony_pony_v.3_997031_open_clip_vit_bigg14_f16.ckpt",prefix:"",file:"smooth_mix_noobai_illustrious_pony_pony_v.3_997031_f16.ckpt",clip_encoder:"smooth_mix_noobai_illustrious_pony_pony_v.3_997031_clip_vit_l14_f16.ckpt"},{name:"Smooth_Mix_NoobAI_Illustrious_Pony_Realism_1675843",prefix:"",modifier:"none",text_encoder:"smooth_mix_noobai_illustrious_pony_realism_1675843_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"smooth_mix_noobai_illustrious_pony_realism_1675843_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",file:"smooth_mix_noobai_illustrious_pony_realism_1675843_f16.ckpt",upcast_attention:!1,default_scale:16},{version:"sdxl_base_v0.9",prefix:"",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"snowpony_open_clip_vit_bigg14_f16.ckpt",name:"SnowPony",modifier:"none",file:"snowpony_f16.ckpt",clip_encoder:"snowpony_clip_vit_l14_f16.ckpt",default_scale:16},{default_scale:16,modifier:"none",file:"steinillustrious_f16.ckpt",text_encoder:"steinillustrious_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,clip_encoder:"steinillustrious_clip_vit_l14_f16.ckpt",name:"SteinIllustrious"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"869391_stoiqonewrealityfluxsd35_f1dalpha_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Stoiqo_Newreality_FLUXSD35_F1DAlpha",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"979329_stoiqonewrealityfluxsd35_f1dalphatwo_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Stoiqo_Newreality_FLUXSD35_f1DAlpha_Two",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"897489_stoiqoafroditefluxxl_f1dalpha_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"STOIQOAfrodite_FLUXXL_F1DAlpha",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"742904_thearamintaexperiment_flux1a1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"The_Araminta_Experiment_flux1A1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{file:"throwing_pasta_mix_spaghetti_f16.ckpt",clip_encoder:"throwing_pasta_mix_spaghetti_clip_vit_l14_f16.ckpt",modifier:"none",name:"Throwing-Pasta-MIX-Spaghetti",text_encoder:"throwing_pasta_mix_spaghetti_open_clip_vit_bigg14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",default_scale:16,upcast_attention:!1,version:"sdxl_base_v0.9"},{text_encoder:"toonify_toonify_illustrious_1495132_open_clip_vit_bigg14_f16.ckpt",prefix:"",name:"Toonify_Toonify_Illustrious_1495132",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",modifier:"none",clip_encoder:"toonify_toonify_illustrious_1495132_clip_vit_l14_f16.ckpt",default_scale:16,file:"toonify_toonify_illustrious_1495132_f16.ckpt",version:"sdxl_base_v0.9"},{modifier:"none",file:"toonify_toonify_ponydiffusionxl_410539_f16.ckpt",default_scale:16,upcast_attention:!1,clip_encoder:"toonify_toonify_ponydiffusionxl_410539_clip_vit_l14_f16.ckpt",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",version:"sdxl_base_v0.9",name:"Toonify_Toonify_PonyDiffusionXL_410539",text_encoder:"toonify_toonify_ponydiffusionxl_410539_open_clip_vit_bigg14_f16.ckpt"},{default_scale:8,upcast_attention:!1,file:"tt_animerge_f16.ckpt",text_encoder:"tt_animerge_clip_vit_l14_f16.ckpt",name:"tt-animerge",version:"v1",modifier:"none",prefix:""},{name:"Ultra-Realistic-By-Stable-Yogi-Pony",prefix:"",file:"ultra_realistic_by_stable_yogi_pony_f16.ckpt",upcast_attention:!1,default_scale:16,text_encoder:"ultra_realistic_by_stable_yogi_pony_open_clip_vit_bigg14_f16.ckpt",modifier:"none",version:"sdxl_base_v0.9",clip_encoder:"ultra_realistic_by_stable_yogi_pony_clip_vit_l14_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1454015_ultrarealfinetune_v1_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ultrareal_Fine_Tune_v1",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1095703_ultrarealfinetune_v10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ultrareal_Fine_Tune_v10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1164498_ultrarealfinetune_v20_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ultrareal_Fine_Tune_v20",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"1413133_ultrarealfinetune_v4_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Ultrareal_Fine_Tune_v4",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{upcast_attention:!1,clip_encoder:"umbroxponyxl_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",name:"UmbroxPonyXL",prefix:"",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16,file:"umbroxponyxl_f16.ckpt",text_encoder:"umbroxponyxl_open_clip_vit_bigg14_f16.ckpt"},{modifier:"none",clip_encoder:"uncanny_valley_clip_vit_l14_f16.ckpt",prefix:"",text_encoder:"uncanny_valley_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",autoencoder:"sdxl_vae_v1.0_f16.ckpt",name:"Uncanny-valley",default_scale:16,upcast_attention:!1,file:"uncanny_valley_f16.ckpt"},{modifier:"none",version:"sdxl_base_v0.9",default_scale:16,autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",file:"untitled_pony_f16.ckpt",text_encoder:"untitled_pony_open_clip_vit_bigg14_f16.ckpt",upcast_attention:!1,name:"untitled-pony",clip_encoder:"untitled_pony_clip_vit_l14_f16.ckpt"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"988886_verusvision10b_10btransformer_q8p.ckpt",high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Verus_Vision10b_10b_Transformer",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{clip_encoder:"virtual_diffusion_pony_xl_2025_clip_vit_l14_f16.ckpt",prefix:"",upcast_attention:!1,text_encoder:"virtual_diffusion_pony_xl_2025_open_clip_vit_bigg14_f16.ckpt",version:"sdxl_base_v0.9",modifier:"none",name:"Virtual-Diffusion-Pony-XL-2025",file:"virtual_diffusion_pony_xl_2025_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",default_scale:16},{name:"Vixon_s-Dream-Weave",upcast_attention:!1,autoencoder:"sdxl_vae_v1.0_f16.ckpt",text_encoder:"vixon_s_dream_weave_open_clip_vit_bigg14_f16.ckpt",clip_encoder:"vixon_s_dream_weave_clip_vit_l14_f16.ckpt",version:"sdxl_base_v0.9",file:"vixons_dream_weave_f16.ckpt",modifier:"none",default_scale:16,prefix:""},{modifier:"none",clip_encoder:"wai_shuffle_noob_clip_vit_l14_f16.ckpt",text_encoder:"wai_shuffle_noob_open_clip_vit_bigg14_f16.ckpt",name:"WAI-SHUFFLE-NOOB",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,default_scale:16,file:"wai_shuffle_noob_f16.ckpt",prefix:"",version:"sdxl_base_v0.9"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"862533_whiteflux1_v10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Whiteflux1_v10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"791130_xehentaianimeflux_03_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Xe_Hentai_Anime_FLUX_03",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"807911_xehentaianimeflux_04_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Xe_Hentai_Anime_FLUX_04",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{autoencoder:"flux_1_vae_f16.ckpt",clip_encoder:"clip_vit_l14_f16.ckpt",default_scale:16,file:"951641_xueronecyantencolor_fluxv10_q8p.ckpt",guidance_embed:!0,high_precision_autoencoder:!0,hires_fix_scale:24,modifier:"none",name:"Xuer_One_Cyan_Ten_Color_flux_V10",noise_discretization:{rf:{_0:{condition_scale:1e3,sigma_max:1,sigma_min:0}}},objective:{u:{condition_scale:1e3}},prefix:"",text_encoder:"t5_xxl_encoder_q6p.ckpt",upcast_attention:!1,version:"flux1"},{text_encoder:"zavychromaxl_open_clip_vit_bigg14_f16.ckpt",modifier:"none",autoencoder:"sdxl_vae_v1.0_f16.ckpt",upcast_attention:!1,version:"sdxl_base_v0.9",prefix:"",clip_encoder:"zavychromaxl_clip_vit_l14_f16.ckpt",default_scale:16,name:"ZavyChromaXL",file:"zavychromaxl_f16.ckpt"},{modifier:"none",default_scale:16,clip_encoder:"zep9_clip_vit_l14_f16.ckpt",file:"zep9_f16.ckpt",autoencoder:"sdxl_vae_v1.0_f16.ckpt",prefix:"",upcast_attention:!1,text_encoder:"zep9_open_clip_vit_bigg14_f16.ckpt",name:"ZEP9",version:"sdxl_base_v0.9"}]});var qo={};Ze(qo,{default:()=>ra});var ra,Po=Je(()=>{ra=[{version:"flux1",file:"controlnet_alimama_inpaint_flux_1_dev_beta_q8p.ckpt",name:"Alimam Inpaint Beta (FLUX.1 [dev], ControlNet)",global_average_pooling:!1,transformer_blocks:[6,0],type:"controlnet",modifier:"inpaint"},{version:"flux1",file:"controlnet_alimama_inpaint_flux_1_dev_beta_q6p.ckpt",name:"Alimam Inpaint Beta (FLUX.1 [dev], ControlNet) (6-bit)",global_average_pooling:!1,transformer_blocks:[6,0],type:"controlnet",modifier:"inpaint"},{version:"sdxl_base_v0.9",file:"controlnet_canny_kwai_kolors_1.0_f16.ckpt",modifier:"canny",name:"Canny Edge Map (Kwai Kolors 1.0)",global_average_pooling:!1,transformer_blocks:[],type:"controlnet"},{version:"sdxl_base_v0.9",file:"controlnet_canny_kwai_kolors_1.0_q6p_q8p.ckpt",modifier:"canny",name:"Canny Edge Map (Kwai Kolors 1.0) (8-bit)",global_average_pooling:!1,transformer_blocks:[],type:"controlnet"},{name:"Canny Edge Map (SD v1.x, ControlNet 1.0)",file:"controlnet_canny_1.x_f16.ckpt",modifier:"canny",version:"v1",type:"controlnet",deprecated:!0},{name:"Canny Edge Map (SD v1.x, ControlNet 1.1)",file:"controlnet_canny_1.x_v1.1_f16.ckpt",modifier:"canny",version:"v1",type:"controlnet"},{name:"Canny Edge Map (SD v1.x, T2I Adapter)",file:"t2iadapter_canny_1.x_f16.ckpt",modifier:"canny",version:"v1",type:"t2iadapter"},{name:"Canny Edge Map (SD v2.x, ControlNet)",file:"controlnet_canny_2.x_f16.ckpt",modifier:"canny",version:"v2",type:"controlnet"},{name:"Canny Edge Map (SDXL, ControlNet, Diffusers 1.0 Mid)",file:"controlnet_canny_sdxl_v1.0_mid_f16.ckpt",modifier:"canny",version:"sdxl_base_v0.9",type:"controlnet",transformerBlocks:[0,0,1,1]},{name:"Color Palette (SD v1.x, T2I Adapter)",file:"t2iadapter_color_1.x_f16.ckpt",modifier:"color",version:"v1",type:"t2iadapter"},{version:"sdxl_base_v0.9",file:"controlnet_depth_kwai_kolors_1.0_f16.ckpt",modifier:"depth",name:"Depth Map (Kwai Kolors 1.0)",global_average_pooling:!1,transformer_blocks:[],type:"controlnet"},{version:"sdxl_base_v0.9",file:"controlnet_depth_kwai_kolors_1.0_q6p_q8p.ckpt",modifier:"depth",name:"Depth Map (Kwai Kolors 1.0) (8-bit)",global_average_pooling:!1,transformer_blocks:[],type:"controlnet"},{name:"Depth Map (SD v1.x, ControlNet 1.0)",file:"controlnet_depth_1.x_f16.ckpt",modifier:"depth",version:"v1",type:"controlnet",deprecated:!0},{name:"Depth Map (SD v1.x, ControlNet 1.1)",file:"controlnet_depth_1.x_v1.1_f16.ckpt",modifier:"depth",version:"v1",type:"controlnet"},{name:"Depth Map (SD v1.x, T2I Adapter)",file:"t2iadapter_depth_1.x_f16.ckpt",modifier:"depth",version:"v1",type:"t2iadapter"},{name:"Depth Map (SD v2.x, ControlNet)",file:"controlnet_depth_2.x_f16.ckpt",modifier:"depth",version:"v2",type:"controlnet"},{name:"Depth Map (SDXL, ControlNet, Diffusers 1.0 Mid)",file:"controlnet_depth_sdxl_v1.0_mid_f16.ckpt",modifier:"depth",version:"sdxl_base_v0.9",type:"controlnet",transformerBlocks:[0,0,1,1]},{version:"flux1",file:"flex_1_redux_siglip2_512_f16.ckpt",modifier:"shuffle",name:"FLEX.1 Redux SigLIP2 512 (FLUX.1)",global_average_pooling:!1,transformer_blocks:[],type:"redux",image_encoder:"siglip2_so400m_512_f16.ckpt",image_encoder_version:"siglip2_l27_512"},{version:"flux1",file:"flux_1_redux_f16.ckpt",modifier:"shuffle",name:"FLUX.1 Redux (FLUX.1)",global_average_pooling:!1,transformer_blocks:[],type:"redux",image_encoder:"siglip_so400m_384_f16.ckpt",image_encoder_version:"siglip_l27_384"},{version:"v1",file:"ootd_garm_full_body_1.0_f16.ckpt",modifier:"shuffle",name:"Garment UNet (Full-Body, Outfitting Fusion)",global_average_pooling:!1,transformer_blocks:[],type:"inject_kv",image_encoder:"clip_vit_l14_vision_model_f16.ckpt",autoencoder:"vae_ft_mse_840000_f16.ckpt"},{version:"v1",file:"ootd_garm_upper_body_1.0_f16.ckpt",modifier:"shuffle",name:"Garment UNet (Upper-Body, Outfitting Fusion)",global_average_pooling:!1,transformer_blocks:[],type:"inject_kv",image_encoder:"clip_vit_l14_vision_model_f16.ckpt",autoencoder:"vae_ft_mse_840000_f16.ckpt"},{name:"Inpainting (SD v1.x, ControlNet 1.1)",file:"controlnet_inpaint_1.x_v1.1_f16.ckpt",modifier:"inpaint",version:"v1",type:"controlnet"},{name:"Instruct Pix2Pix (SD v1.x, ControlNet 1.1)",file:"controlnet_ip2p_1.x_v1.1_f16.ckpt",modifier:"ip2p",version:"v1",type:"controlnet"},{version:"sdxl_base_v0.9",file:"ip_adapter_faceid_plus_kwai_kolors_1.0_clip_l14_336_f16.ckpt",modifier:"shuffle",name:"IP Adapter FaceID Plus (Kwai Kolors 1.0)",global_average_pooling:!1,transformer_blocks:[],type:"ipadapterfaceidplus",image_encoder:"clip_vit_l14_336_vision_model_f16.ckpt",image_encoder_version:"clip_l14_336",preprocessor:"arcface_f16.ckpt",ip_adapter_config:{input_dim:4096,query_dim:4096,output_dim:4096,head_dim:64,num_heads:64,grid:24}},{version:"sdxl_base_v0.9",file:"ip_adapter_faceid_plus_kwai_kolors_1.0_clip_l14_336_q8p.ckpt",modifier:"shuffle",name:"IP Adapter FaceID Plus (Kwai Kolors 1.0) (8-bit)",global_average_pooling:!1,transformer_blocks:[],type:"ipadapterfaceidplus",image_encoder:"clip_vit_l14_336_vision_model_f16.ckpt",image_encoder_version:"clip_l14_336",preprocessor:"arcface_f16.ckpt",ip_adapter_config:{input_dim:4096,query_dim:4096,output_dim:4096,head_dim:64,num_heads:64,grid:24}},{name:"IP Adapter Full Face (SD v1.x)",file:"ip_adapter_full_face_sd_v1.x_open_clip_h14_f16.ckpt",modifier:"shuffle",version:"v1",type:"ipadapterfull",imageEncoder:"open_clip_vit_h14_vision_model_f16.ckpt"},{version:"sdxl_base_v0.9",file:"ip_adapter_plus_kwai_kolors_1.0_clip_l14_336_f16.ckpt",modifier:"shuffle",name:"IP Adapter Plus (Kwai Kolors 1.0)",global_average_pooling:!1,transformer_blocks:[],type:"ipadapterplus",image_encoder:"clip_vit_l14_336_vision_model_f16.ckpt",image_encoder_version:"clip_l14_336",ip_adapter_config:{input_dim:2048,query_dim:2048,output_dim:2048,head_dim:64,num_heads:12,grid:24}},{name:"IP Adapter Plus (SD v1.x)",file:"ip_adapter_plus_sd_v1.x_open_clip_h14_f16.ckpt",modifier:"shuffle",version:"v1",type:"ipadapterplus",imageEncoder:"open_clip_vit_h14_vision_model_f16.ckpt"},{name:"IP Adapter Plus (SDXL Base)",file:"ip_adapter_plus_xl_base_open_clip_h14_f16.ckpt",modifier:"shuffle",version:"sdxl_base_v0.9",type:"ipadapterplus",imageEncoder:"open_clip_vit_h14_vision_model_f16.ckpt"},{name:"IP Adapter Plus Face (SD v1.x)",file:"ip_adapter_plus_face_sd_v1.x_open_clip_h14_f16.ckpt",modifier:"shuffle",version:"v1",type:"ipadapterplus",imageEncoder:"open_clip_vit_h14_vision_model_f16.ckpt"},{name:"IP Adapter Plus Face (SDXL Base)",file:"ip_adapter_plus_face_xl_base_open_clip_h14_f16.ckpt",modifier:"shuffle",version:"sdxl_base_v0.9",type:"ipadapterplus",imageEncoder:"open_clip_vit_h14_vision_model_f16.ckpt"},{version:"flux1",file:"controlnet_jasper_ai_upscaler_flux_1_dev_1.0_f16.ckpt",name:"Jasper AI Upscaler (FLUX.1 [dev], ControlNet)",global_average_pooling:!1,transformer_blocks:[5,0],type:"controlnet",modifier:"tile"},{name:"LineArt (SD v1.x, ControlNet 1.1)",file:"controlnet_lineart_1.x_v1.1_f16.ckpt",modifier:"lineart",version:"v1",type:"controlnet"},{name:"LineArt Anime (SD v1.x, ControlNet 1.1)",file:"controlnet_lineart_anime_1.x_v1.1_f16.ckpt",modifier:"lineart",version:"v1",type:"controlnet"},{version:"hunyuan_video",file:"llava_llama_3_8b_v1.1_multi_modal_projector_f16.ckpt",modifier:"shuffle",name:"LLaVA Image Prompt (Hunyuan Video)",global_average_pooling:!1,transformer_blocks:[],type:"llava",image_encoder:"clip_vit_l14_336_vision_model_f16.ckpt",image_encoder_version:"clip_l14_336"},{name:"MLSD Hough Map (SD v1.x, ControlNet 1.1)",file:"controlnet_mlsd_1.x_v1.1_f16.ckpt",modifier:"mlsd",version:"v1",type:"controlnet"},{name:"Normal Map (SD v1.x, ControlNet 1.1)",file:"controlnet_normalbae_1.x_v1.1_f16.ckpt",modifier:"normalbae",version:"v1",type:"controlnet"},{version:"sdxl_base_v0.9",file:"controlnet_pose_kwai_kolors_1.0_f16.ckpt",modifier:"pose",name:"Pose (Kwai Kolors 1.0)",global_average_pooling:!1,transformer_blocks:[],type:"controlnet"},{version:"sdxl_base_v0.9",file:"controlnet_pose_kwai_kolors_1.0_q6p_q8p.ckpt",modifier:"pose",name:"Pose (Kwai Kolors 1.0) (8-bit)",global_average_pooling:!1,transformer_blocks:[],type:"controlnet"},{name:"Pose (SD v1.x, ControlNet 1.0)",file:"controlnet_openpose_1.x_f16.ckpt",modifier:"pose",version:"v1",type:"controlnet",deprecated:!0},{name:"Pose (SD v1.x, ControlNet 1.1)",file:"controlnet_openpose_1.x_v1.1_f16.ckpt",modifier:"pose",version:"v1",type:"controlnet"},{name:"Pose (SD v1.x, T2I Adapter)",file:"t2iadapter_openpose_1.x_f16.ckpt",modifier:"pose",version:"v1",type:"t2iadapter"},{name:"Pose (SD v2.x, ControlNet)",file:"controlnet_openpose_2.x_f16.ckpt",modifier:"pose",version:"v2",type:"controlnet"},{version:"flux1",file:"pulid_0.9.1_eva02_clip_l14_336_f16.ckpt",modifier:"shuffle",name:"PuLID 0.9.1 (FLUX.1 [dev])",global_average_pooling:!1,transformer_blocks:[],type:"pulid",image_encoder:"eva02_clip_l14_336_f16.ckpt",image_encoder_version:"eva02_l14_336",preprocessor:"arcface_f16.ckpt",ip_adapter_config:{input_dim:1024,query_dim:1024,output_dim:2048,head_dim:64,num_heads:16,grid:24}},{name:"QR Code (SD v1.x, ControlNet Monster 2.0)",file:"controlnet_qr_code_monster_1.x_v2.0_f16.ckpt",modifier:"scribble",version:"v1",type:"controlnet"},{name:"Scribble (SD v1.x, ControlNet 1.0)",file:"controlnet_scribble_1.x_f16.ckpt",modifier:"scribble",version:"v1",type:"controlnet",preprocessor:"hed_f16.ckpt",deprecated:!0},{name:"Scribble (SD v1.x, ControlNet 1.1)",file:"controlnet_scribble_1.x_v1.1_f16.ckpt",modifier:"scribble",version:"v1",type:"controlnet",preprocessor:"hed_f16.ckpt"},{name:"Scribble (SD v1.x, T2I Adapter)",file:"t2iadapter_sketch_1.x_f16.ckpt",modifier:"scribble",version:"v1",type:"t2iadapter"},{name:"Scribble (SD v2.x, ControlNet)",file:"controlnet_scribble_2.x_f16.ckpt",modifier:"scribble",version:"v2",type:"controlnet",preprocessor:"hed_f16.ckpt"},{name:"Segmentation (SD v1.x, ControlNet 1.1)",file:"controlnet_seg_1.x_v1.1_f16.ckpt",modifier:"seg",version:"v1",type:"controlnet"},{name:"Shuffle (SD v1.x, ControlNet 1.1)",file:"controlnet_shuffle_1.x_v1.1_f16.ckpt",modifier:"shuffle",version:"v1",type:"controlnet",globalAveragePooling:!0},{name:"Soft Edge (SD v1.x, ControlNet 1.1)",file:"controlnet_softedge_1.x_v1.1_f16.ckpt",modifier:"softedge",version:"v1",type:"controlnet",preprocessor:"hed_f16.ckpt"},{name:"Tile (SD v1.x, ControlNet 1.1)",file:"controlnet_tile_1.x_v1.1_f16.ckpt",modifier:"tile",version:"v1",type:"controlnet"},{version:"flux1",file:"controlnet_union_pro_flux_1_dev_1.0_q8p.ckpt",name:"Union Pro (FLUX.1 [dev], ControlNet)",global_average_pooling:!1,transformer_blocks:[5,10],type:"controlnetunion"},{version:"flux1",file:"controlnet_union_pro_flux_1_dev_1.0_q5p.ckpt",name:"Union Pro (FLUX.1 [dev], ControlNet) (5-bit)",global_average_pooling:!1,transformer_blocks:[5,10],type:"controlnetunion"},{version:"flux1",file:"controlnet_union_pro_flux_1_dev_2.0_q8p.ckpt",name:"Union Pro 2.0 (FLUX.1 [dev], ControlNet)",global_average_pooling:!1,transformer_blocks:[6,0],type:"controlnet"},{version:"flux1",file:"controlnet_union_pro_flux_1_dev_2.0_q5p.ckpt",name:"Union Pro 2.0 (FLUX.1 [dev], ControlNet) (5-bit)",global_average_pooling:!1,transformer_blocks:[6,0],type:"controlnet"},{name:"VACE (Wan 2.1, 1.3B)",file:"wan_v2.1_1.3b_vace_480p_f16.ckpt",modifier:"shuffle",version:"wan_v2.1_1.3b",type:"controlnet"},{name:"VACE (Wan 2.1, 1.3B) (8-bit)",file:"wan_v2.1_1.3b_vace_480p_q8p.ckpt",modifier:"shuffle",version:"wan_v2.1_1.3b",type:"controlnet"},{name:"VACE (Wan 2.1, 14B)",file:"wan_v2.1_14b_vace_720p_f16.ckpt",modifier:"shuffle",version:"wan_v2.1_14b",type:"controlnet"},{name:"VACE (Wan 2.1, 14B) (8-bit)",file:"wan_v2.1_14b_vace_720p_q8p.ckpt",modifier:"shuffle",version:"wan_v2.1_14b",type:"controlnet"},{version:"sdxl_base_v0.9",file:"controlnet_xinsir_union_promax_sdxl_1.0_f16.ckpt",name:"Xinsir Union ProMax (SDXL, ControlNet)",global_average_pooling:!1,transformer_blocks:[],type:"controlnetunion"}]});var Ro={};Ze(Ro,{default:()=>la});var la,Fo=Je(()=>{la=[{name:"360 Degree [dev]",prefix:"",is_lo_ha:!1,version:"flux1",file:"360_degree__dev__lora_f16.ckpt"},{name:"ACE++: Local Editing",prefix:"",is_lo_ha:!1,version:"flux1",file:"ace____local_editing_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5},note:"[ACE++](https://huggingface.co/ali-vilab/ACE_Plus) is an effective transfer method that fine-tunes FLUX.1 Fill [dev] model. This LoRA enables sketch-to-image for the masked area."},{name:"ACE++: Portrait",prefix:"",is_lo_ha:!1,version:"flux1",file:"ace____portrait_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5},note:"[ACE++](https://huggingface.co/ali-vilab/ACE_Plus) is an effective transfer method that fine-tunes FLUX.1 Fill [dev] model. The reference image is placed on the left, while the right side is either the image to edit or left blank. The model uses the left-side reference image during generation. This LoRA enables the transfer of a person's identity to a new image."},{name:"ACE++: Subject",prefix:"",is_lo_ha:!1,version:"flux1",file:"ace____subject_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5},note:"[ACE++](https://huggingface.co/ali-vilab/ACE_Plus) is an effective transfer method that fine-tunes FLUX.1 Fill [dev] model. The reference image is placed on the left, while the right side is either the image to edit or left blank. The model uses the left-side reference image during generation. This LoRA enables the transfer of a subject (such as a logo) to a new image."},{name:"Adam's Artwork Style v.1",file:"adams_artwork_style_v0.1_lora_f16.ckpt",prefix:"ajaws ",version:"v1"},{version:"v1",name:"Add More Details (Detail Enhancer / Tweaker)",prefix:"",is_lo_ha:!1,file:"add_more_details__detail_enhancer___tweaker__lora_f16.ckpt"},{name:"Age Slider",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"age_slider_lora_f16.ckpt"},{name:"Amateur Photography v3.5 [dev]",prefix:"",is_lo_ha:!1,version:"flux1",file:"amateur_photography_v3.5__dev__lora_f16.ckpt"},{name:"Analog Diffusion v1.0",file:"analog_diffusion_v1_lora_f16.ckpt",prefix:"analog ",version:"v1"},{name:"Anime LineArt Style v2.0",file:"anime_lineart_style_v2.0_lora_f16.ckpt",prefix:"",version:"v1"},{name:"AntiBlur v1.0 [dev]",prefix:"",is_lo_ha:!1,version:"flux1",file:"antiblur_v1.0__dev__lora_f16.ckpt"},{version:"v1",file:"arcane_style_lora_f16.ckpt",prefix:"arcane style ",name:"Arcane Style"},{name:"Boring Reality v2 [dev]",prefix:"",is_lo_ha:!1,version:"flux1",file:"boring_reality_v2_lora_f16.ckpt"},{name:"CCXL-Mucha Art Style",file:"ccxl_mucha_art_style_lora_f16.ckpt",prefix:"ccxl-mucha ",is_lo_ha:!1,version:"sdxl_base_v0.9"},{name:"ChronoEdit 14B Step Distill",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"chronoedit_14b_step_distill_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"ChronoEdit 14B Upsample",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"chronoedit_14b_upsample_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{version:"v1",file:"crazy_expressions_lora_f16.ckpt",prefix:"crazy face ",name:"Crazy Expressions"},{name:"Cyberpunk 2077 Nightcity v1.15",file:"cyberpunk_2007_concept_art_nightcity_v1.15_lora_f16.ckpt",prefix:"",version:"v1"},{name:"DMD2 SDXL 4-Step",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"dmd2_sdxl_4_step_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Epi Noise Offset v2",file:"epi_noiseoffset_v2_lora_f16.ckpt",prefix:"",version:"v1"},{name:"Fix Hands Slider",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"fix_hands_slider_lora_f16.ckpt"},{name:"FLUX.1 [dev] to [schnell] 4-Step",prefix:"",is_lo_ha:!1,version:"flux1",file:"flux.1__dev__to__schnell__4_step_lora_f16.ckpt"},{name:"FLUX.1 Canny [dev]",prefix:"",is_lo_ha:!1,version:"flux1",file:"flux_1_canny_dev_lora_f16.ckpt",modifier:"canny",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"FLUX.1 Depth [dev]",prefix:"",is_lo_ha:!1,version:"flux1",file:"flux_1_depth_dev_lora_f16.ckpt",modifier:"depth",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"FLUX.1 Turbo Alpha",prefix:"",is_lo_ha:!1,version:"flux1",file:"flux.1_turbo_alpha_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Fooocus Inpaint v2.6",file:"fooocus_inpaint_v2.6_lora_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",modifier:"inpainting"},{name:"Fooocus Inpaint v2.6 (8-bit)",file:"fooocus_inpaint_v2.6_lora_q8p.ckpt",prefix:"",version:"sdxl_base_v0.9",modifier:"inpainting"},{name:"Foreground to Blending",file:"layer_xl_fg2ble_v1.0_lora_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",modifier:"inpainting"},{name:"Ghibli Cartoon Art",prefix:"Ghibli Art",is_lo_ha:!1,version:"flux1",file:"ghibli_cartoon_art_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{version:"v1",file:"haute_couture_or_gowns_v1.0_lora_f16.ckpt",prefix:"hc_gown ",name:"Haute Couture or Gowns v1.0"},{name:"HiDream E1",prefix:"",is_lo_ha:!1,version:"hidream_i1",modifier:"editing",file:"hidream_e1_full_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{version:"v1",file:"hipoly_3d_model_lora_f16.ckpt",prefix:"hiqcgbody ",name:"Hipoly 3D Model"},{name:"Hyper FLUX.1 [dev] 16-Step",prefix:"",is_lo_ha:!1,version:"flux1",file:"hyper_flux.1__dev__16_step_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Hyper FLUX.1 [dev] 8-Step",prefix:"",is_lo_ha:!1,version:"flux1",file:"hyper_flux.1__dev__8_step_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Hyper SD v1.x 4-Step",prefix:"",is_lo_ha:!1,version:"v1",is_consistency_model:!0,file:"hyper_sd_v1.x_4_step_lora_f16.ckpt"},{name:"Hyper SD v1.x 8-Step",prefix:"",is_lo_ha:!1,version:"v1",is_consistency_model:!0,file:"hyper_sd_v1.x_8_step_lora_f16.ckpt"},{name:"Hyper SD3 16-Step CFG",prefix:"",is_lo_ha:!1,version:"sd3",file:"hyper_sd3_16_step_cfg_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Hyper SD3 4-Step CFG",prefix:"",is_lo_ha:!1,version:"sd3",file:"hyper_sd3_4_step_cfg_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Hyper SD3 8-Step CFG",prefix:"",is_lo_ha:!1,version:"sd3",file:"hyper_sd3_8_step_cfg_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Hyper SDXL 4-Step",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",is_consistency_model:!0,file:"hyper_sdxl_4_step_lora_f16.ckpt"},{name:"Hyper SDXL 8-Step",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",is_consistency_model:!0,file:"hyper_sdxl_8_step_lora_f16.ckpt"},{name:"ICEdit Normal",prefix:"",is_lo_ha:!1,version:"flux1",file:"icedit_normal_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5},note:"[ICEdit](https://huggingface.co/RiverZ/normal-lora) is an efficient and effective method for instruction-based image editing. With only 1% trainable parameters (200M) and 0.1% training data (50k) compared to previous methods, ICEdit demonstrates strong generalization capabilities and is capable of handling diverse editing tasks. The model uses the left-side reference image during generation."},{name:"In-Context: Couple Profile",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__couple_profile_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"In-Context: Film Storyboard",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__film_storyboard_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"In-Context: Font Design",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__font_design_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"In-Context: Home Decoration",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__home_decoration_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"In-Context: Portrait Illustration",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__portrait_illustration_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"In-Context: Portrait Photography",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__portrait_photography_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"In-Context: PPT Templates",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__ppt_templates_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"In-Context: Visual Identity Design",prefix:"",is_lo_ha:!1,version:"flux1",file:"in_context__visual_identity_design_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"LCM SDXL Base (1.0)",file:"lcm_sd_xl_base_1.0_lora_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",isConsistencyModel:!0},{name:"LCM SDXL Refiner (1.0)",file:"lcm_sd_xl_refiner_1.0_lora_f16.ckpt",prefix:"",version:"sdxl_refiner_v0.9",isConsistencyModel:!0},{version:"ssd_1b",file:"lcm_ssd_1b_lora_f16.ckpt",prefix:"",name:"LCM SSD 1B (Segmind)"},{name:"LCM Stable Diffusion v1.5",file:"lcm_sd_v1.5_lora_f16.ckpt",prefix:"",version:"v1",isConsistencyModel:!0},{name:"Long Hair Slider",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"long_hair_slider_lora_f16.ckpt"},{name:"Mascular Slider",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"mascular_slider_lora_f16.ckpt"},{version:"v1",name:"Moxin Shukezouma v1.1",prefix:"shukezouma ",file:"moxin_shukezouma_v1.1_lora_f16.ckpt"},{version:"v1",file:"moxin_v1.0_lora_f16.ckpt",name:"Moxin v1.0",prefix:"shuimobysim "},{name:"Object Removal for FLUX.1 Fill v2",prefix:"",is_lo_ha:!1,version:"flux1",file:"object_removal_for_flux.1_fill_v2_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5},note:"This is an Object Removal LoRA fine-tuned from Flux Fill Dev model by [lrzjason](https://huggingface.co/lrzjason). The lora is designed to remove objects from specified masked areas, making it useful for image editing tasks where unwanted objects need to be erased seamlessly."},{name:"Openjourney v1.0",file:"openjourney_v1_lora_f16.ckpt",prefix:"mdjrny-v4 ",version:"v1"},{name:"Papercut SDXL",prefix:"papercut ",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"papercut_sdxl_lora_f16.ckpt"},{name:"PCM SD3 4-Step",prefix:"",is_lo_ha:!1,version:"sd3",file:"pcm_sd3_4_step_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Pixel Art XL v1.1",prefix:"",is_lo_ha:!1,file:"pixel_art_xl_v1.1_lora_f16.ckpt",version:"sdxl_base_v0.9"},{name:"Pony: People\u2019s Works v8_Illusv 2.0 Stable",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"pony__people_s_works_v8_illusv_2.0_stable_lora_f16.ckpt"},{name:"Qwen Edit 2509 Anything2Real",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_edit_2509_anything2real_lora_f16.ckpt",weight:{value:.9,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Edit 2509 Fusion",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_edit_2509_fusion_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Edit 2509 Multiple Angles",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_edit_2509_multiple_angles_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Edit 2509 Relight",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_edit_2509_relight_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Edit 2509 White to Scene",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_edit_2509_white_to_scene_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image 1.0 Lightning 4-Step v1.0",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_1.0_lightning_4_step_v1.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image 1.0 Lightning 4-Step v2.0",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_1.0_lightning_4_step_v2.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image 1.0 Lightning 8-Step v1.1",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_1.0_lightning_8_step_v1.1_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image 1.0 Lightning 8-Step v2.0",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_1.0_lightning_8_step_v2.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image Edit 1.0 Lightning 4-Step v1.0",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_edit_1.0_lightning_4_step_v1.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image Edit 1.0 Lightning 8-Step v1.0",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_edit_1.0_lightning_8_step_v1.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image Edit 2509 Lightning 4-Step v1.0",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_edit_2509_lightning_4_step_v1.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Qwen Image Edit 2509 Lightning 8-Step v1.0",prefix:"",is_lo_ha:!1,version:"qwen_image",file:"qwen_image_edit_2509_lightning_8_step_v1.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"SD3 Medium 3.5 Turbo 4-Step",prefix:"",is_lo_ha:!1,version:"sd3",file:"sd3_medium_3.5_turbo_4_step_lora_f16.ckpt"},{name:"SD3 Medium 3.5 Turbo 8-Step",prefix:"",is_lo_ha:!1,version:"sd3",file:"sd3_medium_3.5_turbo_8_step_lora_f16.ckpt"},{name:"SDXL Lightning 4-Step",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",is_consistency_model:!0,file:"sdxl_lightning_4_step_lora_f16.ckpt"},{name:"SDXL Lightning 8-Step",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",is_consistency_model:!0,file:"sdxl_lightning_8_step_lora_f16.ckpt"},{name:"SDXL Offset (1.0)",file:"sdxl_offset_v1.0_lora_f16.ckpt",prefix:"",version:"sdxl_base_v0.9"},{version:"v1",name:"SDXL Render v2.0",prefix:"",is_lo_ha:!1,file:"sdxl_render_v2.0_lora_f16.ckpt"},{name:"Smiling Slider",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"smiling_slider_lora_f16.ckpt"},{name:"Surprised Look Slider",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"surprised_look_slider_lora_f16.ckpt"},{name:"TCD SDXL Base (1.0)",file:"tcd_sd_xl_base_1.0_lora_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",isConsistencyModel:!0},{name:"TCD Stable Diffusion v1.5",file:"tcd_sd_v1.5_lora_f16.ckpt",prefix:"",version:"v1",isConsistencyModel:!0},{version:"v1",file:"theovercomer8s_contrast_fix_lora_f16.ckpt",prefix:"to8contrast style ",name:"Theovercomer8's Contrast Fix"},{version:"v2",file:"theovercomer8s_contrast_fix_sd_v2.x_lora_f16.ckpt",prefix:"to8contrast style ",name:"Theovercomer8's Contrast Fix"},{version:"v1",file:"to8s_high_key_lora_f16.ckpt",prefix:"to8highkey ",name:"TO8's High Key"},{version:"v2",file:"to8s_high_key_sd_v2.x_lora_f16.ckpt",prefix:"to8highkey ",name:"TO8's High Key"},{name:"Transparent Image",file:"layer_flux_1_transparent_lora_f16.ckpt",prefix:"",version:"flux1",alternativeDecoder:"flux_1_transparent_vae_decoder_f16.ckpt",alternativeDecoderVersion:"transparent"},{name:"Transparent Image (Attention Injection)",file:"layer_xl_transparent_attn_v1.0_lora_f16.ckpt",prefix:"",version:"sdxl_base_v0.9",alternativeDecoder:"transparent_vae_decoder_v1.0_f16.ckpt",alternativeDecoderVersion:"transparent"},{name:"Transparent Image FLUX.1 [dev]",prefix:"",is_lo_ha:!1,version:"flux1",file:"layer_flux_1_transparent_lora_f16.ckpt",alternative_decoder:"flux_1_transparent_vae_decoder_f16.ckpt",alternative_decoder_version:"transparent",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.1 1.3B CausVid T2V",prefix:"",is_lo_ha:!1,version:"wan_v2.1_1.3b",file:"wan_2.1_1.3b_causvid_t2v_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.1 1.3B CFG Distill",prefix:"",is_lo_ha:!1,version:"wan_v2.1_1.3b",is_consistency_model:!0,file:"wan_2.1_1.3b_cfg_distill_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.1 14B 480p Self-Forcing I2V",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_2.1_14b_480p_self_forcing_i2v_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.1 14B CausVid T2V",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_2.1_14b_causvid_t2v_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.1 14B Self-Forcing T2V",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_2.1_14b_self_forcing_t2v_v2_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning High Noise Expert I2V 251022",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_hne_i2v_lightning_251022_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning High Noise Expert I2V v1.0",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_hne_i2v_lightning_v1.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning High Noise Expert T2V v1.1",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_hne_t2v_lightning_v1.1_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning High Noise Expert T2V v2.0",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_hne_t2v_lightning_v2.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning Low Noise Expert I2V 251022",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_lne_i2v_lightning_251022_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning Low Noise Expert I2V v1.0",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_lne_i2v_lightning_v1.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning Low Noise Expert T2V 250928",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_lne_t2v_lightning_250928_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning Low Noise Expert T2V v1.1",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_lne_t2v_lightning_v1.1_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Wan 2.2 A14B Lightning Low Noise Expert T2V v2.0",prefix:"",is_lo_ha:!1,version:"wan_v2.1_14b",file:"wan_v2.2_a14b_lne_t2v_lightning_v2.0_lora_f16.ckpt",weight:{value:1,lower_bound:-1.5,upper_bound:2.5}},{name:"Weight Slider",prefix:"",is_lo_ha:!1,version:"sdxl_base_v0.9",file:"weight_slider_lora_f16.ckpt"}]});var Mo={};Ze(Mo,{default:()=>da});var da,jo=Je(()=>{da=[{keyword:"actionhelper",version:"v2",name:"Action Helper",file:"actionhelper_ti_f16.ckpt",length:6},{file:"animescreencap_ti_f16.ckpt",name:"Anime ScreenCap",length:6,keyword:"animescreencap",version:"v2"},{file:"bad_prompt_v2_ti_f16.ckpt",keyword:"bad_prompt",version:"v1",name:"Bad Prompt (v2)",length:8},{version:"v1",length:1,keyword:"birb_style",file:"birb_style_ti_f16.ckpt",name:"Birb Style"},{version:"v2",length:4,keyword:"carhelper",file:"carhelper_ti_f16.ckpt",name:"Car Helper"},{keyword:"charturnerv2",version:"v1",name:"Character Turner v2",file:"charturner_v2_ti_f16.ckpt",length:15},{version:"v2",name:"Cinema Helper",file:"cinemahelper_ti_f16.ckpt",keyword:"cinemahelper",length:10},{version:"v2",name:"Classipeint",file:"classipeint_ti_f16.ckpt",keyword:"classipeint",length:15},{version:"v1",length:4,keyword:"cloudport",file:"cloudport_v1.0_ti_f16.ckpt",name:"Cloudport v1.0"},{file:"drd_point_e_768_v_ti_f16.ckpt",keyword:"drd_pnte768",name:`Doctor Diffusion's "Point E" Negative Embedding`,length:8,version:"v2"},{version:"v2",name:"Double Exposure",file:"double_exposure_ti_f16.ckpt",keyword:"double_exposure",length:8},{keyword:"easynegative",version:"v1",name:"EasyNegative",length:8,file:"easynegative_ti_f16.ckpt"},{keyword:"fastnegativev2",version:"v1",name:"Fast Negative",file:"fast_negative_ti_f16.ckpt",length:67},{version:"v2",file:"knollingcase_v4_kc16_5000_ti_f16.ckpt",keyword:"kc16_5000",length:16,name:"Knollingcase (v4)"},{name:"Laxpeint (v2)",file:"laxpeint_v2_ti_f16.ckpt",keyword:"laxpeintv2",length:9,version:"v2"},{keyword:"negativexl_d",name:"NegativeXL",version:"sdxl_base_v0.9",file:"negativexl_ti_f16.ckpt",length:16},{file:"parchart_ti_f16.ckpt",keyword:"parchart",version:"v2",length:10,name:"ParchArt"},{file:"photohelper_ti_f16.ckpt",keyword:"photohelper",version:"v2",length:8,name:"Photo Helper"},{file:"pure_eros_ti_f16.ckpt",keyword:"pure_eros",version:"v1",length:1,name:"Pure Eros Face"},{name:"SD2 Papercut",keyword:"sd2_papercut",file:"sd2_papercut_ti_f16.ckpt",length:8,version:"v2"},{keyword:"unaestheticxl_alb2",name:"UnaestheticXL Alb2",version:"sdxl_base_v0.9",file:"unaestheticxl_alb2_ti_f16.ckpt",length:12},{name:"V2 Dreamink",keyword:"v2_dreamink",file:"v2_dreamink_ti_f16.ckpt",length:4,version:"v2"},{name:"Vintage Helper",keyword:"vintagehelper",file:"vintagehelper_ti_f16.ckpt",length:8,version:"v2"}]});var Wo={};Ze(Wo,{default:()=>pa});var pa,Bo=Je(()=>{pa=[{name:"Real-ESRGAN X2+",scale_factor:2,file:"realesrgan_x2plus_f16.ckpt",blocks:23,official:!0},{name:"Real-ESRGAN X4+",scale_factor:4,file:"realesrgan_x4plus_f16.ckpt",blocks:23,official:!0},{name:"Real-ESRGAN X4+ Anime",scale_factor:4,file:"realesrgan_x4plus_anime_6b_f16.ckpt",blocks:6,official:!0},{name:"UniversalUpscaler V2 Sharp",scale_factor:4,file:"esrgan_4x_universal_upscaler_v2_sharp_f16.ckpt",blocks:23,official:!0},{name:"Remacri",scale_factor:4,file:"remacri_4x_f16.ckpt",blocks:23,official:!0},{name:"4x UltraSharp",scale_factor:4,file:"4x_ultrasharp_f16.ckpt",blocks:23,official:!0}]});var zo={};Ze(zo,{getBridgeModeModels:()=>fa});async function fa(){let{default:r}=await Promise.resolve().then(()=>(Lo(),Do)),{default:t}=await Promise.resolve().then(()=>(Oo(),Ao)),{default:i}=await Promise.resolve().then(()=>(Po(),qo)),{default:n}=await Promise.resolve().then(()=>(Fo(),Ro)),{default:o}=await Promise.resolve().then(()=>(jo(),Mo)),{default:s}=await Promise.resolve().then(()=>(Bo(),Wo));return{models:r,uncurated:t,controlNets:i,loras:n,textualInversions:o,upscalers:s}}var Vo=Je(()=>{"use strict"});var vt=window.comfyAPI.app.app,et,Pi,Ho,In=class{constructor(){P(this,Pi);P(this,et,null)}async updateNodes(){if(!(vt.configuringGraph||!vt.graph))return w(this,et)||B(this,et,new Promise(t=>{setTimeout(()=>{B(this,et,null),T(this,Pi,Ho).call(this).then(()=>t())},10)})),w(this,et)}};et=new WeakMap,Pi=new WeakSet,Ho=async function(){let t=vt.graph._nodes.filter(a=>a.isDtServerNode!==void 0),i=t.filter(a=>a.isDtServerNode);if(!i.length)return;let n=new Map(t.map(a=>[a,!1])),o=new Map;for(let a of i){let{server:_,port:l,useTls:d}=a.getServer();if(!_||!l||d===void 0)continue;let u=qi(_,l,d);o.has(u)||o.set(u,await va(_,l,d));let p=o.get(u);a.updateModels?.(p),n.set(a,!0)}for(let a of t){if(n.get(a))continue;let _=a?.findServerNodes?.();if(!_||!_.length)continue;let l={};for(let u of _){let{server:p,port:f,useTls:h}=u.getServer();if(!p||!f||h===void 0)continue;let g=o.get(qi(p,f,h));l=ka(l,g)}let d=_.map(u=>u?.getModelVersion?.()).filter(u=>u);a.updateModels?.(l,d),n.set(a,!0)}let s=o.size===1?o.values().next().value:null;for(let a of n.keys())n.get(a)===!1&&(n.set(a,!0),a.updateModels?.(s))};var he=new In;function Uo(r,t,i,n){return{widget:r.addWidget("combo",t,"(None selected)",((s,a,_)=>{_.saveSelectedModels?.(),he.updateNodes()}),{values:["(None selected)"],modelType:i[1].model_type})}}async function ha(r,t,i){let n=new FormData;return n.append("server",r),n.append("port",String(t)),n.append("use_tls",String(i)),await window.comfyAPI.api.api.fetchApi("/dt_grpc/files_info",{method:"POST",body:n})}var Tn=[null,null],Di=null;async function ga(){let r=vt.extensionManager.setting.get("drawthings.bridge_mode.community"),t=vt.extensionManager.setting.get("drawthings.bridge_mode.uncurated");if(Di&&Tn[0]===r&&Tn[1]===t)return Di;let o=await(await window.comfyAPI.api.api.fetchApi("/dt_grpc/bridge_models")).json(),s=r?(g=>o.includes(g.file)):(g=>o.includes(g.file)&&g.official),_=await(await Promise.resolve().then(()=>(Vo(),zo))).getBridgeModeModels(),l=_.models,d=_.uncurated,u=_.controlNets,p=_.loras,f=_.textualInversions,h=_.upscalers;return Di={models:[...l,...t?d:[]].filter(s),controlNets:u.filter(s),loras:p.filter(s),textualInversions:f.filter(s),upscalers:h.filter(s)},Tn=[r,t],Di}var Oi=new Map,Li=new Map,qi=(r,t,i)=>`${r}:${t}${i?":tls":""}`,ma=["Couldn't connect to server","Check server and click to retry"].map((r,t)=>({name:r,file:"",version:"fail",order:t+1})),Ai=["Not connected to sampler node","Connect to a sampler node to list available models"].map(r=>({name:r,file:"",version:"fail"}));async function va(r,t,i){if(!r||!t||i===void 0)return;if(vt.extensionManager.setting.get("drawthings.bridge_mode.enabled"))return ga();let n=qi(r,t,i);if(Li.has(n))await Li.get(n);else{let o=new Promise(s=>{ha(r,t,i).then(async a=>{if(!a.ok)Oi.set(n,null);else{let _=await a.json();wa(_),Oi.set(n,_)}Li.delete(n),s()})});Li.set(n,o),await o}return Oi.get(n)||void 0}var xa={models:ma,controlNets:Ai,loras:Ai,upscalers:Ai,textualInversions:Ai};Oi.set(qi(),xa);function Ri(r,t){return{value:r,content:r.version&&r.version!=="fail"?`${r.name} (${ya(r.version)})`:r.name,toString(){return r.name},disabled:t,callback(...i){return!1}}}function ka(r,t){let i={},n=new Set(Object.keys(r??{}).concat(Object.keys(t??{})));for(let o of n.values()){i[o]=r[o]??[];let s=i[o].map(_=>_.file),a=(t[o]??[]).filter(_=>!s.includes(_.file));i[o]=i[o].concat(a)}return i}var ba={v1:"SD",v2:"SD2","kandinsky2.1":"Kan","sdxl_base_v0.9":"SDXL","sdxl_refiner_v0.9":"SDXL",ssd_1b:"SSD",svd_i2v:"SVD","wurstchen_v3.0_stage_c":"Wur","wurstchen_v3.0_stage_b":"Wur",sd3:"SD3",pixart:"Pix",auraflow:"AF",flux1:"F1",sd3_large:"SD3L",hunyuan_video:"Hun","wan_v2.1_1.3b":"Wan","wan_v2.1_14b":"Wan",hidream_i1:"HiD",qwen_image:"Qwen"};function ya(r){return ba[r]??r}function wa(r){try{new URL(document.location.href).searchParams.has("dtgrpctesthack")&&Array.isArray(r?.models)&&(r.models.push({file:"fake_qwen.ckpt",version:"qwen_image",name:"Qwen Image Fake"}),r.models.push({file:"fake_wan.ckpt",version:"wan_v2.1_14b",name:"Wan Fake"}))}catch{}}var En=["DPM++ 2M Karras","Euler A","DDIM","PLMS","DPM++ SDE Karras","UniPC","LCM","Euler A Substep","DPM++ SDE Substep","TCD","Euler A Trailing","DPM++ SDE Trailing","DPM++ 2M AYS","Euler A AYS","DPM++ SDE AYS","DPM++ 2M Trailing","DDIM Trailing","UniPC Trailing","UniPC AYS"],Fi=["Legacy","TorchCpuCompatible","ScaleAlike","NvidiaGpuCompatible"];function Nn(r,t){let i=r*t/256,n=(1.15-.5)/3840,s=(i-256)*n+.5,a=Math.exp(s);return Math.round(a*100)/100}var Sa={"wan_v2.1_1.3b":81,"wan_v2.1_14b":81,hunyuan_video:129,svd_i2v:14},Ta=[["start_width","width","DrawThingsSampler","width","int",512,128,2048,64,"roundTo64"],["start_height","height","DrawThingsSampler","height","int",512,128,2048,64,"roundTo64"],["seed","seed","DrawThingsSampler","seed","int",-1,-1,null,1,"modulo=4294967295"],["steps","steps","DrawThingsSampler","steps","int",16,1,150,1],["guidance_scale","cfg","DrawThingsSampler","guidanceScale","float",5,0,50,.1],["strength","strength","DrawThingsSampler","strength","float",1,0,1,.01],["model","model","DrawThingsSampler","model","DT_MODEL",null],["sampler","sampler_name","DrawThingsSampler","sampler","index",0,En],["batch_count","batch_count","DrawThingsSampler","batchCount","int",1,1,4,1],["batch_size","batch_size","DrawThingsSampler","batchSize","int",1,1,1,1],["hires_fix","high_res_fix","DrawThingsSampler","hiresFix","bool",!1],["hires_fix_start_width","high_res_fix_start_width","DrawThingsSampler","hiresFixWidth","int",512,128,2048,64,"roundTo64,ifTrue=hiresFix"],["hires_fix_start_height","high_res_fix_start_height","DrawThingsSampler","hiresFixHeight","int",512,128,2048,64,"roundTo64,ifTrue=hiresFix"],["hires_fix_strength","high_res_fix_strength","DrawThingsSampler","hiresFixStrength","float",.7,0,1,.01,"ifTrue=hiresFix"],["image_guidance_scale","image_guidance_scale","DrawThingsSampler","imageGuidanceScale","float",5,0,50,.1],["seed_mode","seed_mode","DrawThingsSampler","seedMode","index",2,Fi],["clip_skip","clip_skip","DrawThingsSampler","clipSkip","int",1,1,23,1],["controls",null,"DrawThingsControlNet","controls"],["loras",null,"DrawThingsLoRA","loras"],["mask_blur","mask_blur","DrawThingsSampler","maskBlur","float",2.5,0,15,.1],["face_restoration",null,null,"faceRestoration"],["decode_with_attention",null,null],["hires_fix_decode_with_attention",null,null],["clip_weight",null,null],["negative_prompt_for_image_prior",null,null],["image_prior_steps",null,null],["original_image_height",null,null,"originalImageHeight"],["original_image_width",null,null,"originalImageWidth"],["crop_top",null,null,"cropTop"],["crop_left",null,null,"cropLeft"],["target_image_height",null,null,"targetImageHeight"],["target_image_width",null,null,"targetImageWidth"],["aesthetic_score",null,null,"aestheticScore"],["negative_aesthetic_score",null,null,"negativeAestheticScore"],["zero_negative_prompt",null,null,"zeroNegativePrompt"],["negative_original_image_height",null,null,"negativeOriginalImageHeight"],["negative_original_image_width",null,null,"negativeOriginalImageWidth"],["name",null,null,null],["fps_id","fps","DrawThingsSampler","fps","int",12,1,30,1],["motion_bucket_id","motion_scale","DrawThingsSampler","motionScale","int",127,0,255,1],["cond_aug","guiding_frame_noise","DrawThingsSampler","guidingFrameNoise","float",.02,0,1,.01],["start_frame_cfg","start_frame_guidance","DrawThingsSampler","startFrameGuidance","float",1,0,15,.1],["num_frames","num_frames","DrawThingsSampler","numFrames","int",25,1,Sa,1],["mask_blur_outset","mask_blur_outset","DrawThingsSampler","maskBlurOutset","float",0,-100,100,.1],["sharpness","sharpness","DrawThingsSampler","sharpness","float",0,0,30,.1],["shift","shift","DrawThingsSampler","shift","float",1,0,16,.01],["stage_2_steps",null,null,"stage2Steps"],["stage_2_cfg",null,null,"stage2Guidance"],["stage_2_shift",null,null,"stage2Shift"],["tiled_decoding","tiled_decoding","DrawThingsSampler","tiledDecoding","bool",!1],["decoding_tile_width","decoding_tile_width","DrawThingsSampler","decodingTileWidth","int",512,128,2048,64,"roundTo64,ifTrue=tiledDecoding"],["decoding_tile_height","decoding_tile_height","DrawThingsSampler","decodingTileHeight","int",512,128,2048,64,"roundTo64,ifTrue=tiledDecoding"],["decoding_tile_overlap","decoding_tile_overlap","DrawThingsSampler","decodingTileOverlap","int",512,64,1024,64,"roundTo64,ifTrue=tiledDecoding"],["stochastic_sampling_gamma","stochastic_sampling_gamma","DrawThingsSampler","stochasticSamplingGamma","float",.3,0,1,.01],["preserve_original_after_inpaint","preserve_original","DrawThingsSampler","preserveOriginalAfterInpaint","bool",!0],["tiled_diffusion","tiled_diffusion","DrawThingsSampler","tiledDiffusion","bool",!1],["diffusion_tile_width","diffusion_tile_width","DrawThingsSampler","diffusionTileWidth","int",512,128,2048,64,"roundTo64,ifTrue=tiledDiffusion"],["diffusion_tile_height","diffusion_tile_height","DrawThingsSampler","diffusionTileHeight","int",512,128,2048,64,"roundTo64,ifTrue=tiledDiffusion"],["diffusion_tile_overlap","diffusion_tile_overlap","DrawThingsSampler","diffusionTileOverlap","int",512,64,1024,64,"roundTo64,ifTrue=tiledDiffusion"],["t5_text_encoder",null,null,"t5TextEncoder"],["separate_clip_l","separate_clip_l","DrawThingsSampler","separateClipL","bool",!1],["clip_l_text","clip_l_text","DrawThingsSampler","clipLText","string","","ifTrue=separateClipL"],["separate_open_clip_g","separate_open_clip_g","DrawThingsSampler","separateOpenClipG","bool",!1],["open_clip_g_text","open_clip_g_text","DrawThingsSampler","openClipGText","string","","ifTrue=separateOpenClipG"],["speed_up_with_guidance_embed","speed_up","DrawThingsSampler","speedUpWithGuidanceEmbed","bool",!0],["guidance_embed","guidance_embed","DrawThingsSampler","guidanceEmbed","float",4.5,0,50,.1,"ifFalse=speedUpWithGuidanceEmbed"],["resolution_dependent_shift","res_dpt_shift","DrawThingsSampler","resolutionDependentShift","bool",!0],["tea_cache_start","tea_cache_start","DrawThingsSampler","teaCacheStart","int",5,0,150,1,"ifTrue=teaCache"],["tea_cache_end","tea_cache_end","DrawThingsSampler","teaCacheEnd","int",-1,-151,150,1,"ifTrue=teaCache"],["tea_cache_threshold","tea_cache_threshold","DrawThingsSampler","teaCacheThreshold","float",.06,0,1,.01,"ifTrue=teaCache"],["tea_cache","tea_cache","DrawThingsSampler","teaCache","bool",!1],["separate_t5",null,null,"separateT5"],["t5_text",null,null,null],["tea_cache_max_skip_steps","tea_cache_max_skip_steps","DrawThingsSampler","teaCacheMaxSkipSteps","int",3,1,50,1,"ifTrue=teaCache"],["causal_inference_enabled",null,null,null],["causal_inference","causal_inference","DrawThingsSampler","causalInference","int",0,0,129,4,"ifPos=set(causalInference, true),causInfConvert"],["causal_inference_pad","causal_inference_pad","DrawThingsSampler","causalInferencePad","int",0,0,129,4,"causInfConvert"],["upscaler","upscaler_model","DrawThingsUpscaler","upscaler"],["upscaler_scale_factor","upscaler_scale_factor","DrawThingsUpscaler","upscalerScaleFactor","int",4,2,4,2],["refiner_model","refiner_model","DrawThingsRefiner","refinerModel"],["refiner_start","refiner_start","DrawThingsRefiner","refinerStart","int",.85,0,1,.01],["cfg_zero_star","cfg_zero_star","DrawThingsSampler","cfgZeroStar","bool",!1],["cfg_zero_star_init_steps","cfg_zero_star_init_steps","DrawThingsSampler","cfgZeroInitSteps","int",0,0,"ref=steps",1,"ifTrue=cfgZeroStar"]];function Ae(r){return Math.round(r/64)*64}var Ia={model:async(r,t,i,n,o)=>{await he.updateNodes();let a=i?.options?.values?.find(_=>_.value?.file===t);a&&(i.value=a)},refiner_model:(r,t,i)=>{let o=i?.options?.values?.find(s=>s.value?.file===t);o&&(i.value=o)},upscaler:(r,t,i)=>{let o=i?.options?.values?.find(s=>s.value?.file===t);o&&(i.value=o)},start_width:(r,t,i)=>{i&&(i.value=Ae(t))},start_height:(r,t,i)=>{i&&(i.value=Ae(t))},sampler:(r,t,i)=>{i.value=En[t]},seed:(r,t,i,n)=>{typeof t=="number"&&t>=0&&(i.value=t)},hires_fix_start_width:(r,t,i,n,o)=>{o.hiresFix&&i&&(i.value=Ae(t))},hires_fix_start_height:(r,t,i,n,o)=>{o.hiresFix&&i&&(i.value=Ae(t))},hires_fix_strength:(r,t,i,n,o)=>{o.hiresFix&&i&&(i.value=t)},seed_mode:(r,t,i)=>{i&&Fi[t]&&(i.value=Fi[t])},decoding_tile_width:(r,t,i,n,o)=>{o.tiledDecoding&&i&&(i.value=Ae(t))},decoding_tile_height:(r,t,i,n,o)=>{o.tiledDecoding&&i&&(i.value=Ae(t))},decoding_tile_overlap:(r,t,i,n,o)=>{o.tiledDecoding&&i&&(i.value=Ae(t))},diffusion_tile_width:(r,t,i,n,o)=>{o.tiledDiffusion&&i&&(i.value=Ae(t))},diffusion_tile_height:(r,t,i,n,o)=>{o.tiledDiffusion&&i&&(i.value=Ae(t))},diffusion_tile_overlap:(r,t,i,n,o)=>{o.tiledDiffusion&&i&&(i.value=Ae(t))},guidance_embed:(r,t,i,n,o)=>{i&&(i.value=t)},resolution_dependent_shift:(r,t,i,n,o)=>{if(i&&(i.value=t),t){let s=n.widgets?.find(l=>l.name==="shift"),a=o.width||n.widgets?.find(l=>l.name==="width")?.value,_=o.height||n.widgets?.find(l=>l.name==="height")?.value;s&&a&&_&&(s.value=Nn(a,_))}},causal_inference:function(r,t,i,n,o){Number.isFinite(t)?i.value=t*4-3:i.value=0},causal_inference_pad:(r,t,i,n,o)=>{i&&typeof t=="number"&&(i.value=t*4)},upscaler_scale_factor:(r,t,i)=>{t===2?i.value=2:i.value=4},refiner_start:(r,t,i)=>{typeof t=="number"?i.value=Math.min(1,Math.max(0,t)):i.value=.85}},Ca={model:async(r,t,i)=>{let n=r.value;r&&n&&n.value&&(i.model=n.value.file??n.value.name)},sampler:(r,t,i)=>{r&&typeof r.value=="string"&&(i.sampler=En.indexOf(r.value))},seed_mode:(r,t,i)=>{r&&typeof r.value=="string"&&(i.seed_mode=Fi.indexOf(r.value))},causal_inference:(r,t,i)=>{r&&typeof r.value=="number"&&(i.causal_inference=Math.floor((r.value+3)/4))}},Cn=class{constructor(t,i,n,o,s,a,..._){this.customImport=void 0;this.customExport=void 0;this.fbs=t,this.python=i,this.node=n,this.json=o,this.type=s,this.defaultValue=a,(s==="int"||s==="float")&&(this.min=_[0],this.max=_[1],this.step=_[2],this.spec=_[3]),s==="bool"&&(this.spec=_[0]),s==="index"&&(this.values=_[0],this.spec=_[1]),s==="string"&&(this.spec=_[0])}async import(t,i,n,o,s){!n||!o||(this.customImport?await this.customImport(t,i,n,o,s):n.value=i??this.defaultValue)}async export(t,i,n){this.customExport?await this.customExport(t,i,n):this.json&&t&&t.value!==void 0&&(n[this.json]=t.value)}coerce(t){return this.type==="int"||this.type==="float"?typeof t!="number"?this.defaultValue||0:typeof this.min=="number"&&Number.isFinite(this.min)&&t<this.min?this.min:typeof this.max=="number"&&Number.isFinite(this.max)&&t>this.max?this.max:this.type==="int"?Math.round(t):t:this.type==="bool"?typeof t!="boolean"?this.defaultValue||!1:t:this.type==="string"?typeof t!="string"?this.defaultValue||"":t:this.type==="index"?typeof t=="number"&&t>=0&&this.values&&t<this.values.length?this.values[t]:typeof t=="string"&&this.values&&this.values.includes(t)?t:this.values?this.values[this.defaultValue]:void 0:t}getRequiredNodes(t,i){return this.node?[this.node]:[]}},Dn=Ta.map(([r,...t])=>{let i=new Cn(r,...t);return i.customImport=Ia[r],i.customExport=Ca[r],i});function Ln(r){return Dn.find(t=>t.json===r)}function An(r){return Dn.find(t=>t.python===r)}function Go(r){return Dn.filter(t=>t.node===r)}xt("loras","getRequiredNodes",r=>Array.isArray(r)&&r.length>0?Array(Math.ceil(r.length/8)).fill("DrawThingsLoRA"):[]);xt("controls","getRequiredNodes",r=>Array.isArray(r)?r.map(t=>"DrawThingsControlNet"):[]);xt("upscaler","getRequiredNodes",r=>r?["DrawThingsUpscaler"]:[]);xt("upscaler_scale_factor","getRequiredNodes",()=>[]);xt("refinerModel","getRequiredNodes",r=>r?["DrawThingsRefiner"]:[]);xt("refinerStart","getRequiredNodes",()=>[]);function xt(r,t,i){let n=Ln(r);n&&(n[t]=i)}function $o(r){navigator.clipboard.readText().then(async t=>{try{let i=JSON.parse(t),n=[];for(let[a,_]of Object.entries(i)){let l=Ln(a);if(!l)continue;if(l.node!==r.type){n.push(...l.getRequiredNodes(_,i));continue}let d=r.widgets?.find(u=>u.name===l.python);d&&await l.import(a,_,d,r,i)}r.coerceWidgetValues(),r.updateDynamicWidgets?.();let o=r.getConfigInputNodes(),s=[];if(n.includes("DrawThingsUpscaler")&&(o.DrawThingsUpscaler.length?Xo(o.DrawThingsUpscaler[0],i):s.push("DrawThingsUpscaler")),n.includes("DrawThingsRefiner")&&(o.DrawThingsRefiner.length?Xo(o.DrawThingsRefiner[0],i):s.push("DrawThingsRefiner")),n.includes("DrawThingsControlNet")){let a=n.filter(l=>l==="DrawThingsControlNet").length;a>o.DrawThingsControlNet.length&&s.push(`${a-o.DrawThingsControlNet.length} x DrawThingsControlNet`);let _=0;for(let l of o.DrawThingsControlNet)Ea(l,i.controls[_++])}if(n.includes("DrawThingsLoRA")){let a=n.filter(_=>_==="DrawThingsLoRA").length;a>o.DrawThingsLoRA.length&&s.push(`${a-o.DrawThingsLoRA.length} x DrawThingsLoRA`),Na(o.DrawThingsLoRA,i.loras)}s.length&&window.app?.extensionManager.toast.add({severity:"warn",summary:"Draw Things gRPC",detail:[`The Draw Things config has been partially loaded. To load the full config, add the following nodes:
`,...s.map(a=>`\u2022 ${a}`)].join(`
`),life:8e3})}catch(i){alert(`Failed to parse Draw Things config from clipboard

`+i),console.warn(i)}})}function Xo(r,t){let i=Go(r.type);for(let n of i){let o=r.widgets?.find(s=>s.name===n.python);!o||!n.json||n.import(n.json,t[n.json],o,r,t)}}function Ea(r,t){let i=r.widgets?.reduce((n,o)=>(n[o.name]=o,n),{})??{};if("file"in t){let o=(i.control_name?.options).values?.find(s=>s.value?.file===t.file);o&&(i.control_name.value=o)}if("globalAveragePooling"in t&&(i.global_average_pooling.value=!!t.globalAveragePooling),"weight"in t&&typeof t.weight=="number"?i.control_weight.value=Math.min(Math.max(t.weight,0),1.5):i.control_weight.value=1,"guidanceStart"in t&&typeof t.guidanceStart=="number"?i.control_start.value=Math.min(Math.max(t.guidanceStart,0),1):i.control_start.value=0,"guidanceEnd"in t&&typeof t.guidanceEnd=="number"?i.control_end.value=Math.min(Math.max(t.guidanceEnd,0),1):i.control_end.value=1,"downSamplingRate"in t&&typeof t.downSamplingRate=="number"?i.down_sampling_rate.value=t.downSamplingRate:i.down_sampling_rate.value=1,"inputOverride"in t&&typeof t.inputOverride=="string"){let n=t.inputOverride.charAt(0).toUpperCase()+t.inputOverride.slice(1);i.control_input_type?.options?.values?.includes(n)?i.control_input_type.value=n:i.control_input_type.value="Unspecified"}else i.control_input_type.value="Unspecified";if("controlImportance"in t&&typeof t.controlImportance=="string"){let n=t.controlImportance.charAt(0).toUpperCase()+t.controlImportance.slice(1);i.control_mode?.options?.values?.includes(n)?i.control_mode.value=n:i.control_mode.value="Balanced"}else i.control_mode.value="Balanced";"targetBlocks"in t&&Array.isArray(t.targetBlocks)?(t.targetBlocks.length===0&&(i.target_blocks.value="All"),t.targetBlocks.length===1&&(i.target_blocks.value="Style"),t.targetBlocks.length>1&&(i.target_blocks.value="Style and Layout")):i.target_blocks.value="All"}async function Na(r,t){for(let i=0;i<r.length;i++){let n=r[i],o=i*8+8;t.length>o?n.loraCount=8:n.loraCount=8-(o-t.length);for(let s=0;s<8;s++){let a=t[s+i*8],{file:_,weight:l,mode:d}=Da(n,s);if(!a||!a.file){_.value="(None selected)",l.value=1,d.value="All";continue}let p=_?.options?.values?.find(f=>f.value?.file===a.file);if(p&&(_.value=p),"weight"in a&&typeof a.weight=="number"?l.value=Math.min(Math.max(a.weight,-5),5):l.value=1,"mode"in a&&typeof a.mode=="string"){let f=a.mode.charAt(0).toUpperCase()+a.mode.slice(1);d?.options?.values?.includes(f)?d.value=f:d.value="All"}else d.value="All"}}}function Da(r,t){let i=r.widgets?.slice(t*3+1,t*3+4)??[];return{file:i[0],weight:i[1],mode:i[2]}}function Ko(r,t,i){let n=r[t];r[t]=function(...o){let s=n?.apply(this,o);return i?.apply(this,o),s}}function le(r,t){let i=r.prototype;for(let n in t){let o=t[n];if(typeof o=="function"&&typeof i[n]=="function"){let s=i[n],a=o;i[n]=function(..._){let l=s.apply(this,_);try{a.apply(this,_)}finally{return l}}}else La(o)?Object.defineProperty(i,n,o):i[n]=o}}function La(r){if(r==null)return!1;let t="value"in r||"get"in r||"set"in r||"writable"in r||"enumerable"in r||"configurable"in r;return typeof r=="object"&&t}var Aa={preserveOriginalAfterInpaint:"preserve_original",hiresFix:"high_res_fix",sampler:"sampler_name"},Mr=Object.fromEntries(Object.entries(Aa).map(([r,t])=>[t,r]));function K(r,t){return r.widgets?.find(i=>i.name===t)}var On=window.comfyAPI.app.app,Oa=["server","port","use_tls","strength","seed","control_after_generate","width","height","steps","cfg","sampler_name","res_dpt_shift","shift","batch_size","num_frames"],qa=["seed_mode","speed_up","guidance_embed","fps","motion_scale","guiding_frame_noise","start_frame_guidance","causal_inference","causal_inference_pad","clip_skip","sharpness","mask_blur","mask_blur_outset","preserve_original","separate_clip_l","clip_l_text","separate_open_clip_g","open_clip_g_text","high_res_fix","high_res_fix_start_width","high_res_fix_start_height","high_res_fix_strength","upscaler","image_guidance_scale","tiled_decoding","decoding_tile_width","decoding_tile_height","decoding_tile_overlap","tiled_diffusion","diffusion_tile_width","diffusion_tile_height","diffusion_tile_overlap","tea_cache","tea_cache_start","tea_cache_end","tea_cache_threshold","tea_cache_max_skip_steps"],Mi={};function Pa(r,t){if(!(!r||!r.widget||!t||!t.getWidgetFromSlot)&&r._origPos===void 0){r._origPos=r.pos;let i=t.getWidgetFromSlot(r);Object.defineProperty(r,"pos",{get(){return i.hidden?this.collapsedPos:r._origPos},set(n){r._origPos=n}})}}function G(r,t,i=!1,n=""){let o=K(r,t);if(!o||(Mi[o.name]||(Mi[o.name]={origComputeSize:o.computeSize,origComputedHeight:o.computedHeight}),!o.hidden===i))return;o.computeSize=i?Mi[o.name].origComputeSize:()=>[0,-4],o.computedHeight=i?Mi[o.name].origComputedHeight:0,o.hidden=!i,o.linkedWidgets?.forEach(_=>G(r,_,i,":"+o.name));let a=r.computeSize()[1];a>r.size[1]&&r.setSize([r.size[0],a]),On.extensionManager.setting.get("drawthings.node.keep_shrunk")&&a<r.size[1]&&r.setSize([r.size[0],a]),setTimeout(()=>On.canvas.setDirty(!0,!0),10)}function tt(r,t,...i){i.forEach(n=>G(r,n,t))}function Ra(r){let i=K(r,"model")?.value?.value?.version??r?._lastSelectedModel?.model?.value?.version,n=K(r,"settings")?.value,o=n==="Basic"||n==="All",s=n==="Advanced"||n==="All";if(tt(r,o,...Oa),tt(r,s,...qa),o){let a=K(r,"sampler_name")?.value==="TCD";G(r,"stochastic_sampling_gamma",a);let _=["flux1","sd3","hidream_i1","qwen_image"].includes(i);G(r,"res_dpt_shift",_);let l=_&&K(r,"res_dpt_shift")?.value,d=K(r,"shift");d&&(d.disabled=l);let u=["hunyuan_video","wan_v2.1_1.3b","wan_v2.1_14b","svd_i2v"].includes(i);G(r,"num_frames",u);let p=["flux1","hidream_i1","wan_v2.1_1.3b","wan_v2.1_14b","sd3","hunyuan_video","qwen_image"].includes(i),f=p&&K(r,"cfg_zero_star")?.value;G(r,"cfg_zero_star",p),G(r,"cfg_zero_star_init_steps",!!f)}if(s){let a=["flux1","hidream_i1","wan_v2.1_1.3b","wan_v2.1_14b","hunyuan_video"].includes(i),_=a&&K(r,"tea_cache")?.value;G(r,"tea_cache",a),tt(r,!!_,"tea_cache_start","tea_cache_end","tea_cache_threshold","tea_cache_max_skip_steps");let l=["flux1","hidream_i1","hunyuan_video"].includes(i);G(r,"speed_up",l);let d=K(r,"speed_up")?.value;G(r,"guidance_embed",l&&!d);let u=["flux1","hidream_i1","sd3"].includes(i);G(r,"separate_clip_l",u);let p=u&&K(r,"separate_clip_l")?.value;G(r,"clip_l_text",!!p);let f=["sd3"].includes(i);G(r,"separate_open_clip_g",f);let h=f&&K(r,"separate_open_clip_g")?.value;G(r,"open_clip_g_text",!!h);let g=["svd_i2v"].includes(i);tt(r,g,"fps","motion_scale","guiding_frame_noise","start_frame_guidance");let k=i?.toLowerCase().startsWith("wan");G(r,"causal_inference",!!k),G(r,"causal_inference_pad",!!k);let b=K(r,"high_res_fix")?.value;tt(r,!!b,"high_res_fix_start_width","high_res_fix_start_height","high_res_fix_strength");let y=K(r,"tiled_decoding")?.value;tt(r,!!y,"decoding_tile_width","decoding_tile_height","decoding_tile_overlap");let E=K(r,"tiled_diffusion")?.value;tt(r,!!E,"diffusion_tile_width","diffusion_tile_height","diffusion_tile_overlap")}}var Fa={name:"widgets",settings:[{id:"drawthings.node.keep_shrunk",type:"boolean",name:"Keep node shrunk when widgets change",defaultValue:!0,category:["DrawThings","Nodes","Keep node shrunk"],onChange:(r,t)=>{t===!1&&r===!0&&On.graph.nodes.filter(i=>i.type==="DrawThingsSampler").forEach(i=>{setTimeout(()=>i.updateDynamicWidgets(),10)})}}],async beforeRegisterNodeDef(r,t,i){r.comfyClass==="DrawThingsSampler"&&le(r,Ma)}},Yo=Fa,Ma={updateDynamicWidgets(){Ra(this)},onNodeCreated(){this.updateDynamicWidgets()},onConfigure(r){this.updateDynamicWidgets()},onInputAdded(r){r.widget&&Pa(r,this)},onWidgetChanged(r,t,i,n){if(this.updateDynamicWidgets(),r==="res_dpt_shift"&&["flux1","sd3","hidream_i1"].includes(this.getModelVersion())&&K(this,"res_dpt_shift")?.value){let a=K(this,"height")?.value,_=K(this,"width")?.value,l=K(this,"shift");l&&typeof a=="number"&&typeof _=="number"&&(l.value=Nn(a,_))}}};function Qo(r,t,i,n){let{container:o,buttons:s}=Ba([{label:"Show Mode",callback:()=>{r.showMode=!r.showMode},dataTestId:"dtgrpc-lora-show-mode"},{label:"Less",callback:()=>{r.loraCount-=1},dataTestId:"dtgrpc-lora-less"},{label:"More",callback:()=>{r.loraCount+=1},dataTestId:"dtgrpc-lora-more"}]),a={hideOnZoom:!1,getValue:()=>{},setValue:l=>{},getMinHeight:()=>36,getMaxHeight:()=>36,getHeight:()=>36,margin:4},_=r.addDOMWidget("buttons","DT_BUTTONS",o,a);return _._buttonElements=s,_.value=null,{widget:_}}var ja={onNodeCreated(r){this.loraCount=1,this.showMode=!1},onConfigure(r){if("loraCount"in r&&(this.loraCount=r.loraCount),"showMode"in r&&(this.showMode=r.showMode),r.widget_values_keyed&&this.widgets)for(let[t,i]of Object.entries(r.widget_values_keyed)){let n=this.widgets.find(o=>o.name===t);n&&(n.value=i)}else if(r.widgets_values&&r.widgets_values.length===2&&this.widgets){this.widgets[0].value=null;let t=this.widgets.find(a=>a.name==="lora");t&&(t.value=r.widgets_values[0]);let i=this.widgets.find(a=>a.name==="weight");i&&(i.value=r.widgets_values[1]);let o=this.inputs.map((a,_)=>({slot:_,input:a})).filter(({input:a})=>a.link!==null).map(({input:a,slot:_})=>({node:this.getInputNode(_),input:a,slot:_}));for(let{node:a,input:_,slot:l}of o)a&&a.type==="DrawThingsLoRA"&&_.link!==null?(this.disconnectInput(l),this.graph?.removeLink(_.link),a.connect(0,this,0)):_.link!==null&&(this.disconnectInput(l),this.graph?.removeLink(_.link));let s=this.inputs.findIndex(a=>a.name==="control_image");s!==-1&&this.removeInput(s)}delete this.widget_values_keyed},onSerialize(r){r.loraCount=this._loraCount,r.showMode=this._showMode,r.nodePackVersion=it,this.widgets&&(r.widget_values_keyed=Object.fromEntries(this.widgets.map(t=>[t.name,t.value])))},loraCount:{get(){return this._loraCount},set(r){if(this._loraCount===r)return;this._loraCount=Math.max(0,Math.min(r,8)),this.updateWidgets();let t=this.widgets?.[0]?._buttonElements;t&&(t[1].disabled=this._loraCount<=1,t[2].disabled=this._loraCount>=8)},enumerable:!0},showMode:{get(){return this._showMode},set(r){if(this._showMode===r)return;this._showMode=r,this.updateWidgets();let t=this.widgets?.[0]?._buttonElements;t&&(t[0].textContent=r?"Hide Mode":"Show Mode")},enumerable:!0},updateWidgets(){if(this.widgets)for(let r=0;r<8;r++){let t=r*3+1,i=r*3+2,n=r*3+3;r<this.loraCount?(G(this,this.widgets[t].name,!0),G(this,this.widgets[i].name,!0),G(this,this.widgets[n].name,this.showMode),this.widgets[t].value||(this.widgets[t].value="(None selected)")):(G(this,this.widgets[t].name,!1),G(this,this.widgets[i].name,!1),G(this,this.widgets[n].name,!1),this.widgets[t].value=null)}}},Wa={name:"loraNode",beforeRegisterNodeDef(r,t,i){r.comfyClass==="DrawThingsLoRA"&&le(r,ja)}},Jo=Wa;function Ba(r){let t=document.createElement("div");t.classList.add("dt-buttons-container");let i=[];for(let n of r){let o=document.createElement("button");i.push(o),o.classList.add("dt-button"),n.label&&(o.innerText=n.label),o.addEventListener("click",()=>{n.callback()}),n.style&&(o.style.cssText=n.style),n.classList&&o.classList.add(...n.classList),n.dataTestId&&o.setAttribute("data-testid",n.dataTestId),t.appendChild(o)}return{container:t,buttons:i}}import{app as qn}from"../../scripts/app.js";var es="./drawthings-grpc/data.json";async function ts(){let r=await za(),t=Zo[Zo.length-1];r.includes(t.version)||(await Va(t.version),qn.extensionManager.toast.add({summary:t.title,detail:t.detail,severity:"success",life:0}))}async function za(){return(await is())?.announced??[]}async function Va(r){let t=await is();(!t?.announced||!Array.isArray(t?.announced))&&(t.announced=[]),t.announced.push(r),await qn.api.storeUserData(es,t)}async function is(){try{let t=await qn.api.getUserData(es);if(t.status===200)return await t.json()}catch(t){console.error(`Error getting user data: ${t}`)}return{announced:[]}}var Zo=[{version:"1.6.0",title:"DrawThings-gRPC 1.6.0",detail:["The Draw Things Sampler has a new input and corresponding node: Hints!","Hints are Draw Thing's control images, used by ControlNets, Flux Kontext,","Hi-Dream E1 and a handful of LoRAs. Use this node to add references images,",'like the "Moodboard" in the Draw Things App.',`

For ControlNets, images can be added with either the ControlNet node,`,"or with the Hints node.  For LoRAs (like Flux Depth), use the Hints node with the","appropriate hint type. For Flux Kontext or Hi-Dream E1, use the Hints node with",'"Shuffle (Moodboard)" as the hint type.',`

Note: Currently pose or scribble images are not working correctly, but depth or`,"moodboard images should work as expected."].join(" ")},{version:"1.7.0",title:"DrawThings-gRPC 1.7.0",detail:["\u2022 Response compression is now supported! It's no longer necessary to disable this option in Draw Things or the gRPC CLI.","\u2022 Added hi res fix support for hint images","\u2022 Add support for pose hint images","\u2022 Fix: Model widgets should no longer show[object Object] when loading a workflow while disconnected","\u2022 Fix: The Draw Things Sampler Node now shows the correct error when running a workflow while not connected.","\u2022 Fix: Hint images are provided in both sizes when HiResFix is enabled","\u2022 Fix: When loading a workflow while disconnected, the widgets for the last selected model version will be shown.","\u2022 Fix: Update notes messages should only appear once"].join(`
`)},{version:"1.8.0",title:"DrawThings-gRPC 1.8.0",detail:`- Bridge Mode support: For DT+ subscribers interested in using Bridge Mode, you can now list all official, community, and uncurated models available in Cloud Compute. Right click the sampler node, or go to the Draw Things tab in Settings, to enable. Make sure to enable Bridge Mode in the API settings of your Draw Things app (only available for DT+ subscribers). (User uploaded loras are currently unsupported.)
- Note: We have no way of knowing if bridge mode is enabled from ComfyUI. Enabling bridge mode in Comfy simply changes the list of models that are shown - it's up to your DT app or CLI how to handle the request.
- Draw Things config import has been improved. Configs that use additional nodes (LoRA, ControlNet, Upscaler, or Refiner) will apply their values to existing, connected nodes. If the node isn't available, a message will be displayed listing the missing nodes.`}];var it="1.8.1",ns;console.log("LOADING EXTENSION");var zt={name:"core",getCustomWidgets(){return{DT_MODEL:Uo,DT_BUTTONS:Qo}},beforeConfigureGraph(r){for(let t of r.nodes)(t.type==="DrawThingsPositive"||t.type==="DrawThingsNegative")&&(t.type="DrawThingsPrompt",t.properties["Node name for S&R"]="DrawThingsPrompt",delete t.properties.ver,t.widgets_values.unshift("..."))},async beforeRegisterNodeDef(r,t,i){"comfyClass"in r&&r.comfyClass==="DrawThingsSampler"&&le(r,Ha)},async setup(r){await os();let t=async()=>{await os()};setTimeout(()=>document.querySelector('button[title="ComfyUI Manager"]')?.addEventListener("click",async()=>{document.getElementById("cm-close-button")?.addEventListener("click",t,{once:!0})}),3e3),Ko(r.api,"interrupt",async i=>{r.rootGraph?.nodes.some(n=>n.type==="DrawThingsSampler")&&await r.api.fetchApi("/dt_grpc/interrupt",{method:"POST"})})}},Ha={async onNodeCreated(){let r=this.inputs?.find(i=>i.name=="positive"),t=this.inputs?.find(i=>i.name=="negative");app.canvas&&(r.color_on=r.color_off=t.color_on=t.color_off=app.canvas.default_connection_color_byType.CONDITIONING,app.canvas.default_connection_color_byType.DT_LORA=app.canvas.default_connection_color_byType.MODEL,app.canvas.default_connection_color_byType.DT_CNET=app.canvas.default_connection_color_byType.CONTROL_NET),setTimeout(()=>ts(),2e3)},onSerialize(r){let t=r;t.nodePackVersion=it;let i=this.widgets?.map(n=>[n.name,n.value]);t.widget_values_keyed=Object.fromEntries(i??[])},onConfigure(r){if("widget_values_keyed"in r&&r.widget_values_keyed&&typeof r.widget_values_keyed=="object")for(let[t,i]of Object.entries(r.widget_values_keyed)){let n=this.widgets?.find(o=>o.name===t);n&&(n.value=i)}this.coerceWidgetValues(),"widget_values_keyed"in this&&delete this.widget_values_keyed,this.updateDynamicWidgets?.()},coerceWidgetValues(){let r=[];for(let t of this.widgets??[]){let i=An(t.name);if(!i)continue;let n=i.coerce(t.value);n!==t.value&&(r.push({name:t.name,value:t.value,coerced:n}),t.value=n)}if(r.length){let t="The Draw Things Sampler node contained invalid values - they have been corrected:",i=r.map(o=>`${o.name}: ${o.value} -> ${o.coerced}`),n=t+`

`+i.join(`
`);app.extensionManager.toast.add({severity:"info",summary:"Draw Things gRPC",detail:n,life:8e3})}},getConfigInputNodes(){let r={DrawThingsLoRA:[],DrawThingsControlNet:[],DrawThingsUpscaler:[],DrawThingsRefiner:[]},t=this.getInputNode(this.findInputSlot("upscaler"));t&&r.DrawThingsUpscaler.push(t);let i=this.getInputNode(this.findInputSlot("refiner"));i&&r.DrawThingsRefiner.push(i);let n=this.getInputNode(this.findInputSlot("control_net"));for(;n;)r.DrawThingsControlNet.push(n),n=n.getInputNode(n.findInputSlot("control_net"));let o=this.getInputNode(this.findInputSlot("lora"));for(;o;)r.DrawThingsLoRA.push(o),o=o.getInputNode(o.findInputSlot("lora_stack"));return r},getExtraMenuOptions(r,t){let i=app.extensionManager.setting.get("drawthings.node.keep_shrunk"),n=app.extensionManager.setting.get("drawthings.bridge_mode.enabled"),o=app.extensionManager.setting.get("drawthings.bridge_mode.community"),s=app.extensionManager.setting.get("drawthings.bridge_mode.uncurated");return t.push(null),t.push({content:"Paste Draw Things config",callback:()=>$o(this)}),t.push({content:"Copy Draw Things config",callback:()=>{let a={};for(let _ of this.widgets??[]){let l=An(_.name);l&&l.export(_,this,a)}a.loras=[],a.control=[],navigator.clipboard.writeText(JSON.stringify(a))}}),t.push({content:(i?"\u2713 ":"")+"Keep node shrunk when widgets change",callback:()=>{app.extensionManager.setting.set("drawthings.node.keep_shrunk",!i)}}),t.push({content:(n?"\u2713 ":"")+"Use bridge mode",callback:()=>{app.extensionManager.setting.set("drawthings.bridge_mode.enabled",!n)}}),n&&(t.push({content:(o?"\u2713 ":"")+"Show community models",callback:()=>{app.extensionManager.setting.set("drawthings.bridge_mode.community",!o)}}),t.push({content:(s?"\u2713 ":"")+"Show uncurated models",callback:()=>{app.extensionManager.setting.set("drawthings.bridge_mode.uncurated",!s)}})),t.push(null),t}};async function os(){let r=window.comfyAPI.api.api;ns=await(await r.fetchApi("/manager/preview_method")).text();let i=new FormData;i.append("preview",ns),await r.fetchApi("/dt_grpc/preview",{method:"POST",body:i})}function Ua(r){let n=K(r,"control_name")?.value?.value,o=!!n,s=n?.modifier,a=n?.type,_=K(r,"control_input_type");G(r,"control_input_type",o&&(!s||a==="controlnetunion"));let d=n?.global_average_pooling;G(r,"global_average_pooling",d);let u=["lowquality","blur","tile"],p=_?.value,f=u.includes(s)||(p?u.includes(p.toLowerCase()):!1);G(r,"down_sampling_rate",f);let g=["ipadapterplus","ipadapterfull","ipadapterfaceidplus"].includes(a)&&(n?.version==="v1"||n?.version?.startsWith("sdxl"));G(r,"target_blocks",g)}var Ga={updateDynamicWidgets(){try{Ua(this)}catch(r){console.error(r)}},onNodeCreated(){this.updateDynamicWidgets()},onSerialize(r){r.nodePackVersion=it,this.widgets&&(r.widget_values_keyed=Object.fromEntries(this.widgets.map(t=>[t.name,t.value])))},onConfigure(r){if(r.widget_values_keyed&&this.widgets)for(let[t,i]of Object.entries(r.widget_values_keyed)){let n=this.widgets.find(o=>o.name===t);n&&(n.value=i)}else if(r.widgets_values&&r.widgets_values.length===8&&this.widgets){let t=["control_name","control_input_type","control_mode","control_weight","control_start","control_end","global_average_pooling","invert_image"];for(let i=0;i<t.length;i++){let n=this.widgets.find(o=>o.name===t[i]);n&&(n.value=r.widgets_values[i])}}delete this.widget_values_keyed,this.updateDynamicWidgets()},onWidgetChanged(r,t,i,n){if(r==="control_name"){let o=t?.value?.modifier,s=K(this,"control_input_type");o&&s?.value!==ss(o)&&s&&(s.value=ss(o))}this.updateDynamicWidgets()}},Xa={name:"controlNetNode",beforeRegisterNodeDef(r,t,i){r.comfyClass==="DrawThingsControlNet"&&le(r,Ga)}},as=Xa;function ss(r){return r.charAt(0).toUpperCase()+r.slice(1)}function ji(r,t,i){let n=r[t];r[t]=function(...o){let s=n?.apply(this,o);return i?.apply(this,o),s}}var $a=["DrawThingsSampler","DrawThingsControlNet","DrawThingsLoRA","DrawThingsUpscaler","DrawThingsRefiner","DrawThingsPrompt"],Pn=["DrawThingsSampler"],Ka={name:"modelNodes",beforeRegisterNodeDef:(r,t,i)=>{$a.includes(r.comfyClass)&&(le(r,Ya),Pn.includes(r.comfyClass)?le(r,Qa):r.comfyClass==="DrawThingsPrompt"?le(r,Za):le(r,Ja))},afterConfigureGraph(){he.updateNodes()},settings:[{id:"drawthings.bridge_mode.enabled",type:"boolean",name:"Enable bridge mode",defaultValue:!0,category:["DrawThings","Bridge mode","Bridge mode"],sortOrder:2,tooltip:"With bridge mode enabled, your local models will be hidden and the official models available to DT+ will be listed. Be sure to enable Bridge Mode in your Draw Things API settings (DT+ only)",onChange:r=>{he.updateNodes()}},{id:"drawthings.bridge_mode.community",type:"boolean",name:"Show community models",defaultValue:!0,category:["DrawThings","Bridge mode","Community"],sortOrder:1,tooltip:"When bridge mode is enabled, also list community models",onChange:r=>{he.updateNodes()}},{id:"drawthings.bridge_mode.uncurated",type:"boolean",name:"Show uncurated models",defaultValue:!1,category:["DrawThings","Bridge mode","Uncurated"],sortOrder:0,tooltip:"When bridge mode is enabled, also list uncurated models",onChange:r=>{he.updateNodes()}}]},rs=Ka,Ya={saveSelectedModels(){let t=(this.widgets?.filter(i=>i.options?.modelType)||[]).reduce((i,n)=>(typeof n.value=="object"||n.value==="(None selected)"?i[n.name]=n.value:i[n.name]=this._lastSelectedModel?.[n.name],i),{});this._lastSelectedModel=t},lastSelectedModel:{get(){return this._lastSelectedModel},enumerable:!0},isDtServerNode:{get(){return Pn.includes(this?.comfyClass)},enumerable:!0},onSerialize(r){r._lastSelectedModel=JSON.parse(JSON.stringify(this._lastSelectedModel??{}))},onConfigure(r){this._lastSelectedModel=r._lastSelectedModel||{}},getModelWidgets(){return this.widgets?.filter(r=>r.options?.modelType)||[]},onAdded(){he.updateNodes()},findServerNodes(){if(Pn.includes(this.comfyClass))return[this];if(this.outputs?.length!==1)throw new Error("what node is this? Should only have a single output");function r(t){let i=[],n=t.getOutputNodes(0)??[];for(let o of n)o.isDtServerNode?i.push(o):i.push(...r(o));return i}return r(this)}},Qa={onNodeCreated(){let r=this.widgets?.find(n=>n.name==="server");r&&ji(r,"callback",()=>he.updateNodes());let t=this.widgets?.find(n=>n.name==="port");t&&ji(t,"callback",()=>he.updateNodes());let i=this.widgets?.find(n=>n.name==="use_tls");i&&ji(i,"callback",()=>he.updateNodes())},getServer(){let r=this.widgets?.find(n=>n.name==="server")?.value,t=this.widgets?.find(n=>n.name==="port")?.value,i=this.widgets?.find(n=>n.name==="use_tls")?.value;return{server:r,port:t,useTls:i}},getModelVersion(){return this.widgets?.find(r=>r.options?.modelType==="models")?.value?.value?.version},updateModels(r,t){let i=this.getModelWidgets();for(let n of i){if(!n)return;if(r===null){n.options&&(n.options.values=["Not connected","Click to retry"]),n.value="Not connected";continue}if(n.options&&(n.options.values=["(None selected)",...r.models.map(o=>Ri(o,!1)).sort((o,s)=>o.content.localeCompare(s.content))]),(n.value==="Click to retry"||n.value==="Not connected")&&(this._lastSelectedModel?.model?n.value=this._lastSelectedModel.model:n.value="(None selected)"),n.value?.toString()==="[object Object]"){let o={...n.value,toString(){return this.value.name}};n.value=o}}}},Ja={onConnectionsChange(r,t,i,n,o){i&&he.updateNodes()},updateModels(r,t=[]){let i=this.getModelWidgets();for(let n of i){if(!n)return;let o=n?.options?.modelType;if(!r?.[o]){n.options&&(n.options.values=["Not connected","Click to retry"]),n.value="Not connected";continue}if(n.options&&(n.options.values=["(None selected)",...r[o].map(s=>Ri(s,s.version&&t.length>0&&!t.includes(s.version))).sort((s,a)=>s.disabled&&!a.disabled?1:!s.disabled&&a.disabled?-1:s.content.toUpperCase().localeCompare(a.content.toUpperCase()))]),(n.value==="Click to retry"||n.value==="Not connected")&&(this._lastSelectedModel?.[n.name]?n.value=er(this._lastSelectedModel[n.name]):n.value="(None selected)"),n.value?.toString()==="[object Object]"){let s={...n.value,toString(){return this.value.name}};n.value=s}}}},Za={onConnectionsChange(r,t,i,n,o){i&&he.updateNodes()},updateModels(r,t){this._models=r?.textualInversions||null,this._version=t,this.updateOptions()},updateOptions(){let r=this.getModelWidgets();for(let t of r){if(!t)return;if(this._models===null){t.options&&(t.options.values=["Not connected","Click to retry"]),t.value="Not connected";return}let o=[...(this.widgets.find(s=>s.name==="prompt")?.value).matchAll(/<(.*?)>/gm)].map(s=>s[1]);t.options&&(t.options.values=["...",...this._models.map(s=>Ri(s,this._version&&this._version.length>0&&!this._version.includes(s.version)&&!o.includes(s.keyword))).map(s=>(Object.defineProperty(s,"content",{get(){return`${o.includes(s.value.keyword)?"\u2713 ":""}${s.value.name} (${s.value.version})`}}),s)).sort((s,a)=>s.disabled&&!a.disabled?1:!s.disabled&&a.disabled?-1:s.content.toUpperCase().localeCompare(a.content.toUpperCase()))]),t.value="..."}}};function er(r){return r?.toString()==="[object Object]"?{...r,toString(){return this.value.name}}:r}var Qt=class extends EventTarget{dispatch(t,i){let n=new CustomEvent(t,{detail:i,cancelable:!0});return super.dispatchEvent(n)}addEventListener(t,i,n){super.addEventListener(t,i,n)}removeEventListener(t,i,n){super.removeEventListener(t,i,n)}dispatchEvent(t){return super.dispatchEvent(t)}},je=-10,We=-20,d_=Object.freeze(Object.defineProperty({__proto__:null,SUBGRAPH_INPUT_ID:je,SUBGRAPH_OUTPUT_ID:We},Symbol.toStringTag,{value:"Module"})),Xt="00000000-0000-0000-0000-000000000000",tr=new Uint32Array(31);function Pe(){if(typeof crypto?.randomUUID=="function")return crypto.randomUUID();if(typeof crypto?.getRandomValues=="function"){let r=crypto.getRandomValues(tr),t=0;return"10000000-1000-4000-8000-100000000000".replaceAll(/[018]/g,i=>(Number(i)^r[t++]*3725290298461914e-24>>Number(i)*.25).toString(16))}return"10000000-1000-4000-8000-100000000000".replaceAll(/[018]/g,r=>(Number(r)^Math.random()*16>>Number(r)*.25).toString(16))}var ni,Fe=class Fe{constructor(t,i,n,o,s,a,_){c(this,"id");c(this,"parentId");c(this,"type");c(this,"origin_id");c(this,"origin_slot");c(this,"target_id");c(this,"target_slot");c(this,"data");c(this,"_data");c(this,"_pos");c(this,"_last_time");c(this,"path");c(this,"_centreAngle");c(this,"_dragging");P(this,ni);this.id=t,this.type=i,this.origin_id=n,this.origin_slot=o,this.target_id=s,this.target_slot=a,this.parentId=_,this._data=null,this._pos=new Float32Array(2)}get color(){return w(this,ni)}set color(t){B(this,ni,t===""?null:t)}get isFloatingOutput(){return this.origin_id===-1&&this.origin_slot===-1}get isFloatingInput(){return this.target_id===-1&&this.target_slot===-1}get isFloating(){return this.isFloatingOutput||this.isFloatingInput}get originIsIoNode(){return this.origin_id===je}get targetIsIoNode(){return this.target_id===We}static createFromArray(t){return new Fe(t[0],t[5],t[1],t[2],t[3],t[4])}static create(t){return new Fe(t.id,t.type,t.origin_id,t.origin_slot,t.target_id,t.target_slot,t.parentId)}static getReroutes(t,i){return i.parentId?t.reroutes.get(i.parentId)?.getReroutes()??[]:[]}static getFirstReroute(t,i){return Fe.getReroutes(t,i).at(0)}static findNextReroute(t,i,n){if(i.parentId)return t.reroutes.get(i.parentId)?.findNextReroute(n)}static getOriginNode(t,i){let n=t.links.get(i)?.origin_id;return t.getNodeById(n)??void 0}static getTargetNode(t,i){let n=t.links.get(i)?.target_id;return t.getNodeById(n)??void 0}static resolve(t,i){return i.getLink(t)?.resolve(i)}static resolveMany(t,i){let n=[];for(let o of t){let s=i.getLink(o)?.resolve(i);s&&n.push(s)}return n}resolve(t){let i=this.target_id===-1?void 0:t.getNodeById(this.target_id)??void 0,n=i?.inputs[this.target_slot],o=this.originIsIoNode?t.inputNode?.slots[this.origin_slot]:void 0;if(o)return{inputNode:i,input:n,subgraphInput:o,link:this};let s=this.origin_id===-1?void 0:t.getNodeById(this.origin_id)??void 0,a=s?.outputs[this.origin_slot],_=this.targetIsIoNode?t.outputNode?.slots[this.target_slot]:void 0;return _?{outputNode:s,output:a,subgraphInput:void 0,subgraphOutput:_,link:this}:{inputNode:i,outputNode:s,input:n,output:a,subgraphInput:o,subgraphOutput:_,link:this}}configure(t){Array.isArray(t)?(this.id=t[0],this.origin_id=t[1],this.origin_slot=t[2],this.target_id=t[3],this.target_slot=t[4],this.type=t[5]):(this.id=t.id,this.type=t.type,this.origin_id=t.origin_id,this.origin_slot=t.origin_slot,this.target_id=t.target_id,this.target_slot=t.target_slot,this.parentId=t.parentId)}hasOrigin(t,i){return this.origin_id===t&&this.origin_slot===i}hasTarget(t,i){return this.target_id===t&&this.target_slot===i}toFloating(t,i){let n=this.asSerialisable();return n.id=-1,n.parentId=i,t==="input"?(n.origin_id=-1,n.origin_slot=-1):(n.target_id=-1,n.target_slot=-1),Fe.create(n)}disconnect(t,i){let n=Fe.getReroutes(t,this),o=n.at(-1);if(i==="output"&&o?.linkIds.size===1&&o.floatingLinkIds.size===0||i==="input"&&o){let a=Fe.create(this);a.id=-1,i==="input"?(a.origin_id=-1,a.origin_slot=-1,o.floating={slotType:"input"}):(a.target_id=-1,a.target_slot=-1,o.floating={slotType:"output"}),t.addFloatingLink(a)}for(let a of n)a.linkIds.delete(this.id),!i&&!a.totalLinks&&t.reroutes.delete(a.id);if(t.links.delete(this.id),this.originIsIoNode&&t instanceof Wt){let a=t.inputs.at(this.origin_slot);if(!a)throw new Error("Invalid link - subgraph input not found");a.events.dispatch("input-disconnected",{input:a})}}serialize(){return[this.id,this.origin_id,this.origin_slot,this.target_id,this.target_slot,this.type]}asSerialisable(){let t={id:this.id,origin_id:this.origin_id,origin_slot:this.origin_slot,target_id:this.target_id,target_slot:this.target_slot,type:this.type};return this.parentId&&(t.parentId=this.parentId),t}};ni=new WeakMap,c(Fe,"_drawDebug",!1);var H=Fe,re=(r=>(r[r.INPUT=1]="INPUT",r[r.OUTPUT=2]="OUTPUT",r))(re||{}),W=(r=>(r[r.BOX=1]="BOX",r[r.ROUND=2]="ROUND",r[r.CIRCLE=3]="CIRCLE",r[r.CARD=4]="CARD",r[r.ARROW=5]="ARROW",r[r.GRID=6]="GRID",r[r.HollowCircle=7]="HollowCircle",r))(W||{}),ae=(r=>(r[r.Nothing=0]="Nothing",r[r.Node=1]="Node",r[r.Group=2]="Group",r[r.Reroute=4]="Reroute",r[r.Link=8]="Link",r[r.RerouteSlot=32]="RerouteSlot",r[r.SubgraphIoNode=64]="SubgraphIoNode",r[r.SubgraphIoSlot=128]="SubgraphIoSlot",r))(ae||{}),M=(r=>(r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r[r.LEFT=3]="LEFT",r[r.RIGHT=4]="RIGHT",r[r.CENTER=5]="CENTER",r))(M||{}),pe=(r=>(r[r.HIDDEN_LINK=-1]="HIDDEN_LINK",r[r.STRAIGHT_LINK=0]="STRAIGHT_LINK",r[r.LINEAR_LINK=1]="LINEAR_LINK",r[r.SPLINE_LINK=2]="SPLINE_LINK",r))(pe||{}),Re=(r=>(r[r.None=0]="None",r[r.Circle=1]="Circle",r[r.Arrow=2]="Arrow",r))(Re||{}),me=(r=>(r[r.NORMAL_TITLE=0]="NORMAL_TITLE",r[r.NO_TITLE=1]="NO_TITLE",r[r.TRANSPARENT_TITLE=2]="TRANSPARENT_TITLE",r[r.AUTOHIDE_TITLE=3]="AUTOHIDE_TITLE",r))(me||{}),te=(r=>(r[r.ALWAYS=0]="ALWAYS",r[r.ON_EVENT=1]="ON_EVENT",r[r.NEVER=2]="NEVER",r[r.ON_TRIGGER=3]="ON_TRIGGER",r[r.BYPASS=4]="BYPASS",r))(te||{}),fs=(r=>(r.LINEAR="linear",r.EASE_IN_QUAD="easeInQuad",r.EASE_OUT_QUAD="easeOutQuad",r.EASE_IN_OUT_QUAD="easeInOutQuad",r))(fs||{}),ne=(r=>(r[r.None=0]="None",r[r.Top=1]="Top",r[r.Bottom=2]="Bottom",r[r.Middle=4]="Middle",r[r.Left=8]="Left",r[r.Right=16]="Right",r[r.Centre=32]="Centre",r[r.TopLeft=9]="TopLeft",r[r.TopCentre=33]="TopCentre",r[r.TopRight=17]="TopRight",r[r.MidLeft=12]="MidLeft",r[r.MidCentre=36]="MidCentre",r[r.MidRight=20]="MidRight",r[r.BottomLeft=10]="BottomLeft",r[r.BottomCentre=34]="BottomCentre",r[r.BottomRight=18]="BottomRight",r))(ne||{});function we(r,t){return(r&t)===t}function Xe(r,t){return Math.sqrt((t[0]-r[0])*(t[0]-r[0])+(t[1]-r[1])*(t[1]-r[1]))}function ir(r,t,i,n){return(i-r)*(i-r)+(n-t)*(n-t)}function Y(r,t,i,n,o,s){return r>=i&&r<i+o&&t>=n&&t<n+s}function qt(r,t){return r[0]>=t[0]&&r[0]<t[0]+t[2]&&r[1]>=t[1]&&r[1]<t[1]+t[3]}function Vi(r,t,i){return r>=i[0]&&r<i[0]+i[2]&&t>=i[1]&&t<i[1]+i[3]}function nr(r,t,i,n,o,s){return i<r&&i+o>r&&n<t&&n+s>t}function ot(r,t){let i=r[0]+r[2],n=r[1]+r[3],o=t[0]+t[2],s=t[1]+t[3];return!(r[0]>o||r[1]>s||i<t[0]||n<t[1])}function or(r){return[r[0]+r[2]*.5,r[1]+r[3]*.5]}function sr(r,t){let i=t[0]+t[2]*.5,n=t[1]+t[3]*.5;return Vi(i,n,r)}function hs(r,t){let i=r[0]+r[2],n=r[1]+r[3],o=t[0]+t[2],s=t[1]+t[3];return!(r[0]===t[0]&&r[1]===t[1]&&i===o&&n===s)&&r[0]<=t[0]&&r[1]<=t[1]&&i>=o&&n>=s}function _s(r,t,i,n,o,s=.5){let a=1-s,_=a*a*a,l=3*(a*a)*s,d=3*a*(s*s),u=s*s*s;r[0]=_*t[0]+l*n[0]+d*o[0]+u*i[0],r[1]=_*t[1]+l*n[1]+d*o[1]+u*i[1]}function yn(r,t=10){let i=new Float32Array([1/0,1/0,-1/0,-1/0]);for(let n of r){let o=n.boundingRect;i[0]=Math.min(i[0],o[0]),i[1]=Math.min(i[1],o[1]),i[2]=Math.max(i[2],o[0]+o[2]),i[3]=Math.max(i[3],o[1]+o[3])}return i.every(n=>isFinite(n))?[i[0]-t,i[1]-t,i[2]-i[0]+2*t,i[3]-i[1]+2*t]:null}function lt(r,t){return t?(r[0]=t*Math.round(r[0]/t),r[1]=t*Math.round(r[1]/t),!0):!1}function ar(r,t,[i,n,o,s],[a,_]=[0,0]){return we(t,ne.Left)?r[0]=i+a:we(t,ne.Right)?r[0]=i+o-a-r[2]:we(t,ne.Centre)&&(r[0]=i+o*.5-r[2]*.5),we(t,ne.Top)?r[1]=n+_:we(t,ne.Bottom)?r[1]=n+s-_-r[3]:we(t,ne.Middle)&&(r[1]=n+s*.5-r[3]*.5),r}function ls(r,t,[i,n,o,s],[a,_]=[0,0]){return we(t,ne.Left)?r[0]=i-a-r[2]:we(t,ne.Right)?r[0]=i+o+a:we(t,ne.Centre)&&(r[0]=i+o*.5-r[2]*.5),we(t,ne.Top)?r[1]=n-_-r[3]:we(t,ne.Bottom)?r[1]=n+s+_:we(t,ne.Middle)&&(r[1]=n+s*.5-r[3]*.5),r}function Ee(r,t,i){return r<t?t:r>i?i:r}var oi,si,_t=class _t extends Float64Array{constructor(i=0,n=0,o=0,s=0){super(4);P(this,oi);P(this,si);this[0]=i,this[1]=n,this[2]=o,this[3]=s}static from([i,n,o,s]){return new _t(i,n,o,s)}static fromCentre([i,n],o,s=o){let a=i-o*.5,_=n-s*.5;return new _t(a,_,o,s)}static ensureRect(i){return i instanceof _t?i:new _t(i[0],i[1],i[2],i[3])}subarray(i=0,n){let o=i<<3,s=n===void 0?n:n-i;return new Float64Array(this.buffer,o,s)}get pos(){return w(this,oi)??B(this,oi,this.subarray(0,2)),w(this,oi)}set pos(i){this[0]=i[0],this[1]=i[1]}get size(){return w(this,si)??B(this,si,this.subarray(2,4)),w(this,si)}set size(i){this[2]=i[0],this[3]=i[1]}get x(){return this[0]}set x(i){this[0]=i}get y(){return this[1]}set y(i){this[1]=i}get width(){return this[2]}set width(i){this[2]=i}get height(){return this[3]}set height(i){this[3]=i}get left(){return this[0]}set left(i){this[0]=i}get top(){return this[1]}set top(i){this[1]=i}get right(){return this[0]+this[2]}set right(i){this[0]=i-this[2]}get bottom(){return this[1]+this[3]}set bottom(i){this[1]=i-this[3]}get centreX(){return this[0]+this[2]*.5}get centreY(){return this[1]+this[3]*.5}updateTo(i){this[0]=i[0],this[1]=i[1],this[2]=i[2],this[3]=i[3]}containsXy(i,n){let[o,s,a,_]=this;return i>=o&&i<o+a&&n>=s&&n<s+_}containsPoint([i,n]){let[o,s,a,_]=this;return i>=o&&i<o+a&&n>=s&&n<s+_}containsRect(i){let{right:n,bottom:o}=this,s=i[0]+i[2],a=i[1]+i[3];return!(this.x===i[0]&&this.y===i[1]&&n===s&&o===a)&&this.x<=i[0]&&this.y<=i[1]&&n>=s&&o>=a}overlaps(i){return this.x<i[0]+i[2]&&this.y<i[1]+i[3]&&this.x+this.width>i[0]&&this.y+this.height>i[1]}findContainingCorner(i,n,o){if(this.isInTopLeftCorner(i,n,o))return"NW";if(this.isInTopRightCorner(i,n,o))return"NE";if(this.isInBottomLeftCorner(i,n,o))return"SW";if(this.isInBottomRightCorner(i,n,o))return"SE"}isInTopLeftCorner(i,n,o){return Y(i,n,this.x,this.y,o,o)}isInTopRightCorner(i,n,o){return Y(i,n,this.right-o,this.y,o,o)}isInBottomLeftCorner(i,n,o){return Y(i,n,this.x,this.bottom-o,o,o)}isInBottomRightCorner(i,n,o){return Y(i,n,this.right-o,this.bottom-o,o,o)}isInTopEdge(i,n,o){return Y(i,n,this.x,this.y,this.width,o)}isInBottomEdge(i,n,o){return Y(i,n,this.x,this.bottom-o,this.width,o)}isInLeftEdge(i,n,o){return Y(i,n,this.x,this.y,o,this.height)}isInRightEdge(i,n,o){return Y(i,n,this.right-o,this.y,o,this.height)}getCentre(){return[this.centreX,this.centreY]}getArea(){return this.width*this.height}getPerimeter(){return 2*(this.width+this.height)}getTopLeft(){return[this[0],this[1]]}getBottomRight(){return[this.right,this.bottom]}getSize(){return[this[2],this[3]]}getOffsetTo([i,n]){return[i-this[0],n-this[1]]}getOffsetFrom([i,n]){return[this[0]-i,this[1]-n]}resizeTopLeft(i,n){this[2]+=this[0]-i,this[3]+=this[1]-n,this[0]=i,this[1]=n}resizeBottomLeft(i,n){this[2]+=this[0]-i,this[3]=n-this[1],this[0]=i}resizeTopRight(i,n){this[2]=i-this[0],this[3]+=this[1]-n,this[1]=n}resizeBottomRight(i,n){this[2]=i-this[0],this[3]=n-this[1]}setWidthRightAnchored(i){let n=this[2];this[2]=i,this[0]+=n-i}setHeightBottomAnchored(i){let n=this[3];this[3]=i,this[1]+=n-i}clone(){return new _t(this[0],this[1],this[2],this[3])}toArray(){return this.export()}export(){return[this[0],this[1],this[2],this[3]]}_drawDebug(i,n="red"){let{strokeStyle:o,lineWidth:s}=i;try{i.strokeStyle=n,i.lineWidth=.5,i.beginPath(),i.strokeRect(this[0],this[1],this[2],this[3])}finally{i.strokeStyle=o,i.lineWidth=s}}};oi=new WeakMap,si=new WeakMap;var fe=_t;function gs(r,t,i){let{inputs:n}=r;if(n)for(let[o,s]of n.entries()){let a=r.getInputPos(o),l=20+((s.label?.length??s.localized_name?.length??s.name?.length)||3)*7;if(Y(t,i,a[0]-10,a[1]-10,l,20))return{index:o,input:s,pos:a}}}function ms(r,t,i){let{outputs:n}=r;if(n)for(let[o,s]of n.entries()){let a=r.getOutputPos(o);if(Y(t,i,a[0]-10,a[1]-10,40,20))return{index:o,output:s,pos:a}}}function rr(r,t,i,n){let o=gs(r,t,i);return o?(n&&(n[0]=o.pos[0],n[1]=o.pos[1]),o.index):-1}function _r(r,t,i,n){let o=ms(r,t,i);return o?(n&&(n[0]=o.pos[0],n[1]=o.pos[1]),o.index):-1}var R=class extends Error{constructor(t="Attempted to access LGraph reference that was null or undefined.",i){super(t,{cause:i}),this.name="NullGraphError"}},Bn=class{constructor({unicode:t,fontFamily:i="PrimeIcons",color:n="#e6c200",bgColor:o,fontSize:s=16,circlePadding:a=2,xOffset:_=0,yOffset:l=0}){c(this,"unicode");c(this,"fontFamily");c(this,"color");c(this,"bgColor");c(this,"fontSize");c(this,"circlePadding");c(this,"xOffset");c(this,"yOffset");this.unicode=t,this.fontFamily=i,this.color=n,this.bgColor=o,this.fontSize=s,this.circlePadding=a,this.xOffset=_,this.yOffset=l}draw(t,i,n){i+=this.xOffset,n+=this.yOffset;let{font:o,textBaseline:s,textAlign:a,fillStyle:_}=t;t.font=`${this.fontSize}px '${this.fontFamily}'`,t.textBaseline="middle",t.textAlign="center";let l=this.fontSize/2+this.circlePadding;this.bgColor&&(t.beginPath(),t.arc(i+l,n,l,0,2*Math.PI),t.fillStyle=this.bgColor,t.fill()),t.fillStyle=this.color,t.fillText(this.unicode,i+l,n),t.font=o,t.textBaseline=s,t.textAlign=a,t.fillStyle=_}},zn=(r=>(r.TopLeft="top-left",r.TopRight="top-right",r))(zn||{}),Hi=class{constructor({text:t,fgColor:i="white",bgColor:n="#0F1F0F",fontSize:o=12,padding:s=6,height:a=20,cornerRadius:_=5,iconOptions:l,xOffset:d=0,yOffset:u=0}){c(this,"text");c(this,"fgColor");c(this,"bgColor");c(this,"fontSize");c(this,"padding");c(this,"height");c(this,"cornerRadius");c(this,"icon");c(this,"xOffset");c(this,"yOffset");this.text=t,this.fgColor=i,this.bgColor=n,this.fontSize=o,this.padding=s,this.height=a,this.cornerRadius=_,l&&(this.icon=new Bn(l)),this.xOffset=d,this.yOffset=u}get visible(){return this.text.length>0||!!this.icon}getWidth(t){if(!this.visible)return 0;let{font:i}=t,n=0;this.icon&&(t.font=`${this.icon.fontSize}px '${this.icon.fontFamily}'`,n=t.measureText(this.icon.unicode).width+this.padding),t.font=`${this.fontSize}px sans-serif`;let o=this.text?t.measureText(this.text).width:0;return t.font=i,n+o+this.padding*2}draw(t,i,n){if(!this.visible)return;i+=this.xOffset,n+=this.yOffset;let{font:o,fillStyle:s,textBaseline:a,textAlign:_}=t;t.font=`${this.fontSize}px sans-serif`;let l=this.getWidth(t),d=0;t.fillStyle=this.bgColor,t.beginPath(),t.roundRect?t.roundRect(i+d,n,l,this.height,this.cornerRadius):t.rect(i+d,n,l,this.height),t.fill();let u=i+d+this.padding,p=n+this.height/2;this.icon&&(this.icon.draw(t,u,p),u+=this.icon.fontSize+this.padding/2+4),this.text&&(t.fillStyle=this.fgColor,t.textBaseline="middle",t.textAlign="left",t.fillText(this.text,u,p+1)),t.font=o,t.fillStyle=s,t.textBaseline=a,t.textAlign=_}},Rn="\u2026",cs="\u2025",ds="\u2024",$t=(r=>(r.Array="array",r[r.Event=-1]="Event",r))($t||{}),ze=(r=>(r[r.Box=W.BOX]="Box",r[r.Arrow=W.ARROW]="Arrow",r[r.Grid=W.GRID]="Grid",r[r.Circle=W.CIRCLE]="Circle",r[r.HollowCircle=W.HollowCircle]="HollowCircle",r))(ze||{}),vs=(r=>(r[r.Up=M.UP]="Up",r[r.Right=M.RIGHT]="Right",r[r.Down=M.DOWN]="Down",r[r.Left=M.LEFT]="Left",r))(vs||{}),Pt=(r=>(r.Left="left",r.Right="right",r))(Pt||{});function xs(r,t,{shape:i=W.BOX,round_radius:n,title_height:o,title_mode:s=me.NORMAL_TITLE,color:a,padding:_=6,collapsed:l=!1,lineWidth:d=1}={}){if(n??(n=m.ROUND_RADIUS),a??(a=m.NODE_BOX_OUTLINE_COLOR),s===me.TRANSPARENT_TITLE){let b=o??m.NODE_TITLE_HEIGHT;t[1]-=b,t[3]+=b}let{lineWidth:u,strokeStyle:p}=r;r.lineWidth=d,r.globalAlpha=.8,r.strokeStyle=a,r.beginPath();let[f,h,g,k]=t;switch(i){case W.BOX:{r.rect(f-_,h-_,g+2*_,k+2*_);break}case W.ROUND:case W.CARD:{let b=n+_,E=i===W.CARD&&l||i===W.ROUND?[b]:[b,2,b,2];r.roundRect(f-_,h-_,g+2*_,k+2*_,E);break}case W.CIRCLE:{let b=f+g/2,y=h+k/2,E=Math.max(g,k)/2+_;r.arc(b,y,E,0,Math.PI*2);break}}r.stroke(),r.lineWidth=u,r.strokeStyle=p,r.globalAlpha=1}function lr(r,t,i){if(!(i>0))return"";if(r.measureText(t).width<=i)return t;let o=r.measureText(Rn).width*.75;if(o>i)return r.measureText(cs).width*.75<i?cs:r.measureText(ds).width*.75<i?ds:"";let s=0,a=t.length,_=0;for(;s<=a;){let l=Math.floor((s+a)*.5);if(l===0){s=l+1;continue}let d=t.substring(0,l);r.measureText(d).width+o<=i?(_=l,s=l+1):a=l-1}return _===0?Rn:t.substring(0,_)+Rn}function Vt({ctx:r,text:t,area:i,align:n="left"}){let{left:o,right:s,bottom:a,width:_,centreX:l}=i;if(r.measureText(t).width<=_){r.textAlign=n;let f=n==="left"?o:n==="right"?s:l;r.fillText(t,f,a);return}let u=lr(r,t,_);if(u.length===0)return;r.textAlign="left",r.fillText(u.slice(0,-1),o,a),r.rect(o,a,_,1),r.textAlign="right";let p=u.at(-1);r.fillText(p,s,a,r.measureText(p).width*.75)}var Ui=class{constructor(t,i,n){c(this,"name");c(this,"localized_name");c(this,"label");c(this,"type");c(this,"dir");c(this,"removable");c(this,"shape");c(this,"color_off");c(this,"color_on");c(this,"locked");c(this,"nameLocked");c(this,"widget");c(this,"_floatingLinks");c(this,"hasErrors");c(this,"boundingRect");this.name=t,this.type=i,this.boundingRect=n??new fe}renderingColor(t){return this.isConnected?this.color_on||t.getConnectedColor(this.type):this.color_off||t.getDisconnectedColor(this.type)}},_n,ks,ai,Gi=class extends Ui{constructor(i,n){let o=i,{boundingRect:s,name:a,type:_,_listenerController:l,...d}=o,u=s?fe.ensureRect(s):new fe;super(a,_,u);P(this,_n);c(this,"pos");P(this,ai);Object.assign(this,d),B(this,ai,n)}get node(){return w(this,ai)}get highlightColor(){return m.NODE_TEXT_HIGHLIGHT_COLOR??m.NODE_SELECTED_TITLE_COLOR??m.NODE_TEXT_COLOR}get renderingLabel(){return this.label||this.localized_name||this.name||""}draw(i,{colorContext:n,labelPosition:o=Pt.Right,lowQuality:s=!1,highlight:a=!1,doStroke:_=!1}){let l=i.fillStyle,d=i.strokeStyle,u=i.lineWidth,p=a?this.highlightColor:m.NODE_TEXT_COLOR,f=w(this,_n,ks),h=this.type,g=h===$t.Array?ze.Grid:this.shape;i.beginPath();let k=!0;if(i.fillStyle=this.renderingColor(n),i.lineWidth=1,h===$t.Event||g===ze.Box)i.rect(f[0]-6+.5,f[1]-5+.5,14,10);else if(g===ze.Arrow)i.moveTo(f[0]+8,f[1]+.5),i.lineTo(f[0]-4,f[1]+6+.5),i.lineTo(f[0]-4,f[1]-6+.5),i.closePath();else if(g===ze.Grid){for(let L=0;L<3;L++)for(let N=0;N<3;N++)i.rect(f[0]-4+L*3,f[1]-4+N*3,2,2);_=!1}else if(s)i.rect(f[0]-4,f[1]-4,8,8);else{let y;g===ze.HollowCircle?(k=!1,_=!0,i.lineWidth=3,i.strokeStyle=i.fillStyle,y=a?4:3):y=a?5:4,i.arc(f[0],f[1],y,0,Math.PI*2)}if(k&&i.fill(),!s&&_&&i.stroke(),!(s||this.isWidgetInputSlot)){let y=this.renderingLabel;y&&(i.fillStyle=p,o===Pt.Right?this.dir==M.UP?i.fillText(y,f[0],f[1]-10):i.fillText(y,f[0]+10,f[1]+5):this.dir==M.DOWN?i.fillText(y,f[0],f[1]-8):i.fillText(y,f[0]-10,f[1]+5))}this.hasErrors&&(i.lineWidth=2,i.strokeStyle="red",i.beginPath(),i.arc(f[0],f[1],12,0,Math.PI*2),i.stroke()),i.fillStyle=l,i.strokeStyle=d,i.lineWidth=u}drawCollapsed(i){let[n,o]=this.collapsedPos,{fillStyle:s}=i;i.fillStyle="#686",i.beginPath(),this.type===$t.Event||this.shape===W.BOX?i.rect(n-7+.5,o-4,14,8):this.shape===W.ARROW?(this instanceof $e?(i.moveTo(n+8,o),i.lineTo(n-4,o-4),i.lineTo(n-4,o+4)):(i.moveTo(n+6,o),i.lineTo(n-6,o-4),i.lineTo(n-6,o+4)),i.closePath()):i.arc(n,o,4,0,Math.PI*2),i.fill(),i.fillStyle=s}};_n=new WeakSet,ks=function(){let i=this.node.pos,{boundingRect:n}=this,o=n[3];return or([n[0]-i[0],n[1]-i[1],o,o])},ai=new WeakMap;var ri,$e=class extends Gi{constructor(i,n){super(i,n);c(this,"link");P(this,ri);this.link=i.link}get isWidgetInputSlot(){return!!this.widget}get _widget(){return w(this,ri)?.deref()}set _widget(i){B(this,ri,i?new WeakRef(i):void 0)}get collapsedPos(){return[0,m.NODE_TITLE_HEIGHT*-.5]}get isConnected(){return this.link!=null}isValidTarget(i){return"links"in i&&m.isValidConnection(this.type,i.type)}draw(i,n){let{textAlign:o}=i;i.textAlign="left",super.draw(i,{...n,labelPosition:Pt.Right,doStroke:!1}),i.textAlign=o}};ri=new WeakMap;var _i,St=class extends Gi{constructor(i,n){super(i,n);P(this,_i);c(this,"links");c(this,"_data");c(this,"slot_index");this.links=i.links,this._data=i._data,this.slot_index=i.slot_index,B(this,_i,n)}get isWidgetInputSlot(){return!1}get collapsedPos(){return[w(this,_i)._collapsed_width??m.NODE_COLLAPSED_WIDTH,m.NODE_TITLE_HEIGHT*-.5]}isValidTarget(i){return"link"in i&&m.isValidConnection(this.type,i.type)}get isConnected(){return this.links!=null&&this.links.length>0}draw(i,n){let{textAlign:o,strokeStyle:s}=i;i.textAlign="right",i.strokeStyle="black",super.draw(i,{...n,labelPosition:Pt.Left,doStroke:!0}),i.textAlign=o,i.strokeStyle=s}};_i=new WeakMap;function bs(r){let{color_off:t,color_on:i,dir:n,label:o,localized_name:s,locked:a,name:_,nameLocked:l,removable:d,shape:u,type:p}=r;return{color_off:t,color_on:i,dir:n,label:o,localized_name:s,locked:a,name:_,nameLocked:l,removable:d,shape:u,type:p}}function cr(r){let{link:t}=r,i=r.widget?{widget:{name:r.widget.name}}:{pos:r.pos};return{...bs(r),...i,link:t}}function dr(r){let{pos:t,slot_index:i,links:n,widget:o}=r,s=o?{widget:{name:o.name}}:null;return{...bs(r),...s,pos:t,slot_index:i,links:n}}function ur(r){return"link"in r}function nt(r){return!!r.widget}var pr=1e4,Fn=new Set;function ys(r,t){if(!m.alwaysRepeatWarnings){if(Fn.has(r)||Fn.size>pr)return;Fn.add(r)}for(let i of m.onDeprecationWarning)i(r,t)}function fr(r,t){if(t.length===0)return[];let i=t.reduce((s,a)=>s+a.minSize,0);if(r<i)return t.map(s=>s.minSize);let n=t.map(s=>({computedSize:s.minSize,maxSize:s.maxSize??1/0,remaining:(s.maxSize??1/0)-s.minSize})),o=r-i;for(;o>0&&n.some(s=>s.remaining>0);){let s=n.filter(l=>l.remaining>0).length;if(s===0)break;let a=o/s,_=0;if(n=n.map(l=>{if(l.remaining<=0)return l;let d=Math.min(a,l.remaining);return _+=d,{...l,computedSize:l.computedSize+d,remaining:l.remaining-d}}),o-=_,_===0)break}return n.map(({computedSize:s})=>s)}function ke(r,...t){return t[0]instanceof r?t[0]:new r(...t)}function u_(r){return typeof r=="object"&&r!==null&&"setColorOption"in r&&"getColorOption"in r}var li,ci,Oe=class Oe{constructor(t,i){P(this,li);c(this,"linkedWidgets");c(this,"name");c(this,"options");c(this,"label");c(this,"type");c(this,"y",0);c(this,"last_y");c(this,"width");c(this,"disabled");c(this,"computedDisabled");c(this,"hidden");c(this,"advanced");c(this,"tooltip");c(this,"element");P(this,ci);B(this,li,i??t.node),this.name=t.name,this.options=t.options,this.type=t.type;let{node:n,outline_color:o,background_color:s,height:a,text_color:_,secondary_text_color:l,disabledTextColor:d,displayName:u,displayValue:p,labelBaseline:f,...h}=t;Object.assign(this,h)}get node(){return w(this,li)}get value(){return w(this,ci)}set value(t){B(this,ci,t)}get outline_color(){return this.advanced?m.WIDGET_ADVANCED_OUTLINE_COLOR:m.WIDGET_OUTLINE_COLOR}get background_color(){return m.WIDGET_BGCOLOR}get height(){return m.NODE_WIDGET_HEIGHT}get text_color(){return m.WIDGET_TEXT_COLOR}get secondary_text_color(){return m.WIDGET_SECONDARY_TEXT_COLOR}get disabledTextColor(){return m.WIDGET_DISABLED_TEXT_COLOR}get displayName(){return this.label||this.name}get _displayValue(){return this.computedDisabled?"":String(this.value)}get labelBaseline(){return this.y+this.height*.7}drawWidgetShape(t,{width:i,showText:n}){let{height:o,y:s}=this,{margin:a}=Oe;t.textAlign="left",t.strokeStyle=this.outline_color,t.fillStyle=this.background_color,t.beginPath(),n?t.roundRect(a,s,i-a*2,o,[o*.5]):t.rect(a,s,i-a*2,o),t.fill(),n&&!this.computedDisabled&&t.stroke()}drawTruncatingText({ctx:t,width:i,leftPadding:n=5,rightPadding:o=20}){let{height:s,y:a}=this,{margin:_}=Oe,{displayName:l,_displayValue:d}=this,u=t.measureText(l).width,p=t.measureText(d).width,f=Oe.labelValueGap,h=_*2+n,g=i-h-2*_-o,k=u+f+p,b=new fe(h,a,g,s*.7);if(t.fillStyle=this.secondary_text_color,k<=g)Vt({ctx:t,text:l,area:b,align:"left"});else if(m.truncateWidgetTextEvenly){let y=(g-f)/(k-f);b.width=u*y,Vt({ctx:t,text:l,area:b,align:"left"}),b.right=h+g,b.setWidthRightAnchored(p*y)}else if(m.truncateWidgetValuesFirst){let y=Math.min(u,g);b.width=y,Vt({ctx:t,text:l,area:b,align:"left"}),b.right=h+g,b.setWidthRightAnchored(Math.max(g-f-y,0))}else{let y=Math.min(p,g);b.width=Math.max(g-f-y,0),Vt({ctx:t,text:l,area:b,align:"left"}),b.right=h+g,b.setWidthRightAnchored(y)}t.fillStyle=this.text_color,Vt({ctx:t,text:d,area:b,align:"right"})}setValue(t,{e:i,node:n,canvas:o}){let s=this.value;if(t===this.value)return;let a=this.type==="number"?Number(t):t;this.value=a,this.options?.property&&n.properties[this.options.property]!==void 0&&n.setProperty(this.options.property,a);let _=o.graph_mouse;this.callback?.(this.value,o,n,_,i),n.onWidgetChanged?.(this.name??"",a,s,this),n.graph&&n.graph._version++}createCopyForNode(t){let i=new this.constructor(this,t);return i.value=this.value,i}};li=new WeakMap,ci=new WeakMap,c(Oe,"margin",15),c(Oe,"arrowMargin",6),c(Oe,"arrowWidth",10),c(Oe,"minValueWidth",42),c(Oe,"labelValueGap",5);var J=Oe,Vn=class extends J{constructor(){super(...arguments);c(this,"type","toggle")}drawWidget(i,{width:n,showText:o=!0}){let{height:s,y:a}=this,{margin:_}=J;this.drawWidgetShape(i,{width:n,showText:o}),i.fillStyle=this.value?"#89A":"#333",i.beginPath(),i.arc(n-_*2,a+s*.5,s*.36,0,Math.PI*2),i.fill(),o&&(this.drawLabel(i,_*2),this.drawValue(i,n-40))}drawLabel(i,n){i.fillStyle=this.secondary_text_color;let{displayName:o}=this;o&&i.fillText(o,n,this.labelBaseline)}drawValue(i,n){i.fillStyle=this.value?this.text_color:this.secondary_text_color,i.textAlign="right";let o=this.value?this.options.on||"true":this.options.off||"false";i.fillText(o,n,this.labelBaseline)}onClick(i){this.setValue(!this.value,i)}},Hn=class extends J{constructor(i,n){super(i,n);c(this,"type","button");c(this,"clicked");this.clicked??(this.clicked=!1)}drawWidget(i,{width:n,showText:o=!0}){let{fillStyle:s,strokeStyle:a,textAlign:_}=i,{height:l,y:d}=this,{margin:u}=J;i.fillStyle=this.background_color,this.clicked&&(i.fillStyle="#AAA",this.clicked=!1),i.fillRect(u,d,n-u*2,l),o&&!this.computedDisabled&&(i.strokeStyle=this.outline_color,i.strokeRect(u,d,n-u*2,l)),o&&this.drawLabel(i,n*.5),Object.assign(i,{textAlign:_,strokeStyle:a,fillStyle:s})}drawLabel(i,n){i.textAlign="center",i.fillStyle=this.text_color,i.fillText(this.displayName,n,this.y+this.height*.7)}onClick({e:i,node:n,canvas:o}){let s=o.graph_mouse;this.clicked=!0,o.setDirty(!0),this.callback?.(this,o,n,s,i)}},Xi=class extends J{drawArrowButtons(t,i){let{height:n,text_color:o,disabledTextColor:s,y:a}=this,{arrowMargin:_,arrowWidth:l,margin:d}=J,u=d+_,p=u+l;t.fillStyle=this.canDecrement()?o:s,t.beginPath(),t.moveTo(p,a+5),t.lineTo(u,a+n*.5),t.lineTo(p,a+n-5),t.fill(),t.fillStyle=this.canIncrement()?o:s,t.beginPath(),t.moveTo(i-p,a+5),t.lineTo(i-u,a+n*.5),t.lineTo(i-p,a+n-5),t.fill()}drawWidget(t,i){let{fillStyle:n,strokeStyle:o,textAlign:s}=t;this.drawWidgetShape(t,i),i.showText&&(this.computedDisabled||this.drawArrowButtons(t,i.width),this.drawTruncatingText({ctx:t,width:i.width})),Object.assign(t,{textAlign:s,strokeStyle:o,fillStyle:n})}};function Mn(r){return Array.isArray(r)?r:Object.keys(r)}var Ne,Gn,Xn,$n,Un=class extends Xi{constructor(){super(...arguments);P(this,Ne);c(this,"type","combo")}get _displayValue(){if(this.computedDisabled)return"";let{values:i}=this.options;if(i){let n=typeof i=="function"?i():i;if(n&&!Array.isArray(n))return n[this.value]}return typeof this.value=="number"?String(this.value):this.value}canIncrement(){return T(this,Ne,Xn).call(this,!0)}canDecrement(){return T(this,Ne,Xn).call(this,!1)}incrementValue(i){T(this,Ne,$n).call(this,1,i)}decrementValue(i){T(this,Ne,$n).call(this,-1,i)}onClick({e:i,node:n,canvas:o}){let s=i.canvasX-n.pos[0],a=this.width||n.size[0];if(typeof this.options.values=="function"&&ys("Using a function for values is deprecated. Use an array of unique values instead."),s<40)return this.decrementValue({e:i,node:n,canvas:o});if(s>a-40)return this.incrementValue({e:i,node:n,canvas:o});let _=T(this,Ne,Gn).call(this,n),l=Mn(_),d=_!=l?Object.values(_):_;new m.ContextMenu(d,{scale:Math.max(1,o.ds.scale),event:i,className:"dark",callback:u=>{this.setValue(_!=l?d.indexOf(u):u,{e:i,node:n,canvas:o})}})}};Ne=new WeakSet,Gn=function(i){let{values:n}=this.options;if(n==null)throw new Error("[ComboWidget]: values is required");return typeof n=="function"?n(this,i):n},Xn=function(i){let{values:n}=this.options;if(typeof n=="function")return!1;let o=Mn(n);if(!(o.length>1))return!1;let s=o.at(0),a=o.at(-1);return s===a?!0:this.value!==(i?a:s)},$n=function(i,n){let o=T(this,Ne,Gn).call(this,n.node),s=Mn(o);n.canvas.last_mouseclick=0;let a=typeof o=="object"?s.indexOf(String(this.value))+i:s.indexOf(this.value)+i,_=Ee(a,0,s.length-1),l=Array.isArray(o)?o[_]:_;this.setValue(l,n)};function Ht(r){return r.step2||(r.step||10)*.1}var Kn=class extends J{constructor(){super(...arguments);c(this,"type","knob");c(this,"current_drag_offset",0)}computeLayoutSize(){return{minHeight:60,minWidth:20,maxHeight:1e6,maxWidth:1e6}}get height(){return this.computedHeight||super.height}drawWidget(i,{width:n,showText:o=!0}){let{fillStyle:s,strokeStyle:a,textAlign:_}=i,{y:l}=this,{margin:d}=J,{gradient_stops:u="rgb(14, 182, 201); rgb(0, 216, 72)"}=this.options,p=this.computedHeight||this.height,f=Math.min(this.computedHeight||this.height,this.width||20)/20,h={x:n/2,y:p/2+l};i.lineWidth=(Math.min(n,p)-d*f)/6;let g=(Math.min(n,p)-d*f-i.lineWidth)/2;{let N=i.createRadialGradient(h.x,h.y,g+i.lineWidth,0,0,g+i.lineWidth);N.addColorStop(0,"rgb(29, 29, 29)"),N.addColorStop(1,"rgb(116, 116, 116)"),i.fillStyle=N}i.beginPath(),i.arc(h.x,h.y,g+i.lineWidth/2,0,Math.PI*2,!1),i.fill(),i.closePath();let k={start_angle:Math.PI*.6,end_angle:Math.PI*2.4};i.beginPath();{let N=i.createRadialGradient(h.x,h.y,g+i.lineWidth,0,0,g+i.lineWidth);N.addColorStop(0,"rgb(99, 99, 99)"),N.addColorStop(1,"rgb(36, 36, 36)"),i.strokeStyle=N}i.arc(h.x,h.y,g,k.start_angle,k.end_angle,!1),i.stroke(),i.closePath();let b=this.options.max-this.options.min,y=(this.value-this.options.min)/b;y=Ee(y,0,1),i.beginPath();let E=i.createConicGradient(k.start_angle,h.x,h.y),A=u.split(";");for(let[N,S]of A.entries())E.addColorStop(N,S.trim());i.strokeStyle=E;let L=(k.end_angle-k.start_angle)*y+k.start_angle;if(i.arc(h.x,h.y,g,k.start_angle,L,!1),i.stroke(),i.closePath(),o&&!this.computedDisabled&&(i.strokeStyle=this.outline_color,i.beginPath(),i.strokeStyle=this.outline_color,i.arc(h.x,h.y,g+i.lineWidth/2,0,Math.PI*2,!1),i.lineWidth=1,i.stroke(),i.closePath()),o){i.textAlign="center",i.fillStyle=this.text_color;let N=Number(this.value).toFixed(this.options.precision??3);i.fillText(`${this.label||this.name}
${N}`,n*.5,l+p*.5)}Object.assign(i,{textAlign:_,strokeStyle:a,fillStyle:s})}onClick(){this.current_drag_offset=0}onDrag(i){if(this.options.read_only)return;let{e:n}=i,o=Ht(this.options),s=this.options.max-this.options.min,a=s/10,_=s/100,l={shift:a>o?a-a%o:o,delta_y:_>o?_-_%o:o},d=Math.abs(n.movementY)>Math.abs(n.movementX),u=d?-n.movementY:n.movementX,p=15;this.current_drag_offset+=u;let f=0;this.current_drag_offset>p?(f+=1,this.current_drag_offset-=p):this.current_drag_offset<-15&&(f-=1,this.current_drag_offset+=p);let h=n.shiftKey?l.shift:d?l.delta_y:o,g=f*h,k=Ee(this.value+g,this.options.min,this.options.max);k!==this.value&&this.setValue(k,i)}},Yn=class extends J{drawWidget(t,i){let n=m.NODE_WIDGET_HEIGHT;this.draw?.(t,this.node,i.width,this.y,n,!!i.showText)}onClick(){console.warn("Custom widget wrapper onClick was just called. Handling for third party widgets is done via LGraphCanvas - the mouse callback.")}},Qn=class extends Xi{constructor(){super(...arguments);c(this,"type","number")}get _displayValue(){return this.computedDisabled?"":Number(this.value).toFixed(this.options.precision!==void 0?this.options.precision:3)}canIncrement(){let{max:t}=this.options;return t==null||this.value<t}canDecrement(){let{min:t}=this.options;return t==null||this.value>t}incrementValue(t){this.setValue(this.value+Ht(this.options),t)}decrementValue(t){this.setValue(this.value-Ht(this.options),t)}setValue(t,i){let n=t;this.options.min!=null&&n<this.options.min&&(n=this.options.min),this.options.max!=null&&n>this.options.max&&(n=this.options.max),super.setValue(n,i)}onClick({e,node,canvas}){let x=e.canvasX-node.pos[0],width=this.width||node.size[0],delta=x<40?-1:x>width-40?1:0;if(delta){this.setValue(this.value+delta*Ht(this.options),{e,node,canvas});return}canvas.prompt("Value",this.value,v=>{if(/^[\d\s()*+/-]+|\d+\.\d+$/.test(v))try{v=eval(v)}catch{}let newValue=Number(v);isNaN(newValue)||this.setValue(newValue,{e,node,canvas})},e)}onDrag({e:t,node:i,canvas:n}){let o=this.width||i.width,s=t.canvasX-i.pos[0];(s<40||s>o-40)&&s>-3&&s<o+3||this.setValue(this.value+(t.deltaX??0)*Ht(this.options),{e:t,node:i,canvas:n})}},Jn=class extends J{constructor(){super(...arguments);c(this,"type","slider");c(this,"marker")}drawWidget(i,{width:n,showText:o=!0}){let{fillStyle:s,strokeStyle:a,textAlign:_}=i,{height:l,y:d}=this,{margin:u}=J;i.fillStyle=this.background_color,i.fillRect(u,d,n-u*2,l);let p=this.options.max-this.options.min,f=(this.value-this.options.min)/p;if(f=Ee(f,0,1),i.fillStyle=this.options.slider_color??"#678",i.fillRect(u,d,f*(n-u*2),l),o&&!this.computedDisabled&&(i.strokeStyle=this.outline_color,i.strokeRect(u,d,n-u*2,l)),this.marker!=null){let h=(this.marker-this.options.min)/p;h=Ee(h,0,1),i.fillStyle=this.options.marker_color??"#AA9",i.fillRect(u+h*(n-u*2),d,2,l)}if(o){i.textAlign="center",i.fillStyle=this.text_color;let h=Number(this.value).toFixed(this.options.precision??3);i.fillText(`${this.label||this.name}  ${h}`,n*.5,d+l*.7)}Object.assign(i,{textAlign:_,strokeStyle:a,fillStyle:s})}onClick(i){if(this.options.read_only)return;let{e:n,node:o}=i,s=this.width||o.size[0],a=n.canvasX-o.pos[0],_=Ee((a-15)/(s-30),0,1),l=this.options.min+(this.options.max-this.options.min)*_;l!==this.value&&this.setValue(l,i)}onDrag(i){if(this.options.read_only)return!1;let{e:n,node:o}=i,s=this.width||o.size[0],a=n.canvasX-o.pos[0],_=Ee((a-15)/(s-30),0,1),l=this.options.min+(this.options.max-this.options.min)*_;l!==this.value&&this.setValue(l,i)}},$i=class extends J{constructor(t,i){super(t,i),this.type??(this.type="string"),this.value=t.value?.toString()??""}drawWidget(t,{width:i,showText:n=!0}){let{fillStyle:o,strokeStyle:s,textAlign:a}=t;this.drawWidgetShape(t,{width:i,showText:n}),n&&this.drawTruncatingText({ctx:t,width:i,leftPadding:0,rightPadding:0}),Object.assign(t,{textAlign:a,strokeStyle:s,fillStyle:o})}onClick({e:t,node:i,canvas:n}){n.prompt("Value",this.value,o=>{o!==null&&this.setValue(o,{e:t,node:i,canvas:n})},t,this.options?.multiline??!1)}};function Ki(r,t,i=!0){if(r instanceof J)return r;let n=r;switch(n.type){case"button":return ke(Hn,n,t);case"toggle":return ke(Vn,n,t);case"slider":return ke(Jn,n,t);case"knob":return ke(Kn,n,t);case"combo":return ke(Un,n,t);case"number":return ke(Qn,n,t);case"string":return ke($i,n,t);case"text":return ke($i,n,t);default:if(i)return ke(Yn,r,t)}}function p_(r){return r.type==="combo"}var Ve,ct,di,ui,V,ws,Ss,Zn,Ut,eo,to,Wi,Ts,Is,Cs,Es,Ns,Ds,ce=class ce{constructor(t,i){P(this,V);c(this,"title");c(this,"graph",null);c(this,"id");c(this,"type","");c(this,"inputs",[]);c(this,"outputs",[]);P(this,Ve,[]);P(this,ct,[]);c(this,"properties",{});c(this,"properties_info",[]);c(this,"flags",{});c(this,"widgets");c(this,"freeWidgetSpace");c(this,"locked");c(this,"order",0);c(this,"mode",te.ALWAYS);c(this,"last_serialization");c(this,"serialize_widgets");c(this,"color");c(this,"bgcolor");c(this,"boxcolor");c(this,"strokeStyles");c(this,"progress");c(this,"exec_version");c(this,"action_call");c(this,"execute_triggered");c(this,"action_triggered");c(this,"widgets_up");c(this,"widgets_start_y");c(this,"lostFocusAt");c(this,"gotFocusAt");c(this,"badges",[]);c(this,"badgePosition",zn.TopLeft);c(this,"_collapsed_width");c(this,"console");c(this,"_level");c(this,"_shape");c(this,"mouseOver");c(this,"redraw_on_mouse");c(this,"resizable");c(this,"clonable");c(this,"_relative_id");c(this,"clip_area");c(this,"ignore_remove");c(this,"has_errors");c(this,"removable");c(this,"block_delete");c(this,"selected");c(this,"showAdvanced");P(this,di,new Float32Array(4));P(this,ui,new fe);c(this,"_posSize",new Float32Array(4));c(this,"_pos",this._posSize.subarray(0,2));c(this,"_size",this._posSize.subarray(2,4));this.id=m.use_uuids?m.uuidv4():-1,this.title=t||"Unnamed",this.type=i??"",this.size=[m.NODE_WIDTH,60],this.pos=[10,10],this.strokeStyles={error:T(this,V,ws),selected:T(this,V,Ss)}}get titleFontStyle(){return`${m.NODE_TEXT_SIZE}px ${m.NODE_FONT}`}get innerFontStyle(){return`normal ${m.NODE_SUBTEXT_SIZE}px ${m.NODE_FONT}`}get displayType(){return this.type}get renderingColor(){return this.color||this.constructor.color||m.NODE_DEFAULT_COLOR}get renderingBgColor(){return this.bgcolor||this.constructor.bgcolor||m.NODE_DEFAULT_BGCOLOR}get renderingBoxColor(){if(this.boxcolor)return this.boxcolor;if(m.node_box_coloured_when_on){if(this.action_triggered)return"#FFF";if(this.execute_triggered)return"#AAA"}if(m.node_box_coloured_by_mode){let t=m.NODE_MODES_COLORS[this.mode??te.ALWAYS];if(t)return t}return m.NODE_DEFAULT_BOXCOLOR}setColorOption(t){t==null?(delete this.color,delete this.bgcolor):(this.color=t.color,this.bgcolor=t.bgcolor)}getColorOption(){return Object.values(ee.node_colors).find(t=>t.color===this.color&&t.bgcolor===this.bgcolor)??null}isSubgraphNode(){return!1}get renderArea(){return w(this,di)}get boundingRect(){return w(this,ui)}get boundingOffset(){let{pos:[t,i],boundingRect:[n,o]}=this;return[t-n,i-o]}get pos(){return this._pos}set pos(t){!t||t.length<2||(this._pos[0]=t[0],this._pos[1]=t[1])}get size(){return this._size}set size(t){!t||t.length<2||(this._size[0]=t[0],this._size[1]=t[1])}get renderingSize(){return this.flags.collapsed?[this._collapsed_width??0,0]:this._size}get shape(){return this._shape}set shape(t){switch(t){case"default":delete this._shape;break;case"box":this._shape=W.BOX;break;case"round":this._shape=W.ROUND;break;case"circle":this._shape=W.CIRCLE;break;case"card":this._shape=W.CARD;break;default:this._shape=t}}get renderingShape(){return this._shape||this.constructor.shape||m.NODE_DEFAULT_SHAPE}get is_selected(){return this.selected}set is_selected(t){this.selected=t}get title_mode(){return this.constructor.title_mode??me.NORMAL_TITLE}configure(t){this.graph&&this.graph._version++;for(let i in t){if(i=="properties"){for(let n in t.properties)this.properties[n]=t.properties[n],this.onPropertyChanged?.(n,t.properties[n]);continue}t[i]!=null&&(typeof t[i]=="object"?this[i]?.configure?this[i]?.configure(t[i]):this[i]=m.cloneObject(t[i],this[i]):this[i]=t[i])}t.title||(this.title=this.constructor.title),this.inputs??(this.inputs=[]),this.inputs=this.inputs.map(i=>ke($e,i,this));for(let[i,n]of this.inputs.entries()){let o=this.graph&&n.link!=null?this.graph._links.get(n.link):null;this.onConnectionsChange?.(re.INPUT,i,!0,o,n),this.onInputAdded?.(n)}this.outputs??(this.outputs=[]),this.outputs=this.outputs.map(i=>ke(St,i,this));for(let[i,n]of this.outputs.entries())if(n.links){for(let o of n.links){let s=this.graph?this.graph._links.get(o):null;this.onConnectionsChange?.(re.OUTPUT,i,!0,s,n)}this.onOutputAdded?.(n)}if(this._internalConfigureAfterSlots?.(),this.widgets){for(let i of this.widgets)i&&i.options?.property&&this.properties[i.options.property]!=null&&(i.value=JSON.parse(JSON.stringify(this.properties[i.options.property])));if(t.widgets_values){let i=this.widgets.filter(n=>n.serialize!==!1);for(let n=0;n<t.widgets_values.length;++n){let o=i[n];o&&(o.value=t.widgets_values[n])}}}this.pinned&&(this.resizable=!1),this.onConfigure?.(t)}serialize(){let t={id:this.id,type:this.type,pos:[this.pos[0],this.pos[1]],size:[this.size[0],this.size[1]],flags:m.cloneObject(this.flags),order:this.order,mode:this.mode,showAdvanced:this.showAdvanced};if(this.constructor===ce&&this.last_serialization)return this.last_serialization;this.inputs&&(t.inputs=this.inputs.map(n=>cr(n))),this.outputs&&(t.outputs=this.outputs.map(n=>dr(n))),this.title&&this.title!=this.constructor.title&&(t.title=this.title),this.properties&&(t.properties=m.cloneObject(this.properties));let{widgets:i}=this;if(i&&this.serialize_widgets){t.widgets_values=[];for(let[n,o]of i.entries())o.serialize!==!1&&(t.widgets_values[n]=o?o.value:null)}return t.type||(t.type=this.constructor.type),this.color&&(t.color=this.color),this.bgcolor&&(t.bgcolor=this.bgcolor),this.boxcolor&&(t.boxcolor=this.boxcolor),this.shape&&(t.shape=this.shape),this.onSerialize?.(t)&&console.warn("node onSerialize shouldnt return anything, data should be stored in the object pass in the first parameter"),t}clone(){if(this.type==null)return null;let t=m.createNode(this.type);if(!t)return null;let i=m.cloneObject(this.serialize()),{inputs:n,outputs:o}=i;if(n)for(let s of n)s.link=null;if(o)for(let{links:s}of o)s&&(s.length=0);return delete i.id,m.use_uuids&&(i.id=m.uuidv4()),t.configure(i),t}toString(){return JSON.stringify(this.serialize())}getTitle(){return this.title||this.constructor.title}setProperty(t,i){if(this.properties||(this.properties={}),i===this.properties[t])return;let n=this.properties[t];if(this.properties[t]=i,this.onPropertyChanged?.(t,i,n)===!1&&(this.properties[t]=n),this.widgets){for(let o of this.widgets)if(o&&o.options.property==t){o.value=i;break}}}setOutputData(t,i){let{outputs:n}=this;if(!n||t==-1||t>=n.length)return;let o=n[t];if(!o)return;if(o._data=i,!this.graph)throw new R;let{links:s}=n[t];if(s)for(let a of s){let _=this.graph._links.get(a);_&&(_.data=i)}}setOutputDataType(t,i){let{outputs:n}=this;if(!n||t==-1||t>=n.length)return;let o=n[t];if(!o)return;if(o.type=i,!this.graph)throw new R;let{links:s}=n[t];if(s)for(let a of s){let _=this.graph._links.get(a);_&&(_.type=i)}}getInputData(t,i){if(!this.inputs||t>=this.inputs.length||this.inputs[t].link==null)return;if(!this.graph)throw new R;let n=this.inputs[t].link,o=this.graph._links.get(n);if(!o)return null;if(!i)return o.data;let s=this.graph.getNodeById(o.origin_id);return s&&(s.updateOutputData?s.updateOutputData(o.origin_slot):s.onExecute?.()),o.data}getInputDataType(t){if(!this.inputs||t>=this.inputs.length||this.inputs[t].link==null)return null;if(!this.graph)throw new R;let i=this.inputs[t].link,n=this.graph._links.get(i);if(!n)return null;let o=this.graph.getNodeById(n.origin_id);if(!o)return n.type;let s=o.outputs[n.origin_slot];return s?s.type:null}getInputDataByName(t,i){let n=this.findInputSlot(t);return n==-1?null:this.getInputData(n,i)}isInputConnected(t){return this.inputs?t<this.inputs.length&&this.inputs[t].link!=null:!1}getInputInfo(t){return!this.inputs||!(t<this.inputs.length)?null:this.inputs[t]}getInputLink(t){if(!this.inputs)return null;if(t<this.inputs.length){if(!this.graph)throw new R;let i=this.inputs[t];if(i.link!=null)return this.graph._links.get(i.link)??null}return null}getInputNode(t){if(!this.inputs||t>=this.inputs.length)return null;let i=this.inputs[t];if(!i||i.link===null)return null;if(!this.graph)throw new R;let n=this.graph._links.get(i.link);return n?this.graph.getNodeById(n.origin_id):null}getInputOrProperty(t){let{inputs:i}=this;if(!i?.length)return this.properties?this.properties[t]:null;if(!this.graph)throw new R;for(let n of i)if(t==n.name&&n.link!=null){let o=this.graph._links.get(n.link);if(o)return o.data}return this.properties[t]}getOutputData(t){return!this.outputs||t>=this.outputs.length?null:this.outputs[t]._data}getOutputInfo(t){return!this.outputs||!(t<this.outputs.length)?null:this.outputs[t]}isOutputConnected(t){return this.outputs?t<this.outputs.length&&Number(this.outputs[t].links?.length)>0:!1}isAnyOutputConnected(){let{outputs:t}=this;if(!t)return!1;for(let i of t)if(i.links?.length)return!0;return!1}getOutputNodes(t){let{outputs:i}=this;if(!i||i.length==0||t>=i.length)return null;let{links:n}=i[t];if(!n||n.length==0)return null;if(!this.graph)throw new R;let o=[];for(let s of n){let a=this.graph._links.get(s);if(a){let _=this.graph.getNodeById(a.target_id);_&&o.push(_)}}return o}addOnTriggerInput(){let t=this.findInputSlot("onTrigger");return t==-1?(this.addInput("onTrigger",m.EVENT,{nameLocked:!0}),this.findInputSlot("onTrigger")):t}addOnExecutedOutput(){let t=this.findOutputSlot("onExecuted");return t==-1?(this.addOutput("onExecuted",m.ACTION,{nameLocked:!0}),this.findOutputSlot("onExecuted")):t}onAfterExecuteNode(t,i){let n=this.findOutputSlot("onExecuted");n!=-1&&this.triggerSlot(n,t,null,i)}changeMode(t){switch(t){case te.ON_EVENT:break;case te.ON_TRIGGER:this.addOnTriggerInput(),this.addOnExecutedOutput();break;case te.NEVER:break;case te.ALWAYS:break;case m.ON_REQUEST:break;default:return!1}return this.mode=t,!0}doExecute(t,i){if(i=i||{},this.onExecute){if(i.action_call||(i.action_call=`${this.id}_exec_${Math.floor(Math.random()*9999)}`),!this.graph)throw new R;this.graph.nodes_executing[this.id]=!0,this.onExecute(t,i),this.graph.nodes_executing[this.id]=!1,this.exec_version=this.graph.iteration,i?.action_call&&(this.action_call=i.action_call,this.graph.nodes_executedAction[this.id]=i.action_call)}this.execute_triggered=2,this.onAfterExecuteNode?.(t,i)}actionDo(t,i,n){if(n=n||{},this.onAction){if(n.action_call||(n.action_call=`${this.id}_${t||"action"}_${Math.floor(Math.random()*9999)}`),!this.graph)throw new R;this.graph.nodes_actioning[this.id]=t||"actioning",this.onAction(t,i,n),this.graph.nodes_actioning[this.id]=!1,n?.action_call&&(this.action_call=n.action_call,this.graph.nodes_executedAction[this.id]=n.action_call)}this.action_triggered=2,this.onAfterExecuteNode?.(i,n)}trigger(t,i,n){let{outputs:o}=this;if(!(!o||!o.length)){this.graph&&(this.graph._last_trigger_time=m.getTime());for(let[s,a]of o.entries())!a||a.type!==m.EVENT||t&&a.name!=t||this.triggerSlot(s,i,null,n)}}triggerSlot(t,i,n,o){if(o=o||{},!this.outputs)return;if(t==null){console.error("slot must be a number");return}typeof t!="number"&&console.warn("slot must be a number, use node.trigger('name') if you want to use a string");let s=this.outputs[t];if(!s)return;let a=s.links;if(!(!a||!a.length)){if(!this.graph)throw new R;this.graph._last_trigger_time=m.getTime();for(let _ of a){if(n!=null&&n!=_)continue;let l=this.graph._links.get(_);if(!l)continue;l._last_time=m.getTime();let d=this.graph.getNodeById(l.target_id);if(d){if(d.mode===te.ON_TRIGGER)o.action_call||(o.action_call=`${this.id}_trigg_${Math.floor(Math.random()*9999)}`),d.doExecute?.(i,o);else if(d.onAction){o.action_call||(o.action_call=`${this.id}_act_${Math.floor(Math.random()*9999)}`);let u=d.inputs[l.target_slot];d.actionDo(u.name,i,o)}}}}}clearTriggeredSlot(t,i){if(!this.outputs)return;let n=this.outputs[t];if(!n)return;let o=n.links;if(!(!o||!o.length)){if(!this.graph)throw new R;for(let s of o){if(i!=null&&i!=s)continue;let a=this.graph._links.get(s);a&&(a._last_time=0)}}}setSize(t){this.size=t,this.onResize?.(this.size)}expandToFitContent(){let t=this.computeSize();this.setSize([Math.max(this.size[0],t[0]),Math.max(this.size[1],t[1])])}addProperty(t,i,n,o){let s={name:t,type:n,default_value:i};return o&&Object.assign(s,o),this.properties_info||(this.properties_info=[]),this.properties_info.push(s),this.properties||(this.properties={}),this.properties[t]=i,s}addOutput(t,i,n){let o=Object.assign(new St({name:t,type:i,links:null},this),n);return this.outputs||(this.outputs=[]),this.outputs.push(o),this.onOutputAdded?.(o),m.auto_load_slot_types&&m.registerNodeAndSlotType(this,i,!0),this.expandToFitContent(),this.setDirtyCanvas(!0,!0),o}removeOutput(t){this.disconnectOutput(t);let{outputs:i}=this;i.splice(t,1);for(let n=t;n<i.length;++n){let o=i[n];if(!(!o||!o.links))for(let s of o.links){if(!this.graph)throw new R;let a=this.graph._links.get(s);a&&a.origin_slot--}}this.onOutputRemoved?.(t),this.setDirtyCanvas(!0,!0)}addInput(t,i,n){i||(i=0);let o=Object.assign(new $e({name:t,type:i,link:null},this),n);return this.inputs||(this.inputs=[]),this.inputs.push(o),this.expandToFitContent(),this.onInputAdded?.(o),m.registerNodeAndSlotType(this,i),this.setDirtyCanvas(!0,!0),o}removeInput(t){this.disconnectInput(t,!0);let{inputs:i}=this,n=i.splice(t,1);for(let o=t;o<i.length;++o){let s=i[o];if(!s?.link)continue;if(!this.graph)throw new R;let a=this.graph._links.get(s.link);a&&a.target_slot--}this.onInputRemoved?.(t,n[0]),this.setDirtyCanvas(!0,!0)}computeSize(t){let i=this.constructor.size;if(i)return[i[0],i[1]];let{inputs:n,outputs:o,widgets:s}=this,a=Math.max(n?n.filter(S=>!nt(S)).length:1,o?o.length:1),_=t||new Float32Array([0,0]);a=Math.max(a,1);let l=m.NODE_TEXT_SIZE,d=m.NODE_TITLE_HEIGHT,u=d*.33,p=d+N(this.title,this.titleFontStyle)+u,f=0,h=0,g=0;if(n)for(let S of n){let j=S.label||S.localized_name||S.name||"",I=N(j,this.innerFontStyle);if(nt(S)){let q=this.getWidgetFromSlot(S);if(q&&!this.isWidgetVisible(q))continue;I>h&&(h=I)}else I>f&&(f=I)}if(o)for(let S of o){let j=S.label||S.localized_name||S.name||"",I=N(j,this.innerFontStyle);g<I&&(g=I)}let k=m.NODE_WIDTH*(s?.length?1.5:1),b=f&&g?5:0,y=f+g+2*m.NODE_SLOT_HEIGHT+b,E=J.margin+J.arrowMargin+J.arrowWidth,A=J.minValueWidth+2*E;h&&(h+=A),_[0]=Math.max(y,h,p,k),_[1]=(this.constructor.slot_start_y||0)+a*m.NODE_SLOT_HEIGHT;let L=0;if(s?.length){for(let S of s){if(!this.isWidgetVisible(S))continue;let j=0;if(S.computeSize)j+=S.computeSize(_[0])[1];else if(S.computeLayoutSize){let{minHeight:I,minWidth:q}=S.computeLayoutSize(this),D=q+A;D>_[0]&&(_[0]=D),j+=I}else j+=m.NODE_WIDGET_HEIGHT;L+=j+4}L+=8}this.widgets_up?_[1]=Math.max(_[1],L):this.widgets_start_y!=null?_[1]=Math.max(_[1],L+this.widgets_start_y):_[1]+=L;function N(S,j){return ee._measureText?.(S,j)??l*(S?.length??0)*.6}return this.constructor.min_height&&_[1]<this.constructor.min_height&&(_[1]=this.constructor.min_height),_[1]+=6,_}inResizeCorner(t,i){let n=this.outputs?this.outputs.length:1,o=(this.constructor.slot_start_y||0)+n*m.NODE_SLOT_HEIGHT;return Y(t,i,this.pos[0]+this.size[0]-15,this.pos[1]+Math.max(this.size[1]-15,o),20,20)}findResizeDirection(t,i){if(this.resizable===!1)return;let{boundingRect:n}=this;if(n.containsXy(t,i))return n.findContainingCorner(t,i,ce.resizeHandleSize)}getPropertyInfo(t){let i=null,{properties_info:n}=this;if(n){for(let o of n)if(o.name==t){i=o;break}}return this.constructor[`@${t}`]&&(i=this.constructor[`@${t}`]),this.constructor.widgets_info?.[t]&&(i=this.constructor.widgets_info[t]),!i&&this.onGetPropertyInfo&&(i=this.onGetPropertyInfo(t)),i||(i={}),i.type||(i.type=typeof this.properties[t]),i.widget=="combo"&&(i.type="enum"),i}addWidget(t,i,n,o,s){this.widgets||(this.widgets=[]),!s&&o&&typeof o=="object"&&(s=o,o=null),s||(s={}),typeof s=="string"&&(s={property:s}),o&&typeof o=="string"&&(s.property=o,o=null);let a={type:t.toLowerCase(),name:i,value:n,callback:typeof o!="function"?void 0:o,options:s,y:0};if(a.options.y!==void 0&&(a.y=a.options.y),!o&&!a.options.callback&&!a.options.property&&console.warn("LiteGraph addWidget(...) without a callback or property assigned"),t=="combo"&&!a.options.values)throw"LiteGraph addWidget('combo',...) requires to pass values in options: { values:['red','blue'] }";let _=this.addCustomWidget(a);return this.expandToFitContent(),_}addCustomWidget(t){this.widgets||(this.widgets=[]);let i=Ki(t,this,!1)??t;return this.widgets.push(i),i}removeWidgetByName(t){let i=this.widgets?.find(n=>n.name===t);i&&this.removeWidget(i)}removeWidget(t){if(!this.widgets)throw new Error("removeWidget called on node without widgets");let i=this.widgets.indexOf(t);if(i===-1)throw new Error("Widget not found on this node");if(this.inputs)for(let n of this.inputs)n._widget===t&&(n._widget=void 0,delete n.widget);this.widgets.splice(i,1)}ensureWidgetRemoved(t){try{this.removeWidget(t)}catch(i){console.debug("Failed to remove widget",i)}}move(t,i){this.pinned||(this.pos[0]+=t,this.pos[1]+=i)}measure(t,i){let n=this.title_mode,s=n!=me.TRANSPARENT_TITLE&&n!=me.NO_TITLE?m.NODE_TITLE_HEIGHT:0;t[0]=this.pos[0],t[1]=this.pos[1]+-s,this.flags?.collapsed?(i.font=this.innerFontStyle,this._collapsed_width=Math.min(this.size[0],i.measureText(this.getTitle()??"").width+m.NODE_TITLE_HEIGHT*2),t[2]=this._collapsed_width||m.NODE_COLLAPSED_WIDTH,t[3]=m.NODE_TITLE_HEIGHT):(t[2]=this.size[0],t[3]=this.size[1]+s)}getBounding(t,i){t||(t=new Float32Array(4));let n=i?this.renderArea:this.boundingRect;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}updateArea(t){let i=w(this,ui);this.measure(i,t),this.onBounding?.(i);let n=w(this,di);n.set(i),n[0]-=4,n[1]-=4,n[2]+=10,n[3]+=9}isPointInside(t,i){return Vi(t,i,this.boundingRect)}isPointInCollapse(t,i){let n=m.NODE_TITLE_HEIGHT;return Y(t,i,this.pos[0],this.pos[1]-n,n,n)}getInputOnPos(t){return gs(this,t[0],t[1])?.input}getOutputOnPos(t){return ms(this,t[0],t[1])?.output}getSlotOnPos(t){if(qt(t,this.boundingRect))return this.getInputOnPos(t)??this.getOutputOnPos(t)}getSlotInPosition(t,i){let{inputs:n,outputs:o}=this;if(n)for(let[s,a]of n.entries()){let _=this.getInputPos(s);if(Y(t,i,_[0]-10,_[1]-10,20,20))return{input:a,slot:s,link_pos:_}}if(o)for(let[s,a]of o.entries()){let _=this.getOutputPos(s);if(Y(t,i,_[0]-10,_[1]-10,20,20))return{output:a,slot:s,link_pos:_}}return null}getWidgetOnPos(t,i,n=!1){let{widgets:o,pos:s,size:a}=this;if(!o?.length)return;let _=t-s[0],l=i-s[1],d=a[0];for(let u of o){if(u.computedDisabled&&!n||!this.isWidgetVisible(u))continue;let p=u.computedHeight??u.computeSize?.(d)[1]??m.NODE_WIDGET_HEIGHT,f=u.width||d;if(u.last_y!==void 0&&Y(_,l,6,u.last_y,f-12,p))return u}}findInputSlot(t,i=!1){let{inputs:n}=this;if(!n)return-1;for(let[o,s]of n.entries())if(t==s.name)return i?s:o;return-1}findOutputSlot(t,i=!1){let{outputs:n}=this;if(!n)return-1;for(let[o,s]of n.entries())if(t==s.name)return i?s:o;return-1}findInputSlotFree(t){return T(this,V,Zn).call(this,this.inputs,t)}findOutputSlotFree(t){return T(this,V,Zn).call(this,this.outputs,t)}findInputSlotByType(t,i,n,o){return T(this,V,Ut).call(this,this.inputs,t,i,n,o)}findOutputSlotByType(t,i,n,o){return T(this,V,Ut).call(this,this.outputs,t,i,n,o)}findSlotByType(t,i,n,o,s){return t?T(this,V,Ut).call(this,this.inputs,i,n,o,s):T(this,V,Ut).call(this,this.outputs,i,n,o,s)}findConnectByTypeSlot(t,i,n,o){o&&typeof o=="object"&&("firstFreeIfInputGeneralInCase"in o&&(o.wildcardToTyped=!!o.firstFreeIfInputGeneralInCase),"firstFreeIfOutputGeneralInCase"in o&&(o.wildcardToTyped=!!o.firstFreeIfOutputGeneralInCase),"generalTypeInCase"in o&&(o.typedToWildcard=!!o.generalTypeInCase));let a=Object.assign({createEventInCase:!0,wildcardToTyped:!0,typedToWildcard:!0},o);if(!this.graph)throw new R;if(i&&typeof i=="number"){let l=this.graph.getNodeById(i);if(!l)return;i=l}let _=i.findSlotByType(t,n,!1,!0);if(_>=0&&_!==null)return _;if(a.createEventInCase&&n==m.EVENT){if(t)return-1;if(m.do_add_triggers_slots)return i.addOnExecutedOutput()}if(a.typedToWildcard){let l=i.findSlotByType(t,0,!1,!0,!0);if(l>=0)return l}if(a.wildcardToTyped&&(n==0||n=="*"||n=="")){let l={typesNotAccepted:[m.EVENT]},d=t?i.findInputSlotFree(l):i.findOutputSlotFree(l);if(d>=0)return d}}findOutputByType(t){return Yi(this.outputs,t,i=>!i.links?.length)}findInputByType(t){return Yi(this.inputs,t,i=>i.link==null)}connectByType(t,i,n,o){let s=this.findConnectByTypeSlot(!0,i,n,o);return s!==void 0?this.connect(t,i,s,o?.afterRerouteId):(console.debug("[connectByType]: no way to connect type:",n,"to node:",i),null)}connectByTypeOutput(t,i,n,o){typeof o=="object"&&("firstFreeIfInputGeneralInCase"in o&&(o.wildcardToTyped=!!o.firstFreeIfInputGeneralInCase),"generalTypeInCase"in o&&(o.typedToWildcard=!!o.generalTypeInCase));let s=this.findConnectByTypeSlot(!1,i,n,o);return s!==void 0?i.connect(s,this,t,o?.afterRerouteId):(console.debug("[connectByType]: no way to connect type:",n,"to node:",i),null)}canConnectTo(t,i,n){return this.id!==t.id&&m.isValidConnection(n.type,i.type)}connect(t,i,n,o){let s,{graph:a,outputs:_}=this;if(!a)return console.log("Connect: Error, node doesn't belong to any graph. Nodes must be added first to a graph before connecting them."),null;if(typeof t=="string"){if(t=this.findOutputSlot(t),t==-1)return m.debug&&console.log(`Connect: Error, no slot of name ${t}`),null}else if(!_||t>=_.length)return m.debug&&console.log("Connect: Error, slot number not found"),null;if(i&&typeof i=="number"){let p=a.getNodeById(i);if(!p)throw"target node is null";i=p}if(!i)throw"target node is null";if(i==this)return null;if(typeof n=="string"){if(s=i.findInputSlot(n),s==-1)return m.debug&&console.log(`Connect: Error, no slot of name ${s}`),null}else if(n===m.EVENT)if(m.do_add_triggers_slots)i.changeMode(te.ON_TRIGGER),s=i.findInputSlot("onTrigger");else return null;else typeof n=="number"?s=n:s=0;if(i.onBeforeConnectInput){let p=i.onBeforeConnectInput(s,n);s=typeof p=="number"?p:null}if(s===null||!i.inputs||s>=i.inputs.length)return m.debug&&console.log("Connect: Error, slot number not found"),null;let l=i.inputs[s],d=_[t];return d?(d.links?.length&&d.type===m.EVENT&&!m.allow_multi_output_for_events&&(a.beforeChange(),this.disconnectOutput(t,!1,{doProcessChange:!1})),this.connectSlots(d,i,l,o)??null):null}connectSlots(t,i,n,o){let{graph:s}=this;if(!s)throw new R;let a=this.outputs.indexOf(t);if(a===-1){console.warn("connectSlots: output not found");return}let _=i.inputs.indexOf(n);if(_===-1){console.warn("connectSlots: input not found");return}if(!m.isValidConnection(t.type,n.type))return this.setDirtyCanvas(!1,!0),null;if(i.onConnectInput?.(_,t.type,t,this,a)===!1||this.onConnectOutput?.(a,n.type,n,i,_)===!1)return null;i.inputs[_]?.link!=null&&(s.beforeChange(),i.disconnectInput(_,!0));let l=new H(++s.state.lastLinkId,n.type||t.type,this.id,a,i.id,_,o);s._links.set(l.id,l),t.links??(t.links=[]),t.links.push(l.id),i.inputs[_].link=l.id;let d=H.getReroutes(s,l);for(let p of d)p.linkIds.add(l.id),p.floating&&delete p.floating,p._dragging=void 0;let u=d.at(-1);if(u)for(let p of u.floatingLinkIds){let f=s.floatingLinks.get(p);f?.parentId===u.id&&s.removeFloatingLink(f)}return s._version++,this.onConnectionsChange?.(re.OUTPUT,a,!0,l,t),i.onConnectionsChange?.(re.INPUT,_,!0,l,n),this.setDirtyCanvas(!1,!0),s.afterChange(),l}connectFloatingReroute(t,i,n){let{graph:o,id:s}=this;if(!o)throw new R;let a=this.inputs.indexOf(i),_=this.outputs.indexOf(i);if(a===-1&&_===-1)throw new Error("Invalid slot");let l=_===-1?"input":"output",d=o.setReroute({pos:t,parentId:n,linkIds:[],floating:{slotType:l}}),u=o.getReroute(n),p=u?.floating?.slotType==="output";if(n==null||!p){let h=new H(-1,i.type,_===-1?-1:s,_,a===-1?-1:s,a);return h.parentId=d.id,o.addFloatingLink(h),d}if(!u)throw new Error("[connectFloatingReroute] Parent reroute not found");let f=u.getFloatingLinks("output")?.[0];if(!f)throw new Error("[connectFloatingReroute] Floating link not found");return d.floatingLinkIds.add(f.id),f.parentId=d.id,delete u.floating,d}disconnectOutput(t,i){if(typeof t=="string"){if(t=this.findOutputSlot(t),t==-1)return m.debug&&console.log(`Connect: Error, no slot of name ${t}`),!1}else if(!this.outputs||t>=this.outputs.length)return m.debug&&console.log("Connect: Error, slot number not found"),!1;let n=this.outputs[t];if(!n)return!1;if(n._floatingLinks)for(let a of n._floatingLinks)a.hasOrigin(this.id,t)&&this.graph?.removeFloatingLink(a);if(!n.links||n.links.length==0)return!1;let{links:o}=n,s=this.graph;if(!s)throw new R;if(i){let a=typeof i=="number"?s.getNodeById(i):i;if(!a)throw"Target Node not found";for(let[_,l]of o.entries()){let d=s._links.get(l);if(d?.target_id!=a.id)continue;o.splice(_,1);let u=a.inputs[d.target_slot];u.link=null,d.disconnect(s,"input"),s._version++,a.onConnectionsChange?.(re.INPUT,d.target_slot,!1,d,u),this.onConnectionsChange?.(re.OUTPUT,t,!1,d,n);break}}else{for(let a of o){let _=s._links.get(a);if(!_)continue;let l=s.getNodeById(_.target_id);if(s._version++,l){let d=l.inputs[_.target_slot];d.link=null,l.onConnectionsChange?.(re.INPUT,_.target_slot,!1,_,d)}_.disconnect(s,"input"),this.onConnectionsChange?.(re.OUTPUT,t,!1,_,n)}n.links=null}return this.setDirtyCanvas(!1,!0),!0}disconnectInput(t,i){if(typeof t=="string"){if(t=this.findInputSlot(t),t==-1)return m.debug&&console.log(`Connect: Error, no slot of name ${t}`),!1}else if(!this.inputs||t>=this.inputs.length)return m.debug&&console.log("Connect: Error, slot number not found"),!1;let n=this.inputs[t];if(!n)return console.debug("disconnectInput: input not found",t,this.inputs),!1;let{graph:o}=this;if(!o)throw new R;if(n._floatingLinks?.size)for(let a of n._floatingLinks)o.removeFloatingLink(a);let s=this.inputs[t].link;if(s!=null){this.inputs[t].link=null;let a=o._links.get(s);if(a){if(a.origin_id===-10&&"inputNode"in o)return o.inputNode._disconnectNodeInput(this,n,a),!0;let _=o.getNodeById(a.origin_id);if(!_)return console.debug("disconnectInput: target node not found",a.origin_id),!1;let l=_.outputs[a.origin_slot];if(!l?.links?.length)return console.debug("disconnectInput: output not found",a.origin_slot),!1;let d=0;for(let u=l.links.length;d<u;d++)if(l.links[d]==s){l.links.splice(d,1);break}a.disconnect(o,i?"output":void 0),o&&o._version++,this.onConnectionsChange?.(re.INPUT,t,!1,a,n),_.onConnectionsChange?.(re.OUTPUT,d,!1,a,l)}}return this.setDirtyCanvas(!1,!0),!0}getConnectionPos(t,i,n){n||(n=new Float32Array(2));let{pos:[o,s],inputs:a,outputs:_}=this;if(this.flags.collapsed){let f=this._collapsed_width||m.NODE_COLLAPSED_WIDTH;return n[0]=t?o:o+f,n[1]=s-m.NODE_TITLE_HEIGHT*.5,n}if(t&&i==-1)return n[0]=o+m.NODE_TITLE_HEIGHT*.5,n[1]=s+m.NODE_TITLE_HEIGHT*.5,n;let l=a?.[i]?.pos,d=_?.[i]?.pos;if(t&&l)return n[0]=o+l[0],n[1]=s+l[1],n;if(!t&&d)return n[0]=o+d[0],n[1]=s+d[1],n;let u=m.NODE_SLOT_HEIGHT*.5,p=t?w(this,V,eo).indexOf(this.inputs[i]):w(this,V,to).indexOf(this.outputs[i]);return n[0]=t?o+u:o+this.size[0]+1-u,n[1]=s+(p+.7)*m.NODE_SLOT_HEIGHT+(this.constructor.slot_start_y||0),n}getInputPos(t){return this.getInputSlotPos(this.inputs[t])}getInputSlotPos(t){let{pos:[i,n]}=this;if(this.flags.collapsed){let d=m.NODE_TITLE_HEIGHT*.5;return[i,n-d]}let{pos:o}=t;if(o)return[i+o[0],n+o[1]];let s=m.NODE_SLOT_HEIGHT*.5,a=this.constructor.slot_start_y||0,l=(w(this,V,eo).indexOf(t)+.7)*m.NODE_SLOT_HEIGHT;return[i+s,n+l+a]}getOutputPos(t){let{pos:[i,n],outputs:o,size:[s]}=this;if(this.flags.collapsed){let p=this._collapsed_width||m.NODE_COLLAPSED_WIDTH,f=m.NODE_TITLE_HEIGHT*.5;return[i+p,n-f]}let a=o?.[t]?.pos;if(a)return[i+a[0],n+a[1]];let _=m.NODE_SLOT_HEIGHT*.5,l=this.constructor.slot_start_y||0,u=(w(this,V,to).indexOf(this.outputs[t])+.7)*m.NODE_SLOT_HEIGHT;return[i+s+1-_,n+u+l]}snapToGrid(t){return this.pinned?!1:lt(this.pos,t)}alignToGrid(){this.snapToGrid(m.CANVAS_GRID_SIZE)}trace(t){this.console||(this.console=[]),this.console.push(t),this.console.length>ce.MAX_CONSOLE&&this.console.shift()}setDirtyCanvas(t,i){this.graph?.canvasAction(n=>n.setDirty(t,i))}loadImage(t){let i=new Image;i.src=m.node_images_path+t,i.ready=!1;let n=()=>this.setDirtyCanvas(!0);return i.addEventListener("load",function(){this.ready=!0,n()}),i}captureInput(t){if(ys("[DEPRECATED] captureInput will be removed in a future version. Please use LGraphCanvas.pointer (CanvasPointer) instead."),!this.graph||!this.graph.list_of_graphcanvas)return;let i=this.graph.list_of_graphcanvas;for(let n of i)!t&&n.node_capturing_input!=this||(n.node_capturing_input=t?this:null)}get collapsed(){return!!this.flags.collapsed}get collapsible(){return!this.pinned&&this.constructor.collapsable!==!1}collapse(t){if(!(!this.collapsible&&!t)){if(!this.graph)throw new R;this.graph._version++,this.flags.collapsed=!this.flags.collapsed,this.setDirtyCanvas(!0,!0)}}toggleAdvanced(){if(this.widgets?.some(t=>t.advanced)){if(!this.graph)throw new R;this.graph._version++,this.showAdvanced=!this.showAdvanced,this.expandToFitContent(),this.setDirtyCanvas(!0,!0)}}get pinned(){return!!this.flags.pinned}pin(t){if(!this.graph)throw new R;this.graph._version++,this.flags.pinned=t??!this.flags.pinned,this.resizable=!this.pinned,this.pinned||delete this.flags.pinned}unpin(){this.pin(!1)}localToScreen(t,i,n){return[(t+this.pos[0])*n.scale+n.offset[0],(i+this.pos[1])*n.scale+n.offset[1]]}get width(){return this.collapsed?this._collapsed_width||m.NODE_COLLAPSED_WIDTH:this.size[0]}get height(){return m.NODE_TITLE_HEIGHT+this.bodyHeight}get bodyHeight(){return this.collapsed?0:this.size[1]}drawBadges(t,{gap:i=2}={}){let n=this.badges.map(_=>_ instanceof Hi?_:_()),s=this.badgePosition===zn.TopLeft?0:this.width-n.reduce((_,l)=>_+l.getWidth(t)+i,0),a=-(m.NODE_TITLE_HEIGHT+i);for(let _ of n)_.draw(t,s,a-_.height),s+=_.getWidth(t)+i}drawTitleBarBackground(t,{scale:i,title_height:n=m.NODE_TITLE_HEIGHT,low_quality:o=!1}){let s=this.renderingColor,a=this.renderingShape,_=this.renderingSize;if(this.onDrawTitleBar){this.onDrawTitleBar(t,n,_,i,s);return}this.title_mode!==me.TRANSPARENT_TITLE&&(this.collapsed&&(t.shadowColor=m.DEFAULT_SHADOW_COLOR),t.fillStyle=this.constructor.title_color||s,t.beginPath(),a==W.BOX||o?t.rect(0,-n,_[0],n):(a==W.ROUND||a==W.CARD)&&t.roundRect(0,-n,_[0],n,this.collapsed?[m.ROUND_RADIUS]:[m.ROUND_RADIUS,m.ROUND_RADIUS,0,0]),t.fill(),t.shadowColor="transparent")}drawTitleBox(t,{scale:i,low_quality:n=!1,title_height:o=m.NODE_TITLE_HEIGHT,box_size:s=10}){let a=this.renderingSize,_=this.renderingShape;if(this.onDrawTitleBox){this.onDrawTitleBox(t,o,a,i);return}[W.ROUND,W.CIRCLE,W.CARD].includes(_)?(n&&(t.fillStyle="black",t.beginPath(),t.arc(o*.5,o*-.5,s*.5+1,0,Math.PI*2),t.fill()),t.fillStyle=this.renderingBoxColor,n?t.fillRect(o*.5-s*.5,o*-.5-s*.5,s,s):(t.beginPath(),t.arc(o*.5,o*-.5,s*.5,0,Math.PI*2),t.fill())):(n&&(t.fillStyle="black",t.fillRect((o-s)*.5-1,(o+s)*-.5-1,s+2,s+2)),t.fillStyle=this.renderingBoxColor,t.fillRect((o-s)*.5,(o+s)*-.5,s,s))}drawTitleText(t,{scale:i,default_title_color:n,low_quality:o=!1,title_height:s=m.NODE_TITLE_HEIGHT}){let a=this.renderingSize,_=this.selected;if(this.onDrawTitleText){this.onDrawTitleText(t,s,a,i,this.titleFontStyle,_);return}if(o)return;t.font=this.titleFontStyle;let l=this.getTitle()??`\u274C ${this.type}`,d=String(l)+(this.pinned?"\u{1F4CC}":"");d&&(_?t.fillStyle=m.NODE_SELECTED_TITLE_COLOR:t.fillStyle=this.constructor.title_text_color||n,this.collapsed?(t.textAlign="left",t.fillText(d.substr(0,20),s,m.NODE_TITLE_TEXT_Y-s),t.textAlign="left"):(t.textAlign="left",t.fillText(d,s,m.NODE_TITLE_TEXT_Y-s)))}connectInputToOutput(){let{inputs:t,outputs:i,graph:n}=this;if(!t||!i)return;if(!n)throw new R;let{_links:o}=n,s=!1;for(let[_,l]of t.entries()){if(l.link==null)continue;let d=i[_];if(!d||!m.isValidConnection(l.type,d.type))continue;let u=o.get(l.link);if(!u)continue;let p=n.getNodeById(u?.origin_id);p&&a(d,p,u,n)}if(!(this.flags.keepAllLinksOnBypass??ce.keepAllLinksOnBypass))return s;for(let _ of t){if(_.link==null)continue;let l=o.get(_.link);if(!l)continue;let d=n.getNodeById(l?.origin_id);if(d){for(let u of i)if(m.isValidConnection(_.type,u.type)){a(u,d,l,n);break}}}return s;function a(_,l,d,u){let p=_.links?.map(f=>o.get(f)).filter(f=>!!f);if(p?.length)for(let f of p){let h=u.getNodeById(f.target_id);if(!h)continue;let g=l.connect(d.origin_slot,h,f.target_slot,d.parentId);s||(s=!!g)}}}isWidgetVisible(t){return!(this.collapsed||t.hidden||t.advanced&&!this.showAdvanced)}drawWidgets(t,{lowQuality:i=!1,editorAlpha:n=1}){if(!this.widgets)return;let o=this.size[0],{widgets:s}=this,a=m.NODE_WIDGET_HEIGHT,_=!i;t.save(),t.globalAlpha=n;for(let l of s){if(!this.isWidgetVisible(l))continue;let{y:d}=l,u=l.advanced?m.WIDGET_ADVANCED_OUTLINE_COLOR:m.WIDGET_OUTLINE_COLOR;l.last_y=d,l.computedDisabled=l.disabled||this.getSlotFromWidget(l)?.link!=null,t.strokeStyle=u,t.fillStyle="#222",t.textAlign="left",l.computedDisabled&&(t.globalAlpha*=.5);let p=l.width||o;typeof l.draw=="function"?l.draw(t,this,p,d,a,i):Ki(l,this,!1)?.drawWidget(t,{width:p,showText:_}),t.globalAlpha=n}t.restore()}drawCollapsedSlots(t){for(let i of w(this,Ve))if(i.link!=null){i.drawCollapsed(t);break}for(let i of w(this,ct))if(i.links?.length){i.drawCollapsed(t);break}}get slots(){return[...this.inputs,...this.outputs]}getSlotFromWidget(t){if(t)return this.inputs.find(i=>nt(i)&&i.widget.name===t.name)}getWidgetFromSlot(t){if(nt(t))return this.widgets?.find(i=>i.name===t.widget.name)}drawSlots(t,{fromSlot:i,colorContext:n,editorAlpha:o,lowQuality:s}){for(let a of[...w(this,Ve),...w(this,ct)]){let _=i&&a.isValidTarget(i),l=T(this,V,Cs).call(this,a),d=!i||_,u=d&&l;(l||_||!a.isWidgetInputSlot||T(this,V,Es).call(this,this.getWidgetFromSlot(a))||a.isConnected)&&(t.globalAlpha=d?o:.4*o,a.draw(t,{colorContext:n,lowQuality:s,highlight:u}))}}_setConcreteSlots(){B(this,Ve,this.inputs.map(t=>ke($e,t,this))),B(this,ct,this.outputs.map(t=>ke(St,t,this)))}arrange(){let t=T(this,V,Ts).call(this),i=t?t[1]+t[3]-this.pos[1]:0;T(this,V,Ns).call(this,i),T(this,V,Ds).call(this)}drawProgressBar(t){if(!this.progress)return;let i=t.fillStyle;t.fillStyle="green",t.fillRect(0,0,this.width*this.progress,6),t.fillStyle=i}};Ve=new WeakMap,ct=new WeakMap,di=new WeakMap,ui=new WeakMap,V=new WeakSet,ws=function(){if(this.has_errors)return{padding:12,lineWidth:10,color:m.NODE_ERROR_COLOUR}},Ss=function(){if(this.selected)return{padding:this.has_errors?20:void 0}},Zn=function(t,i){let o=Object.assign({returnObj:!1,typesNotAccepted:[]},i||{}),s=t?.length;if(!(s>0))return-1;for(let a=0;a<s;++a){let _=t[a];if(!(!_||_.link||_.links?.length)&&!o.typesNotAccepted?.includes?.(_.type))return o.returnObj?_:a}return-1},Ut=function(t,i,n,o,s){let a=t?.length;if(!a)return-1;(i==""||i=="*")&&(i=0);let _=String(i).toLowerCase().split(","),l=null;for(let d=0;d<a;++d){let u=t[d],p=u.type=="0"||u.type=="*"?["0"]:String(u.type).toLowerCase().split(",");for(let f of _){let h=f=="_event_"?m.EVENT:f;for(let g of p){let k=g=="_event_"?m.EVENT:g;if(h==k||h==="*"||k==="*"){if(o&&(u.links?.length||u.link!=null)){l??(l=n?u:d);continue}return n?u:d}}}}return s?-1:l??-1},eo=function(){return this.inputs.filter(t=>!t.pos&&!(this.widgets?.length&&nt(t)))},to=function(){return this.outputs.filter(t=>!t.pos)},Wi=function(t,i,n){let o=n?this.getInputPos(i):this.getOutputPos(i);t.boundingRect[0]=o[0]-m.NODE_SLOT_HEIGHT*.5,t.boundingRect[1]=o[1]-m.NODE_SLOT_HEIGHT*.5,t.boundingRect[2]=t.isWidgetInputSlot?J.margin:m.NODE_SLOT_HEIGHT,t.boundingRect[3]=m.NODE_SLOT_HEIGHT},Ts=function(){let t=[];for(let[i,n]of w(this,Ve).entries())this.widgets?.length&&nt(n)||(T(this,V,Wi).call(this,n,i,!0),t.push(n));for(let[i,n]of w(this,ct).entries())T(this,V,Wi).call(this,n,i,!1),t.push(n);return t.length?yn(t,0):null},Is=function(t){let i=ur(t),n=this.mouseOver?.[i?"inputId":"outputId"]??-1;return n===-1?null:i?this.inputs[n]:this.outputs[n]},Cs=function(t){return T(this,V,Is).call(this,t)===t},Es=function(t){return t?this.mouseOver?.overWidget===t:!1},Ns=function(t){if(!this.widgets||!this.widgets.length)return;let i=this.bodyHeight,n=this.widgets_start_y??(this.widgets_up?0:t)+2,o=i-n,s=0,a=[];for(let u of this.widgets)if(u.computeSize){let p=u.computeSize()[1]+4;u.computedHeight=p,s+=p}else if(u.computeLayoutSize){let{minHeight:p,maxHeight:f}=u.computeLayoutSize(this);a.push({minHeight:p,prefHeight:f,w:u})}else{let p=m.NODE_WIDGET_HEIGHT+4;u.computedHeight=p,s+=p}o-=s,this.freeWidgetSpace=o;let _=a.map(u=>({minSize:u.minHeight,maxSize:u.prefHeight})),l=fr(Math.max(0,o),_);for(let[u,p]of a.entries())p.w.computedHeight=l[u];let d=n;for(let u of this.widgets)u.y=d,d+=u.computedHeight??0;if(!this.graph)throw new R;d>i&&(this.setSize([this.size[0],d]),this.graph.setDirtyCanvas(!1,!0))},Ds=function(){if(!this.widgets)return;let t=new Map;for(let[i,n]of this.inputs.entries())nt(n)&&t.set(n.widget.name,{...n,index:i});if(t.size)for(let i of this.widgets){let n=t.get(i.name);if(!n)continue;let o=w(this,Ve)[n.index],s=m.NODE_SLOT_HEIGHT*.5;o.pos=[s,i.y+s],T(this,V,Wi).call(this,o,n.index,!0)}},c(ce,"title"),c(ce,"MAX_CONSOLE"),c(ce,"type"),c(ce,"category"),c(ce,"filter"),c(ce,"skip_list"),c(ce,"resizeHandleSize",15),c(ce,"resizeEdgeSize",5),c(ce,"keepAllLinksOnBypass",!1);var oe=ce;function io(r){return r==null?"":String(r)}function us(r){return r==""||r=="0"?["*"]:String(r).toLowerCase().split(",")}function Rt(r,t=[]){let i=1,n=r;for(;t.includes(r);)r=`${n}_${i++}`;return r}function Ls(r){let t=new Set;if(r)for(let n of r)i(n,t);return t;function i(n,o){if(!(o.has(n)||n.pinned)&&(o.add(n),n.children))for(let s of n.children)i(s,o)}}function hr(r){for(let t of r)if(t instanceof oe)return t}function Yi(r,t,i){if(!r?.length)return;let n,o,s,a=us(t);for(let[_,l]of r.entries()){let d=us(l.type);for(let u of a)for(let p of d)if(p===u){if(i(l))return{index:_,slot:l};n??(n={index:_,slot:l})}else!o&&(u==="*"||p==="*")&&(i(l)?o={index:_,slot:l}:s??(s={index:_,slot:l}))}return o??n??s}function gr(r,t){let i=r.indexOf(t),n=i!==-1;return n&&r.splice(i,1),n}var Tt,It,pi,fi,ln=class ln{constructor(t,i){P(this,Tt,0);P(this,It,0);P(this,pi,0);P(this,fi,0);c(this,"minWidth",0);c(this,"minHeight",0);c(this,"maxWidth",1/0);c(this,"maxHeight",1/0);this.desiredWidth=t,this.desiredHeight=i}get width(){return w(this,Tt)}get height(){return w(this,It)}get desiredWidth(){return w(this,pi)}set desiredWidth(t){B(this,pi,t),B(this,Tt,Ee(t,this.minWidth,this.maxWidth))}get desiredHeight(){return w(this,fi)}set desiredHeight(t){B(this,fi,t),B(this,It,Ee(t,this.minHeight,this.maxHeight))}static fromSize(t){return new ln(t[0],t[1])}static fromRect(t){return new ln(t[2],t[3])}setSize(t){this.desiredWidth=t[0],this.desiredHeight=t[1]}setValues(t,i){this.desiredWidth=t,this.desiredHeight=i}toSize(){return[w(this,Tt),w(this,It)]}};Tt=new WeakMap,It=new WeakMap,pi=new WeakMap,fi=new WeakMap;var no=ln,Ct,yt=class yt extends Ui{constructor(i,n){super(i.name,i.type);P(this,Ct,new Float32Array(2));c(this,"measurement",new no(yt.defaultHeight,yt.defaultHeight));c(this,"id");c(this,"parent");c(this,"type");c(this,"linkIds",[]);c(this,"boundingRect",new fe(0,0,0,yt.defaultHeight));c(this,"isPointerOver",!1);Object.assign(this,i),this.id=i.id??Pe(),this.type=i.type,this.parent=n}static get defaultHeight(){return m.NODE_SLOT_HEIGHT}get pos(){return w(this,Ct)}set pos(i){!i||i.length<2||(w(this,Ct)[0]=i[0],w(this,Ct)[1]=i[1])}get isConnected(){return this.linkIds.length>0}get displayName(){return this.label??this.localized_name??this.name}containsPoint(i){return this.boundingRect.containsPoint(i)}onPointerMove(i){this.isPointerOver=this.boundingRect.containsXy(i.canvasX,i.canvasY)}getLinks(){let i=[],{subgraph:n}=this.parent;for(let o of this.linkIds){let s=n.getLink(o);s&&i.push(s)}return i}decrementSlots(i){let{links:n}=this.parent.subgraph,o=i==="inputs"?"origin_slot":"target_slot";for(let s of this.linkIds){let a=n.get(s);a?a[o]--:console.warn("decrementSlots: link ID not found",s)}}measure(){let i=ee._measureText?.(this.displayName)??0,{defaultHeight:n}=yt;return this.measurement.setValues(i+n,n),this.measurement.toSize()}disconnect(){let{subgraph:i}=this.parent;for(let n of this.linkIds)i.removeLink(n);this.linkIds.length=0}drawLabel(i){if(!this.displayName)return;let[n,o]=this.labelPos;i.fillStyle=this.isPointerOver?"white":"#AAA",i.fillText(this.displayName,n,o)}draw({ctx:i,colorContext:n,lowQuality:o}){let s=this.shape,{isPointerOver:a,pos:[_,l]}=this;i.beginPath();let d=this.renderingColor(n);if(o)i.fillStyle=d,i.rect(_-4,l-4,8,8),i.fill();else if(s===ze.HollowCircle){i.lineWidth=3,i.strokeStyle=d;let u=a?4:3;i.arc(_,l,u,0,Math.PI*2),i.stroke()}else{i.fillStyle=d;let u=a?5:4;i.arc(_,l,u,0,Math.PI*2),i.fill()}}asSerialisable(){let{id:i,name:n,type:o,linkIds:s,localized_name:a,label:_,dir:l,shape:d,color_off:u,color_on:p,pos:f}=this;return{id:i,name:n,type:o,linkIds:s,localized_name:a,label:_,dir:l,shape:d,color_off:u,color_on:p,pos:f}}};Ct=new WeakMap;var Jt=yt,Et,Ft=class extends Jt{constructor(){super(...arguments);c(this,"events",new Qt);P(this,Et)}get _widget(){return w(this,Et)?.deref()}set _widget(i){B(this,Et,i?new WeakRef(i):void 0)}connect(i,n,o){let{subgraph:s}=this.parent,a=n.inputs.indexOf(i);if(n.onConnectInput?.(a,this.type,this,this.parent,-1)===!1)return;if(i.link!=null){s.beforeChange();let p=s.getLink(i.link);this.parent._disconnectNodeInput(n,i,p)}let _=n.getWidgetFromSlot(i);if(_){if(!this.matchesWidget(_)){console.warn("Target input has invalid widget.",i,n);return}this._widget??(this._widget=_),this.events.dispatch("input-connected",{input:i,widget:_})}let l=new H(++s.state.lastLinkId,i.type,this.parent.id,this.parent.slots.indexOf(this),n.id,a,o);s._links.set(l.id,l),this.linkIds.push(l.id),i.link=l.id;let d=H.getReroutes(s,l);for(let p of d)p.linkIds.add(l.id),p.floating&&delete p.floating,p._dragging=void 0;let u=d.at(-1);if(u)for(let p of u.floatingLinkIds){let f=s.floatingLinks.get(p);f?.parentId===u.id&&s.removeFloatingLink(f)}return s._version++,n.onConnectionsChange?.(re.INPUT,a,!0,l,i),s.afterChange(),l}get labelPos(){let[i,n,,o]=this.boundingRect;return[i,n+o*.5]}getConnectedWidgets(){let{subgraph:i}=this.parent,n=[];for(let o of this.linkIds){let s=i.getLink(o);if(!s){console.error("Link not found",o);continue}let a=s.resolve(i);if(a.input&&a.inputNode?.widgets){let _=a.input.widget;if(!_)continue;if(!_.name){console.warn("Invalid widget name",_);continue}let l=a.inputNode.widgets.find(d=>d.name===_.name);if(!l){console.warn("Widget not found",_);continue}n.push(l)}else console.debug("No input found on link id",o,s)}return n}matchesWidget(i){let n=w(this,Et)?.deref();return n?!(i.type!==n.type||i.options.min!==n.options.min||i.options.max!==n.options.max||i.options.step!==n.options.step||i.options.step2!==n.options.step2||i.options.precision!==n.options.precision):!0}disconnect(){super.disconnect(),this.events.dispatch("input-disconnected",{input:this})}arrange(i){let[n,o,s,a]=i,{boundingRect:_,pos:l}=this;_[0]=n-s,_[1]=o,_[2]=s,_[3]=a,l[0]=n-a*.5,l[1]=o+a*.5}};Et=new WeakMap;var oo=class extends Ft{constructor(t){super({id:Xt,name:"",type:""},t)}connect(t,i,n){let{subgraph:o}=this.parent,s=o.inputs.map(l=>l.name),a=Rt(t.name,s);return o.addInput(a,String(t.type)).connect(t,i,n)}get labelPos(){let[t,i,,n]=this.boundingRect;return[t,i+n*.5]}},hi,Bt,As,Os,wt=class wt{constructor(t){P(this,Bt);P(this,hi,new fe);c(this,"selected",!1);c(this,"pinned",!1);c(this,"removable",!1);c(this,"isPointerOver",!1);this.subgraph=t}get boundingRect(){return w(this,hi)}get pos(){return this.boundingRect.pos}set pos(t){this.boundingRect.pos=t}get size(){return this.boundingRect.size}set size(t){this.boundingRect.size=t}get sideLineWidth(){return this.isPointerOver?2.5:2}get sideStrokeStyle(){return this.isPointerOver?"white":"#efefef"}move(t,i){this.pos[0]+=t,this.pos[1]+=i}snapToGrid(t){return this.pinned?!1:lt(this.pos,t)}containsPoint(t){return this.boundingRect.containsPoint(t)}onPointerMove(t){let i=this.boundingRect.containsXy(t.canvasX,t.canvasY),n=i?ae.SubgraphIoNode:ae.Nothing;if(i){this.isPointerOver||this.onPointerEnter();for(let o of this.allSlots)o.onPointerMove(t),o.isPointerOver&&(n|=ae.SubgraphIoSlot)}else this.isPointerOver&&this.onPointerLeave();return n}onPointerEnter(){this.isPointerOver=!0}onPointerLeave(){this.isPointerOver=!1;for(let t of this.slots)t.isPointerOver=!1}getSlotInPosition(t,i){for(let n of this.allSlots)if(n.boundingRect.containsXy(t,i))return n}showSlotContextMenu(t,i){let n=T(this,Bt,As).call(this,t);n.length>0&&new m.ContextMenu(n,{event:i,title:t.name||"Subgraph Output",callback:o=>{T(this,Bt,Os).call(this,o,t,i)}})}arrange(){let{minWidth:t,roundedRadius:i}=wt,[,n]=this.boundingRect,o=this.slotAnchorX,{size:s}=this,a=t,_=n+i;for(let l of this.allSlots){let[d,u]=l.measure();l.arrange([o,_,d,u]),_+=u,d>a&&(a=d)}s[0]=a+2*i,s[1]=_-n+i}draw(t,i){let{lineWidth:n,strokeStyle:o,fillStyle:s,font:a,textBaseline:_}=t;this.drawProtected(t,i),Object.assign(t,{lineWidth:n,strokeStyle:o,fillStyle:s,font:a,textBaseline:_})}drawSlots(t,i){t.fillStyle="#AAA",t.font="12px Arial",t.textBaseline="middle";for(let n of this.allSlots)n.draw({ctx:t,colorContext:i}),n.drawLabel(t)}configure(t){w(this,hi).set(t.bounding),this.pinned=t.pinned??!1}asSerialisable(){return{id:this.id,bounding:this.boundingRect.export(),pinned:this.pinned?!0:void 0}}};hi=new WeakMap,Bt=new WeakSet,As=function(t){let i=[];return t!==this.emptySlot&&t.linkIds.length>0&&i.push({content:"Disconnect Links",value:"disconnect"}),t!==this.emptySlot&&i.push({content:"Remove Slot",value:"remove"},{content:"Rename Slot",value:"rename"}),i},Os=function(t,i,n){switch(t.value){case"disconnect":i.disconnect();break;case"remove":i!==this.emptySlot&&this.removeSlot(i);break;case"rename":i!==this.emptySlot&&this.subgraph.canvasAction(o=>o.prompt("Slot name",i.name,s=>{s&&this.renameSlot(i,s)},n));break}this.subgraph.setDirtyCanvas(!0)},c(wt,"margin",10),c(wt,"minWidth",100),c(wt,"roundedRadius",10);var Se=wt,Zt=class extends Se{constructor(){super(...arguments);c(this,"id",je);c(this,"emptySlot",new oo(this))}get slots(){return this.subgraph.inputs}get allSlots(){return[...this.slots,this.emptySlot]}get slotAnchorX(){let[i,,n]=this.boundingRect;return i+n-Se.roundedRadius}onPointerDown(i,n,o){if(i.button===0)for(let s of this.allSlots)fe.fromCentre(s.pos,s.boundingRect.height).containsXy(i.canvasX,i.canvasY)&&(n.onDragStart=()=>{o.dragNewFromSubgraphInput(this.subgraph,this,s)},n.onDragEnd=_=>{o.dropLinks(this.subgraph,_)},n.finally=()=>{o.reset(!0)});else if(i.button===2){let s=this.getSlotInPosition(i.canvasX,i.canvasY);s&&this.showSlotContextMenu(s,i)}}renameSlot(i,n){this.subgraph.renameInput(i,n)}removeSlot(i){this.subgraph.removeInput(i)}canConnectTo(i,n,o){return i.canConnectTo(this,n,o)}connectSlots(i,n,o,s){let{subgraph:a}=this,_=this.slots.indexOf(i),l=n.inputs.indexOf(o);if(_===-1||l===-1)throw new Error("Invalid slot indices.");return new H(++a.state.lastLinkId,o.type||i.type,this.id,_,n.id,l,s)}connectByType(i,n,o,s){let a=n.findInputByType(o);if(a){if(i===-1){let _=this.subgraph.addInput(a.slot.name,String(a.slot.type??"")),l=this.slots.indexOf(_);if(l===-1){console.error("Could not find newly created subgraph input slot.");return}i=l}return this.slots[i].connect(a.slot,n,s?.afterRerouteId)}}findOutputSlot(i){return this.slots.find(n=>n.name===i)}findOutputByType(i){return Yi(this.slots,i,n=>n.linkIds.length>0)?.slot}_disconnectNodeInput(i,n,o){let{subgraph:s}=this;if(n._floatingLinks?.size)for(let d of n._floatingLinks)s.removeFloatingLink(d);if(n.link=null,s.setDirtyCanvas(!1,!0),!o)return;let a=o.origin_slot;o.disconnect(s,"output"),s._version++;let _=this.slots.at(a);if(!_){console.debug("disconnectNodeInput: subgraphInput not found",this,a);return}let l=_.linkIds.indexOf(o.id);l!==-1?_.linkIds.splice(l,1):console.debug("disconnectNodeInput: link ID not found in subgraphInput linkIds",o.id),i.onConnectionsChange?.(re.OUTPUT,l,!1,o,_)}drawProtected(i,n){let{roundedRadius:o}=Se,s=i.getTransform(),[a,_,l,d]=this.boundingRect;i.translate(a,_),i.strokeStyle=this.sideStrokeStyle,i.lineWidth=this.sideLineWidth,i.beginPath(),i.arc(l-o,o,o,Math.PI*1.5,0),i.moveTo(l,o),i.lineTo(l,d-o),i.arc(l-o,d-o,o,0,Math.PI*.5),i.stroke(),i.setTransform(s),this.drawSlots(i,n)}},Mt=class extends Jt{connect(t,i,n){let{subgraph:o}=this.parent,s=i.outputs.indexOf(t);if(s===-1)throw new Error("Slot is not an output of the given node");if(i.onConnectOutput?.(s,this.type,this,this.parent,-1)===!1)return;let a=this.getLinks().at(0);if(a!=null){o.beforeChange(),a.disconnect(o,"input");let p=a.resolve(o).output?.links;p&&gr(p,a.id)}let _=new H(++o.state.lastLinkId,t.type,i.id,s,this.parent.id,this.parent.slots.indexOf(this),n);o._links.set(_.id,_),this.linkIds[0]=_.id,t.links??(t.links=[]),t.links.push(_.id);let l=H.getReroutes(o,_);for(let u of l)u.linkIds.add(_.id),u.floating&&delete u.floating,u._dragging=void 0;let d=l.at(-1);if(d)for(let u of d.floatingLinkIds){let p=o.floatingLinks.get(u);p?.parentId===d.id&&o.removeFloatingLink(p)}return o._version++,i.onConnectionsChange?.(re.OUTPUT,s,!0,_,t),o.afterChange(),_}get labelPos(){let[t,i,,n]=this.boundingRect;return[t+n,i+n*.5]}arrange(t){let[i,n,o,s]=t,{boundingRect:a,pos:_}=this;a[0]=i,a[1]=n,a[2]=o,a[3]=s,_[0]=i+s*.5,_[1]=n+s*.5}},so=class extends Mt{constructor(t){super({id:Xt,name:"",type:""},t)}connect(t,i,n){let{subgraph:o}=this.parent,s=o.outputs.map(l=>l.name),a=Rt(t.name,s);return o.addOutput(a,String(t.type)).connect(t,i,n)}get labelPos(){let[t,i,,n]=this.boundingRect;return[t,i+n*.5]}},ei=class extends Se{constructor(){super(...arguments);c(this,"id",We);c(this,"emptySlot",new so(this))}get slots(){return this.subgraph.outputs}get allSlots(){return[...this.slots,this.emptySlot]}get slotAnchorX(){let[i]=this.boundingRect;return i+Se.roundedRadius}onPointerDown(i,n,o){if(i.button===0)for(let s of this.allSlots)fe.fromCentre(s.pos,s.boundingRect.height).containsXy(i.canvasX,i.canvasY)&&(n.onDragStart=()=>{o.dragNewFromSubgraphOutput(this.subgraph,this,s)},n.onDragEnd=_=>{o.dropLinks(this.subgraph,_)},n.finally=()=>{o.reset(!0)});else if(i.button===2){let s=this.getSlotInPosition(i.canvasX,i.canvasY);s&&this.showSlotContextMenu(s,i)}}renameSlot(i,n){this.subgraph.renameOutput(i,n)}removeSlot(i){this.subgraph.removeOutput(i)}canConnectTo(i,n,o){return i.canConnectTo(this,n,o)}connectByTypeOutput(i,n,o,s){let a=n.findOutputByType(o);if(a)return this.slots[i].connect(a.slot,n,s?.afterRerouteId)}findInputByType(i){return Yi(this.slots,i,n=>n.linkIds.length>0)?.slot}drawProtected(i,n){let{roundedRadius:o}=Se,s=i.getTransform(),[a,_,,l]=this.boundingRect;i.translate(a,_),i.strokeStyle=this.sideStrokeStyle,i.lineWidth=this.sideLineWidth,i.beginPath(),i.arc(o,o,o,Math.PI,Math.PI*1.5),i.moveTo(0,o),i.lineTo(0,l-o),i.arc(o,l-o,o,Math.PI,Math.PI*.5,!0),i.stroke(),i.setTransform(s),this.drawSlots(i,n)}},Qi=class{constructor(t,i,n,o,s=M.CENTER){c(this,"node");c(this,"fromSlot");c(this,"fromPos");c(this,"fromDirection");c(this,"fromSlotIndex");c(this,"outputNodeId",-1);c(this,"outputNode");c(this,"outputSlot");c(this,"outputIndex",-1);c(this,"outputPos");c(this,"inputNodeId",-1);c(this,"inputNode");c(this,"inputSlot");c(this,"inputIndex",-1);c(this,"inputPos");this.network=t,this.link=i,this.toType=n,this.fromReroute=o,this.dragDirection=s;let{origin_id:a,target_id:_,origin_slot:l,target_slot:d}=i;if(a!==-1){let u=t.getNodeById(a)??void 0;if(!u)throw new Error(`Creating DraggingRenderLink for link [${i.id}] failed: Output node [${a}] not found.`);let p=u?.outputs.at(l);if(!p)throw new Error(`Creating DraggingRenderLink for link [${i.id}] failed: Output slot [${l}] not found.`);this.outputNodeId=a,this.outputNode=u,this.outputSlot=p,this.outputIndex=l,this.outputPos=u.getOutputPos(l),this.node=u,this.fromSlot=p,this.fromPos=o?.pos??this.outputPos,this.fromDirection=M.LEFT,this.dragDirection=M.RIGHT,this.fromSlotIndex=l}else{let u=t.getNodeById(_)??void 0;if(!u)throw new Error(`Creating DraggingRenderLink for link [${i.id}] failed: Input node [${_}] not found.`);let p=u?.inputs.at(d);if(!p)throw new Error(`Creating DraggingRenderLink for link [${i.id}] failed: Input slot [${d}] not found.`);this.inputNodeId=_,this.inputNode=u,this.inputSlot=p,this.inputIndex=d,this.inputPos=u.getInputPos(d),this.node=u,this.fromSlot=p,this.fromDirection=M.RIGHT,this.fromSlotIndex=d}this.fromPos=o.pos}canConnectToInput(){return this.toType==="input"}canConnectToOutput(){return this.toType==="output"}canConnectToReroute(t){if(this.toType==="input"){if(t.origin_id===this.inputNode?.id)return!1}else if(t.origin_id===this.outputNode?.id)return!1;return!0}connectToInput(t,i,n){let o=this.link;o.target_id=t.id,o.target_slot=t.inputs.indexOf(i),t.disconnectInput(t.inputs.indexOf(i)),this.fromSlot._floatingLinks?.delete(o),i._floatingLinks??(i._floatingLinks=new Set),i._floatingLinks.add(o)}connectToOutput(t,i,n){let o=this.link;o.origin_id=t.id,o.origin_slot=t.outputs.indexOf(i),this.fromSlot._floatingLinks?.delete(o),i._floatingLinks??(i._floatingLinks=new Set),i._floatingLinks.add(o)}connectToSubgraphInput(t,i){let n=this.link;n.origin_id=je,n.origin_slot=t.parent.slots.indexOf(t),this.fromSlot._floatingLinks?.delete(n),t._floatingLinks??(t._floatingLinks=new Set),t._floatingLinks.add(n)}connectToSubgraphOutput(t,i){let n=this.link;n.origin_id=We,n.origin_slot=t.parent.slots.indexOf(t),this.fromSlot._floatingLinks?.delete(n),t._floatingLinks??(t._floatingLinks=new Set),t._floatingLinks.add(n)}connectToRerouteInput(t,{node:i,input:n},o){let s=this.link;s.target_id=i.id,s.target_slot=i.inputs.indexOf(n),this.fromSlot._floatingLinks?.delete(s),n._floatingLinks??(n._floatingLinks=new Set),n._floatingLinks.add(s),o.dispatch("input-moved",this)}connectToRerouteOutput(t,i,n,o){let s=this.link;s.origin_id=i.id,s.origin_slot=i.outputs.indexOf(n),this.fromSlot._floatingLinks?.delete(s),n._floatingLinks??(n._floatingLinks=new Set),n._floatingLinks.add(s),o.dispatch("output-moved",this)}},jt=class{constructor(t,i,n,o,s=M.CENTER){c(this,"outputNodeId");c(this,"outputNode");c(this,"outputSlot");c(this,"outputIndex");c(this,"outputPos");c(this,"inputNodeId");c(this,"inputNode");c(this,"inputSlot");c(this,"inputIndex");c(this,"inputPos");this.network=t,this.link=i,this.toType=n,this.fromReroute=o,this.dragDirection=s;let{origin_id:a,target_id:_,origin_slot:l,target_slot:d}=i,u=t.getNodeById(a)??void 0;if(!u)throw new Error(`Creating MovingRenderLink for link [${i.id}] failed: Output node [${a}] not found.`);let p=u.outputs.at(l);if(!p)throw new Error(`Creating MovingRenderLink for link [${i.id}] failed: Output slot [${l}] not found.`);this.outputNodeId=a,this.outputNode=u,this.outputSlot=p,this.outputIndex=l,this.outputPos=u.getOutputPos(l);let f=t.getNodeById(_)??void 0;if(!f)throw new Error(`Creating DraggingRenderLink for link [${i.id}] failed: Input node [${_}] not found.`);let h=f.inputs.at(d);if(!h)throw new Error(`Creating DraggingRenderLink for link [${i.id}] failed: Input slot [${d}] not found.`);this.inputNodeId=_,this.inputNode=f,this.inputSlot=h,this.inputIndex=d,this.inputPos=f.getInputPos(d)}},ao=class extends jt{constructor(i,n,o,s=M.CENTER){super(i,n,"input",o,s);c(this,"toType","input");c(this,"node");c(this,"fromSlot");c(this,"fromPos");c(this,"fromDirection");c(this,"fromSlotIndex");this.node=this.outputNode,this.fromSlot=this.outputSlot,this.fromPos=o?.pos??this.outputPos,this.fromDirection=M.NONE,this.fromSlotIndex=this.outputIndex}canConnectToInput(i,n){return this.node.canConnectTo(i,n,this.outputSlot)}canConnectToOutput(){return!1}canConnectToReroute(i){return i.origin_id!==this.inputNode.id}connectToInput(i,n,o){if(n===this.inputSlot)return;this.inputNode.disconnectInput(this.inputIndex,!0);let s=this.outputNode.connectSlots(this.outputSlot,i,n,this.fromReroute?.id);return s&&o.dispatch("input-moved",this),s}connectToOutput(){throw new Error("MovingInputLink cannot connect to an output.")}connectToSubgraphInput(){throw new Error("MovingInputLink cannot connect to a subgraph input.")}connectToSubgraphOutput(i,n){let o=i.connect(this.fromSlot,this.node,this.fromReroute?.id);n?.dispatch("link-created",o)}connectToRerouteInput(i,{node:n,input:o,link:s},a,_){let{outputNode:l,outputSlot:d,fromReroute:u}=this;for(let f of _){if(f.id===this.link.parentId)break;f.totalLinks===1&&f.remove()}i.parentId=u?.id,l.connectSlots(d,n,o,s.parentId)&&a.dispatch("input-moved",this)}connectToRerouteOutput(){throw new Error("MovingInputLink cannot connect to an output.")}disconnect(){return this.inputNode.disconnectInput(this.inputIndex,!0)}},Ji=class extends jt{constructor(i,n,o,s=M.CENTER){super(i,n,"output",o,s);c(this,"toType","output");c(this,"node");c(this,"fromSlot");c(this,"fromPos");c(this,"fromDirection");c(this,"fromSlotIndex");this.node=this.inputNode,this.fromSlot=this.inputSlot,this.fromPos=o?.pos??this.inputPos,this.fromDirection=M.LEFT,this.fromSlotIndex=this.inputIndex}canConnectToInput(){return!1}canConnectToOutput(i,n){return i.canConnectTo(this.node,this.inputSlot,n)}canConnectToReroute(i){return i.origin_id!==this.outputNode.id}connectToInput(){throw new Error("MovingOutputLink cannot connect to an input.")}connectToOutput(i,n,o){if(n===this.outputSlot)return;let s=i.connectSlots(n,this.inputNode,this.inputSlot,this.link.parentId);return s&&o.dispatch("output-moved",this),s}connectToSubgraphInput(i,n){let o=i.connect(this.fromSlot,this.node,this.fromReroute?.id);n?.dispatch("link-created",o)}connectToSubgraphOutput(){throw new Error("MovingOutputLink cannot connect to a subgraph output.")}connectToRerouteInput(){throw new Error("MovingOutputLink cannot connect to an input.")}connectToRerouteOutput(i,n,o,s){let{inputNode:a,inputSlot:_,fromReroute:l}=this,d=i?.floating?.slotType==="output";l?l.parentId=i.id:this.link.parentId=i.id,n.connectSlots(o,a,_,this.link.parentId),d&&i.removeAllFloatingLinks(),s.dispatch("output-moved",this)}disconnect(){return this.outputNode.disconnectOutput(this.outputIndex,this.inputNode)}},Zi=class{constructor(t,i,n,o,s=M.CENTER){c(this,"toType","input");c(this,"fromSlotIndex");c(this,"fromPos");c(this,"fromDirection",M.RIGHT);this.network=t,this.node=i,this.fromSlot=n,this.fromReroute=o,this.dragDirection=s;let a=i.slots.indexOf(n);if(a===-1&&n!==i.emptySlot)throw new Error(`Creating render link for node [${this.node.id}] failed: Slot index not found.`);this.fromSlotIndex=a,this.fromPos=o?o.pos:n.pos}canConnectToInput(t,i){return this.node.canConnectTo(t,i,this.fromSlot)}canConnectToOutput(){return!1}connectToInput(t,i,n){let{fromSlot:o,fromReroute:s}=this,a=o.connect(i,t,s?.id);n.dispatch("link-created",a)}connectToSubgraphOutput(){throw new Error("Not implemented")}connectToRerouteInput(t,{node:i,input:n,link:o},s,a){let{fromSlot:_,fromReroute:l}=this,d=l?.floating?.slotType==="output";t.parentId=l?.id;let u=_.connect(n,i,o.parentId);d&&l.removeAllFloatingLinks();for(let p of a){if(p.id===l?.id)break;if(p.removeLink(o),p.totalLinks===0)if(o.isFloating)p.remove();else{let f=o.toFloating("output",p.id);this.network.addFloatingLink(f),p.floating={slotType:"output"}}}s.dispatch("link-created",u)}connectToOutput(){throw new Error("ToInputRenderLink cannot connect to an output.")}connectToSubgraphInput(){throw new Error("ToInputRenderLink cannot connect to a subgraph input.")}connectToRerouteOutput(){throw new Error("ToInputRenderLink cannot connect to an output.")}},Ge=class{constructor(t,i,n,o,s=M.CENTER){c(this,"toType","input");c(this,"fromPos");c(this,"fromSlotIndex");c(this,"fromDirection",M.RIGHT);this.network=t,this.node=i,this.fromSlot=n,this.fromReroute=o,this.dragDirection=s;let a=i.outputs.indexOf(n);if(a===-1)throw new Error(`Creating render link for node [${this.node.id}] failed: Slot index not found.`);this.fromSlotIndex=a,this.fromPos=o?o.pos:this.node.getOutputPos(a)}canConnectToInput(t,i){return this.node.canConnectTo(t,i,this.fromSlot)}canConnectToOutput(){return!1}connectToInput(t,i,n){let{node:o,fromSlot:s,fromReroute:a}=this;if(t===o)return;let _=o.connectSlots(s,t,i,a?.id);n.dispatch("link-created",_)}connectToSubgraphOutput(t,i){let n=t.connect(this.fromSlot,this.node,this.fromReroute?.id);i.dispatch("link-created",n)}connectToRerouteInput(t,{node:i,input:n,link:o},s,a){let{node:_,fromSlot:l,fromReroute:d}=this,u=d?.floating?.slotType==="output";t.parentId=d?.id;let p=_.connectSlots(l,i,n,o.parentId);u&&d.removeAllFloatingLinks();for(let f of a){if(f.id===d?.id)break;if(f.removeLink(o),f.totalLinks===0)if(o.isFloating)f.remove();else{let h=o.toFloating("output",f.id);this.network.addFloatingLink(h),f.floating={slotType:"output"}}}s.dispatch("link-created",p)}connectToOutput(){throw new Error("ToInputRenderLink cannot connect to an output.")}connectToSubgraphInput(){throw new Error("ToInputRenderLink cannot connect to a subgraph input.")}connectToRerouteOutput(){throw new Error("ToInputRenderLink cannot connect to an output.")}},en=class{constructor(t,i,n,o,s=M.CENTER){c(this,"toType","output");c(this,"fromPos");c(this,"fromSlotIndex");c(this,"fromDirection",M.LEFT);this.network=t,this.node=i,this.fromSlot=n,this.fromReroute=o,this.dragDirection=s;let a=i.slots.indexOf(n);if(a===-1&&n!==i.emptySlot)throw new Error(`Creating render link for node [${this.node.id}] failed: Slot index not found.`);this.fromSlotIndex=a,this.fromPos=o?o.pos:n.pos}canConnectToInput(){return!1}canConnectToOutput(t,i){return this.node.canConnectTo(t,this.fromSlot,i)}canConnectToReroute(t){return t.origin_id!==this.node.id}connectToOutput(t,i,n){let{fromSlot:o,fromReroute:s}=this,a=o.connect(i,t,s?.id);n.dispatch("link-created",a)}connectToSubgraphInput(){throw new Error("Not implemented")}connectToRerouteOutput(t,i,n,o){let{fromSlot:s}=this,a=s.connect(n,i,t?.id);o.dispatch("link-created",a)}connectToInput(){throw new Error("ToOutputRenderLink cannot connect to an input.")}connectToSubgraphOutput(){throw new Error("ToOutputRenderLink cannot connect to a subgraph output.")}connectToRerouteInput(){throw new Error("ToOutputRenderLink cannot connect to an input.")}},tn=class{constructor(t,i,n,o,s=M.CENTER){c(this,"toType","output");c(this,"fromPos");c(this,"fromSlotIndex");c(this,"fromDirection",M.LEFT);this.network=t,this.node=i,this.fromSlot=n,this.fromReroute=o,this.dragDirection=s;let a=i.inputs.indexOf(n);if(a===-1)throw new Error(`Creating render link for node [${this.node.id}] failed: Slot index not found.`);this.fromSlotIndex=a,this.fromPos=o?o.pos:this.node.getInputPos(a)}canConnectToInput(){return!1}canConnectToOutput(t,i){return this.node.canConnectTo(t,this.fromSlot,i)}canConnectToReroute(t){return t.origin_id!==this.node.id}connectToOutput(t,i,n){let{node:o,fromSlot:s,fromReroute:a}=this;if(!o)return;let _=t.connectSlots(i,o,s,a?.id);n.dispatch("link-created",_)}connectToSubgraphInput(t,i){let n=t.connect(this.fromSlot,this.node,this.fromReroute?.id);i?.dispatch("link-created",n)}connectToRerouteOutput(t,i,n,o){let{node:s,fromSlot:a}=this,_=i.connectSlots(n,s,a,t?.id);o.dispatch("link-created",_)}connectToInput(){throw new Error("ToOutputRenderLink cannot connect to an input.")}connectToSubgraphOutput(){throw new Error("ToOutputRenderLink cannot connect to a subgraph output.")}connectToRerouteInput(){throw new Error("ToOutputRenderLink cannot connect to an input.")}},ro=class extends tn{constructor(t,i,n,o,s){super(t,i,n,o),this.fromReroute=o,this.linkConnector=s}canConnectToReroute(){return!1}connectToOutput(t,i){let n=new Ge(this.network,t,i);this.linkConnector._connectOutputToReroute(this.fromReroute,n)}},gi,Z,lo,co,be,_o=class{constructor(t){P(this,Z);c(this,"state",{connectingTo:void 0,multi:!1,draggingExistingLinks:!1,snapLinksPos:void 0});c(this,"events",new Qt);c(this,"renderLinks",[]);c(this,"inputLinks",[]);c(this,"outputLinks",[]);c(this,"floatingLinks",[]);c(this,"hiddenReroutes",new Set);c(this,"overWidget");c(this,"overWidgetType");c(this,"overReroute");P(this,gi);B(this,gi,t)}get isConnecting(){return this.state.connectingTo!==void 0}get draggingExistingLinks(){return this.state.draggingExistingLinks}moveInputLink(t,i){if(this.isConnecting)throw new Error("Already dragging links.");let{state:n,inputLinks:o,renderLinks:s}=this,a=i.link;if(a==null){let _=i._floatingLinks?.values().next().value;if(_?.parentId==null)return;try{let l=t.reroutes.get(_.parentId);if(!l)throw new Error(`Invalid reroute id: [${_.parentId}] for floating link id: [${_.id}].`);let d=new Qi(t,_,"input",l);if(this.events.dispatch("before-move-input",d)===!1)return;s.push(d)}catch(l){console.warn(`Could not create render link for link id: [${_.id}].`,_,l)}_._dragging=!0,this.floatingLinks.push(_)}else{let _=t.links.get(a);if(!_)return;try{let l=t.getReroute(_.parentId),d=new ao(t,_,l);if(this.events.dispatch("before-move-input",d)===!1)return;s.push(d),this.listenUntilReset("input-moved",p=>{p.detail.link.disconnect(t,"output")})}catch(l){console.warn(`Could not create render link for link id: [${_.id}].`,_,l);return}_._dragging=!0,o.push(_)}n.connectingTo="input",n.draggingExistingLinks=!0,T(this,Z,be).call(this,!1)}moveOutputLink(t,i){if(this.isConnecting)throw new Error("Already dragging links.");let{state:n,renderLinks:o}=this;if(i._floatingLinks?.size)for(let s of i._floatingLinks.values())try{let a=H.getFirstReroute(t,s);if(!a)throw new Error(`Invalid reroute id: [${s.parentId}] for floating link id: [${s.id}].`);let _=new Qi(t,s,"output",a);if(this.events.dispatch("before-move-output",_)===!1)continue;o.push(_),this.floatingLinks.push(s)}catch(a){console.warn(`Could not create render link for link id: [${s.id}].`,s,a)}if(i.links?.length)for(let s of i.links){let a=t.links.get(s);if(!a)continue;let _=H.getFirstReroute(t,a);_?(_._dragging=!0,this.hiddenReroutes.add(_)):a._dragging=!0,this.outputLinks.push(a);try{let l=new Ji(t,a,_,M.RIGHT);if(this.events.dispatch("before-move-output",l)===!1)continue;o.push(l)}catch(l){console.warn(`Could not create render link for link id: [${a.id}].`,a,l);continue}}o.length!==0&&(n.draggingExistingLinks=!0,n.multi=!0,n.connectingTo="output",T(this,Z,be).call(this,!0))}dragNewFromOutput(t,i,n,o){if(this.isConnecting)throw new Error("Already dragging links.");let{state:s}=this,a=new Ge(t,i,n,o);this.renderLinks.push(a),s.connectingTo="input",T(this,Z,be).call(this,!1)}dragNewFromInput(t,i,n,o){if(this.isConnecting)throw new Error("Already dragging links.");let{state:s}=this,a=new tn(t,i,n,o);this.renderLinks.push(a),s.connectingTo="output",T(this,Z,be).call(this,!0)}dragNewFromSubgraphInput(t,i,n,o){if(this.isConnecting)throw new Error("Already dragging links.");let s=new Zi(t,i,n,o);this.renderLinks.push(s),this.state.connectingTo="input",T(this,Z,be).call(this,!1)}dragNewFromSubgraphOutput(t,i,n,o){if(this.isConnecting)throw new Error("Already dragging links.");let s=new en(t,i,n,o);this.renderLinks.push(s),this.state.connectingTo="output",T(this,Z,be).call(this,!0)}dragFromReroute(t,i){if(this.isConnecting)throw new Error("Already dragging links.");let n=i.firstLink??i.firstFloatingLink;if(!n){console.warn("No link found for reroute.");return}if(n.origin_id===je){if(!(t instanceof Wt)){console.warn("Subgraph input link found in non-subgraph network.");return}let _=t.inputs.at(n.origin_slot);if(!_)throw new Error("No subgraph input found for link.");let l=new Zi(t,t.inputNode,_,i);l.fromDirection=M.NONE,this.renderLinks.push(l),this.state.connectingTo="input",T(this,Z,be).call(this,!1);return}let o=t.getNodeById(n.origin_id);if(!o){console.warn("No output node found for link.",n);return}let s=o.outputs.at(n.origin_slot);if(!s){console.warn("No output slot found for link.",n);return}let a=new Ge(t,o,s,i);a.fromDirection=M.NONE,this.renderLinks.push(a),this.state.connectingTo="input",T(this,Z,be).call(this,!1)}dragFromRerouteToOutput(t,i){if(this.isConnecting)throw new Error("Already dragging links.");let n=i.firstLink??i.firstFloatingLink;if(!n){console.warn("No link found for reroute.");return}if(n.target_id===We){if(!(t instanceof Wt)){console.warn("Subgraph output link found in non-subgraph network.");return}let _=t.outputs.at(n.target_slot);if(!_)throw new Error("No subgraph output found for link.");let l=new en(t,t.outputNode,_,i);l.fromDirection=M.NONE,this.renderLinks.push(l),this.state.connectingTo="output",T(this,Z,be).call(this,!1);return}let o=t.getNodeById(n.target_id);if(!o){console.warn("No input node found for link.",n);return}let s=o.inputs.at(n.target_slot);if(!s){console.warn("No input slot found for link.",n);return}let a=new ro(t,o,s,i,this);a.fromDirection=M.LEFT,this.renderLinks.push(a),this.state.connectingTo="output",T(this,Z,be).call(this,!0)}dragFromLinkSegment(t,i){if(this.isConnecting)throw new Error("Already dragging links.");let{state:n}=this;if(i.origin_id==null||i.origin_slot==null)return;let o=t.getNodeById(i.origin_id);if(!o)return;let s=o.outputs.at(i.origin_slot);if(!s)return;let a=t.getReroute(i.parentId),_=new Ge(t,o,s,a);_.fromDirection=M.NONE,this.renderLinks.push(_),n.connectingTo="input",T(this,Z,be).call(this,!1)}dropLinks(t,i){if(!(!this.isConnecting&&this.events.dispatch("before-drop-links",{renderLinks:this.renderLinks,event:i})===!1))try{let{canvasX:n,canvasY:o}=i,s=t.getIoNodeOnPos?.(n,o);if(s){this.dropOnIoNode(s,i);return}let a=t.getNodeOnPos(n,o)??void 0;if(a)this.dropOnNode(a,i);else{let _=t.getRerouteOnPos(n,o);_&&this.isRerouteValidDrop(_)?this.dropOnReroute(_,i):this.dropOnNothing(i)}}finally{this.events.dispatch("after-drop-links",{renderLinks:this.renderLinks,event:i})}}dropOnIoNode(t,i){let{renderLinks:n,state:o}=this,{connectingTo:s}=o,{canvasX:a,canvasY:_}=i;if(s==="input"&&t instanceof ei){let l=t.getSlotInPosition(a,_);if(!l)throw new Error("No output slot found for link.");for(let d of n)d.connectToSubgraphOutput(l,this.events)}else if(s==="output"&&t instanceof Zt){let l=t.getSlotInPosition(a,_);if(!l)throw new Error("No input slot found for link.");for(let d of n)d.connectToSubgraphInput(l,this.events)}else console.error("Invalid connectingTo state &/ ioNode",s,t)}dropOnNode(t,i){let{renderLinks:n,state:o}=this,{connectingTo:s}=o,{canvasX:a,canvasY:_}=i;if(!n.every(l=>l.node===t)){if(s==="output"){let l=t.getOutputOnPos([a,_]);l?T(this,Z,co).call(this,t,l):this.connectToNode(t,i)}else if(s==="input"){let d=t.getInputOnPos([a,_])??t.getSlotFromWidget(this.overWidget);d?T(this,Z,lo).call(this,t,d):this.connectToNode(t,i)}}}dropOnReroute(t,i){if(this.events.dispatch("dropped-on-reroute",{reroute:t,event:i})!==!1){if(this.state.connectingTo==="input"){if(this.renderLinks.length!==1)throw new Error(`Attempted to connect ${this.renderLinks.length} input links to a reroute.`);let o=this.renderLinks[0];this._connectOutputToReroute(t,o);return}for(let o of this.renderLinks){if(o.toType!=="output")continue;let s=t.findSourceOutput();if(!s)continue;let{node:a,output:_}=s;o.canConnectToOutput(a,_)&&o.connectToRerouteOutput(t,a,_,this.events)}}}_connectOutputToReroute(t,i){let n=t.findTargetInputs();if(!n?.length)return;let o=t.getReroutes();if(o===null)throw new Error("Reroute loop detected.");let s=o.slice(0,-1).reverse();if(i instanceof Ge){let{node:_,fromSlot:l,fromSlotIndex:d,fromReroute:u}=i;if(t.setFloatingLinkOrigin(_,l,d),u!=null)for(let p of s){if(p.id===u.id)break;for(let f of t.floatingLinkIds)p.floatingLinkIds.delete(f)}}let a=n.filter(_=>i.toType==="input"&&ps(i,_.node,_.input,t));for(let _ of a)i.connectToRerouteInput(t,_,this.events,s)}dropOnNothing(t){this.events.dispatch("dropped-on-canvas",t)!==!1&&this.disconnectLinks()}disconnectLinks(){for(let t of this.renderLinks)t instanceof jt&&t.disconnect()}connectToNode(t,i){let{state:{connectingTo:n}}=this;if(this.events.dispatch("dropped-on-node",{node:t,event:i})===!1)return;let s=this.renderLinks[0];if(s){if(n==="output"){let a=t.findOutputByType(s.fromSlot.type)?.slot;if(console.debug("out",t,a,s.fromSlot),a===void 0){console.warn(`Could not find slot for link type: [${s.fromSlot.type}].`);return}T(this,Z,co).call(this,t,a)}else if(n==="input"){let a=t.findInputByType(s.fromSlot.type)?.slot;if(console.debug("in",t,a,s.fromSlot),a===void 0){console.warn(`Could not find slot for link type: [${s.fromSlot.type}].`);return}T(this,Z,lo).call(this,t,a)}}}isInputValidDrop(t,i){return this.renderLinks.some(n=>n.canConnectToInput(t,i))}isNodeValidDrop(t){return this.state.connectingTo==="output"?t.outputs.some(i=>this.renderLinks.some(n=>n.canConnectToOutput(t,i))):t.inputs.some(i=>this.renderLinks.some(n=>n.canConnectToInput(t,i)))}isRerouteValidDrop(t){if(this.state.connectingTo==="input"){let i=t.findTargetInputs();if(!i?.length)return!1;for(let{node:n,input:o}of i)for(let s of this.renderLinks)if(s.toType==="input"&&ps(s,n,o,t))return!0}else{let i=t.findSourceOutput();if(!i)return!1;let{node:n,output:o}=i;for(let s of this.renderLinks)if(s.toType==="output"&&s.canConnectToReroute(t)&&s.canConnectToOutput(n,o))return!0}return!1}export(t){return{renderLinks:[...this.renderLinks],inputLinks:[...this.inputLinks],outputLinks:[...this.outputLinks],floatingLinks:[...this.floatingLinks],state:{...this.state},network:t}}listenUntilReset(t,i,n){this.events.addEventListener(t,i,n),this.events.addEventListener("reset",()=>this.events.removeEventListener(t,i),{once:!0})}reset(t=!1){if(this.events.dispatch("reset",t)===!1)return;let{state:n,outputLinks:o,inputLinks:s,hiddenReroutes:a,renderLinks:_,floatingLinks:l}=this;if(!(!t&&n.connectingTo===void 0)){n.connectingTo=void 0;for(let d of o)delete d._dragging;for(let d of s)delete d._dragging;for(let d of l)delete d._dragging;for(let d of a)delete d._dragging;_.length=0,s.length=0,o.length=0,l.length=0,a.clear(),n.multi=!1,n.draggingExistingLinks=!1,n.snapLinksPos=void 0}}};gi=new WeakMap,Z=new WeakSet,lo=function(t,i){for(let n of this.renderLinks)n.canConnectToInput(t,i)&&n.connectToInput(t,i,this.events)},co=function(t,i){for(let n of this.renderLinks){if(!n.canConnectToOutput(t,i)){n instanceof Ji&&n.link.parentId!==void 0&&n.outputNode.connectSlots(n.outputSlot,n.inputNode,n.inputSlot,void 0);continue}n.connectToOutput(t,i,this.events)}},be=function(t){let i=this.renderLinks.map(n=>{let o=t?n.fromSlot:null,s=t?null:n.fromSlot,a=n instanceof jt?n.link?.parentId:n.fromReroute?.id;return{node:n.node,slot:n.fromSlotIndex,input:o,output:s,pos:n.fromPos,afterRerouteId:a}});w(this,gi).call(this,i)};function ps(r,t,i,n){let{fromReroute:o}=r;if(!r.canConnectToInput(t,i)||o?.id===n.id||o?.getReroutes()?.includes(n))return!1;if(r instanceof Ge){if(n.parentId==null){if(n.firstLink?.hasOrigin(r.node.id,r.fromSlotIndex))return!1}else if(r.fromReroute?.id===n.parentId)return!1}return!0}var dt,mi,Nt,ve,po,Bi,qs,fo,Ie=class Ie{constructor(t){P(this,ve);c(this,"element");c(this,"pointerId");c(this,"dragStarted",!1);c(this,"eLastDown");c(this,"isDouble",!1);c(this,"isDown",!1);c(this,"resizeDirection");c(this,"clearEventsOnReset",!0);c(this,"eDown");c(this,"eMove");c(this,"eUp");P(this,Nt);this.element=t}static get maxClickDrift(){return w(this,dt)}static set maxClickDrift(t){B(this,dt,t),B(this,mi,t*t)}get finally(){return w(this,Nt)}set finally(t){var i;try{(i=w(this,Nt))==null||i.call(this)}finally{B(this,Nt,t)}}down(t){this.reset(),this.eDown=t,this.pointerId=t.pointerId,this.element.setPointerCapture(t.pointerId)}move(t){let{eDown:i}=this;if(!i)return;if(!t.buttons){this.reset();return}if(!(t.buttons&i.buttons)){T(this,ve,po).call(this,t),this.reset();return}if(this.eMove=t,this.onDrag?.(t),this.dragStarted)return;(t.timeStamp-i.timeStamp>Ie.bufferTime||!T(this,ve,Bi).call(this,t,i))&&T(this,ve,fo).call(this,t)}up(t){if(t.button!==this.eDown?.button)return!1;T(this,ve,po).call(this,t);let{dragStarted:i}=this;return this.reset(),!i}reset(){this.finally=void 0,delete this.onClick,delete this.onDoubleClick,delete this.onDragStart,delete this.onDrag,delete this.onDragEnd,this.isDown=!1,this.isDouble=!1,this.dragStarted=!1,this.resizeDirection=void 0,this.clearEventsOnReset&&(this.eDown=void 0,this.eMove=void 0,this.eUp=void 0);let{element:t,pointerId:i}=this;this.pointerId=void 0,typeof i=="number"&&t.hasPointerCapture(i)&&t.releasePointerCapture(i)}};dt=new WeakMap,mi=new WeakMap,Nt=new WeakMap,ve=new WeakSet,po=function(t){let{eDown:i}=this;i&&(this.eUp=t,this.dragStarted?this.onDragEnd?.(t):T(this,ve,Bi).call(this,t,i)?this.onDoubleClick&&T(this,ve,qs).call(this)?(this.onDoubleClick(t),this.eLastDown=void 0):(this.onClick?.(t),this.eLastDown=i):(T(this,ve,fo).call(this),this.onDragEnd?.(t)))},Bi=function(t,i,n=w(Ie,mi)){return ir(t.clientX,t.clientY,i.clientX,i.clientY)<=n},qs=function(){let{eDown:t,eLastDown:i}=this;if(!t||!i)return!1;let n=(3*w(Ie,dt))**2,o=t.timeStamp-i.timeStamp;return o>0&&o<Ie.doubleClickTime&&T(this,ve,Bi).call(this,t,i,n)},fo=function(t){this.dragStarted=!0,this.onDragStart?.(this,t),delete this.onDragStart},c(Ie,"bufferTime",150),c(Ie,"doubleClickTime",300),P(Ie,dt,6),P(Ie,mi,w(Ie,dt)**2);var uo=Ie,cn,Ps,nn=class{constructor(t){P(this,cn);c(this,"state");c(this,"lastState",{offset:[0,0],scale:0});c(this,"max_scale");c(this,"min_scale");c(this,"enabled");c(this,"last_mouse");c(this,"element");c(this,"visible_area");c(this,"dragging");c(this,"viewport");this.state={offset:[0,0],scale:1},this.max_scale=10,this.min_scale=.1,this.enabled=!0,this.last_mouse=[0,0],this.visible_area=new fe,this.element=t}get offset(){return this.state.offset}set offset(t){this.state.offset[0]=t[0],this.state.offset[1]=t[1]}get scale(){return this.state.scale}set scale(t){this.state.scale=t}computeVisibleArea(t){let{scale:i,offset:n,visible_area:o}=this;if(T(this,cn,Ps).call(this)&&(this.onChanged?.(i,n),mr(this.state,this.lastState)),!this.element){o[0]=o[1]=o[2]=o[3]=0;return}let{width:s,height:a}=this.element,_=-n[0],l=-n[1];t&&(_+=t[0]/i,l+=t[1]/i,s=t[2],a=t[3]);let d=_+s/i,u=l+a/i;o[0]=_,o[1]=l,o.resizeBottomRight(d,u)}toCanvasContext(t){t.scale(this.scale,this.scale),t.translate(this.offset[0],this.offset[1])}convertOffsetToCanvas(t){return[(t[0]+this.offset[0])*this.scale,(t[1]+this.offset[1])*this.scale]}convertCanvasToOffset(t,i){return i=i||[0,0],i[0]=t[0]/this.scale-this.offset[0],i[1]=t[1]/this.scale-this.offset[1],i}mouseDrag(t,i){this.offset[0]+=t/this.scale,this.offset[1]+=i/this.scale,this.onredraw?.(this)}changeScale(t,i,n=!0){if(t<this.min_scale?t=this.min_scale:t>this.max_scale&&(t=this.max_scale),t==this.scale)return;let o=this.element.getBoundingClientRect();if(!o)return;i=i??[o.width*.5,o.height*.5];let s=[i[0]-o.x,i[1]-o.y],a=this.convertCanvasToOffset(s);this.scale=t,n&&Math.abs(this.scale-1)<.01&&(this.scale=1);let _=this.convertCanvasToOffset(s),l=[_[0]-a[0],_[1]-a[1]];this.offset[0]+=l[0],this.offset[1]+=l[1],this.onredraw?.(this)}changeDeltaScale(t,i){this.changeScale(this.scale*t,i)}fitToBounds(t,{zoom:i=.75}={}){let n=this.element.width/window.devicePixelRatio,o=this.element.height/window.devicePixelRatio,s=this.scale;if(i>0){let u=i*n/Math.max(t[2],300),p=i*o/Math.max(t[3],300);s=Math.min(u,p,this.max_scale)}let a=n/s,_=o/s,l=-t[0]-t[2]*.5+a*.5,d=-t[1]-t[3]*.5+_*.5;this.offset[0]=l,this.offset[1]=d,this.scale=s}animateToBounds(t,i,{duration:n=350,zoom:o=.75,easing:s=fs.EASE_IN_OUT_QUAD}={}){if(!(n>0))throw new RangeError("Duration must be greater than 0");let a={linear:q=>q,easeInQuad:q=>q*q,easeOutQuad:q=>q*(2-q),easeInOutQuad:q=>q<.5?2*q*q:-1+(4-2*q)*q},_=a[s]??a.linear,l=performance.now(),d=this.element.width/window.devicePixelRatio,u=this.element.height/window.devicePixelRatio,p=this.offset[0],f=this.offset[1],h=p-d/this.scale,g=f-u/this.scale,b=this.scale;if(o>0){let q=o*d/Math.max(t[2],300),D=o*u/Math.max(t[3],300);b=Math.min(q,D,this.max_scale)}let y=d/b,E=u/b,A=-t[0]-t[2]*.5+y*.5,L=-t[1]-t[3]*.5+E*.5,N=A-y,S=L-E,j=q=>{let D=q-l,U=Math.min(D/n,1),F=_(U),X=p+(A-p)*F,$=f+(L-f)*F;if(this.offset[0]=X,this.offset[1]=$,o>0){let De=h+(N-h)*F,ie=g+(S-g)*F,z=Math.abs(De-X),Le=Math.abs(ie-$);this.scale=Math.min(d/z,u/Le)}i(),U<1?I=requestAnimationFrame(j):cancelAnimationFrame(I)},I=requestAnimationFrame(j)}reset(){this.scale=1,this.offset[0]=0,this.offset[1]=0}};cn=new WeakSet,Ps=function(){let t=this.state,i=this.lastState;return t.scale!==i.scale||t.offset[0]!==i.offset[0]||t.offset[1]!==i.offset[1]};function mr(r,t){t.scale=r.scale,t.offset[0]=r.offset[0],t.offset[1]=r.offset[1]}var de=class de{constructor(t,i){c(this,"id");c(this,"color");c(this,"title");c(this,"font");c(this,"font_size",m.DEFAULT_GROUP_FONT||24);c(this,"_bounding",new Float32Array([10,10,de.minWidth,de.minHeight]));c(this,"_pos",this._bounding.subarray(0,2));c(this,"_size",this._bounding.subarray(2,4));c(this,"_nodes",[]);c(this,"_children",new Set);c(this,"graph");c(this,"flags",{});c(this,"selected");c(this,"isPointInside",oe.prototype.isPointInside);c(this,"setDirtyCanvas",oe.prototype.setDirtyCanvas);this.id=i??-1,this.title=t||"Group";let{pale_blue:n}=ee.node_colors;this.color=n?n.groupcolor:"#AAA"}setColorOption(t){t==null?delete this.color:this.color=t.groupcolor}getColorOption(){return Object.values(ee.node_colors).find(t=>t.groupcolor===this.color)??null}get pos(){return this._pos}set pos(t){!t||t.length<2||(this._pos[0]=t[0],this._pos[1]=t[1])}get size(){return this._size}set size(t){!t||t.length<2||(this._size[0]=Math.max(de.minWidth,t[0]),this._size[1]=Math.max(de.minHeight,t[1]))}get boundingRect(){return this._bounding}get nodes(){return this._nodes}get titleHeight(){return this.font_size*1.4}get children(){return this._children}get pinned(){return!!this.flags.pinned}pin(t){(t===void 0?!this.pinned:t)?this.flags.pinned=!0:delete this.flags.pinned}unpin(){this.pin(!1)}configure(t){this.id=t.id,this.title=t.title,this._bounding.set(t.bounding),this.color=t.color,this.flags=t.flags||this.flags,t.font_size&&(this.font_size=t.font_size)}serialize(){let t=this._bounding;return{id:this.id,title:this.title,bounding:[...t],color:this.color,font_size:this.font_size,flags:this.flags}}draw(t,i){let{padding:n,resizeLength:o,defaultColour:s}=de,a=this.font_size||m.DEFAULT_GROUP_FONT_SIZE,[_,l]=this._pos,[d,u]=this._size,p=this.color||s;i.globalAlpha=.25*t.editor_alpha,i.fillStyle=p,i.strokeStyle=p,i.beginPath(),i.rect(_+.5,l+.5,d,a*1.4),i.fill(),i.fillStyle=p,i.strokeStyle=p,i.beginPath(),i.rect(_+.5,l+.5,d,u),i.fill(),i.globalAlpha=t.editor_alpha,i.stroke(),i.beginPath(),i.moveTo(_+d,l+u),i.lineTo(_+d-o,l+u),i.lineTo(_+d,l+u-o),i.fill(),i.font=`${a}px ${m.GROUP_FONT}`,i.textAlign="left",i.fillText(this.title+(this.pinned?"\u{1F4CC}":""),_+n,l+a),m.highlight_selected_group&&this.selected&&xs(i,this._bounding,{title_height:this.titleHeight,padding:n})}resize(t,i){return this.pinned?!1:(this._size[0]=Math.max(de.minWidth,t),this._size[1]=Math.max(de.minHeight,i),!0)}move(t,i,n=!1){if(!this.pinned&&(this._pos[0]+=t,this._pos[1]+=i,n!==!0))for(let o of this._children)o.move(t,i)}snapToGrid(t){return this.pinned?!1:lt(this.pos,t)}recomputeInsideNodes(){if(!this.graph)throw new R;let{nodes:t,reroutes:i,groups:n}=this.graph,o=this._children;this._nodes.length=0,o.clear();for(let s of t)sr(this._bounding,s.boundingRect)&&(this._nodes.push(s),o.add(s));for(let s of i.values())qt(s.pos,this._bounding)&&o.add(s);for(let s of n)hs(this._bounding,s._bounding)&&o.add(s);n.sort((s,a)=>s===this?o.has(a)?-1:0:a===this&&o.has(s)?1:0)}resizeTo(t,i=10){let n=yn(t,i);n!==null&&(this.pos[0]=n[0],this.pos[1]=n[1]-this.titleHeight,this.size[0]=n[2],this.size[1]=n[3]+this.titleHeight)}addNodes(t,i=10){!this._nodes&&t.length===0||this.resizeTo([...this.children,...this._nodes,...t],i)}getMenuOptions(){return[{content:this.pinned?"Unpin":"Pin",callback:()=>{this.pinned?this.unpin():this.pin(),this.setDirtyCanvas(!1,!0)}},null,{content:"Title",callback:ee.onShowPropertyEditor},{content:"Color",has_submenu:!0,callback:ee.onMenuNodeColors},{content:"Font size",property:"font_size",type:"Number",callback:ee.onShowPropertyEditor},null,{content:"Remove",callback:ee.onMenuNodeRemove}]}isPointInTitlebar(t,i){let n=this.boundingRect;return Y(t,i,n[0],n[1],n[2],this.titleHeight)}isInResize(t,i){let n=this.boundingRect,o=n[0]+n[2],s=n[1]+n[3];return t<o&&i<s&&t-o+(i-s)>-de.resizeLength}};c(de,"minWidth",140),c(de,"minHeight",80),c(de,"resizeLength",10),c(de,"padding",4),c(de,"defaultColour","#335");var Me=de,Dt,se,ye,xe,Ke,ho,vi,ut,pt,go,Q=class Q{constructor(t,i,n,o,s,a){P(this,Ke);P(this,Dt,new Float32Array(8));P(this,se);P(this,ye);c(this,"floating");P(this,xe,w(this,Dt).subarray(0,2));c(this,"selected");c(this,"linkIds");c(this,"floatingLinkIds");c(this,"cos",0);c(this,"sin",0);c(this,"controlPoint",w(this,Dt).subarray(4,6));c(this,"path");c(this,"_centreAngle");c(this,"_pos",w(this,Dt).subarray(6,8));c(this,"_dragging");c(this,"_colour");P(this,vi,-1/0);P(this,ut,new on(this,!0));P(this,pt,new on(this,!1));this.id=t,B(this,se,new WeakRef(i)),this.parentId=o,n&&(this.pos=n),this.linkIds=new Set(s),this.floatingLinkIds=new Set(a)}static get slotOffset(){let t=Q.slotRadius*.33;return Q.radius+t+Q.slotRadius}get parentId(){return w(this,ye)}set parentId(t){t!==this.id&&this.getReroutes()!==null&&B(this,ye,t)}get parent(){return w(this,se).deref()?.getReroute(w(this,ye))}get pos(){return w(this,xe)}set pos(t){if(!(t?.length>=2))throw new TypeError("Reroute.pos is an x,y point, and expects an indexable with at least two values.");w(this,xe)[0]=t[0],w(this,xe)[1]=t[1]}get boundingRect(){let{radius:t}=Q,[i,n]=w(this,xe);return[i-t,n-t,2*t,2*t]}get totalLinks(){return this.linkIds.size+this.floatingLinkIds.size}get colour(){return this._colour??"#18184d"}get isSlotHovered(){return this.isInputHovered||this.isOutputHovered}get isInputHovered(){return w(this,ut).hovering}get isOutputHovered(){return w(this,pt).hovering}get firstLink(){let t=this.linkIds.values().next().value;return t===void 0?void 0:w(this,se).deref()?.links.get(t)}get firstFloatingLink(){let t=this.floatingLinkIds.values().next().value;return t===void 0?void 0:w(this,se).deref()?.floatingLinks.get(t)}get origin_id(){return this.firstLink?.origin_id}get origin_slot(){return this.firstLink?.origin_slot}update(t,i,n,o){this.parentId=t,i&&(this.pos=i),n&&(this.linkIds=new Set(n)),this.floating=o}validateLinks(t,i){let{linkIds:n,floatingLinkIds:o}=this;for(let s of n)t.has(s)||n.delete(s);for(let s of o)i.has(s)||o.delete(s);return n.size>0||o.size>0}getReroutes(t=new Set){if(w(this,ye)===void 0)return[this];if(t.has(this))return null;t.add(this);let i=w(this,se).deref()?.reroutes.get(w(this,ye));if(!i)return B(this,ye,void 0),[this];let n=i.getReroutes(t);return n?.push(this),n}findNextReroute(t,i=new Set){if(w(this,ye)===t)return this;if(i.has(this))return null;if(i.add(this),w(this,ye)!==void 0)return w(this,se).deref()?.reroutes.get(w(this,ye))?.findNextReroute(t,i)}findSourceOutput(){let t=this.firstLink??this.firstFloatingLink;if(!t)return;let i=w(this,se).deref()?.getNodeById(t.origin_id);if(i)return{node:i,output:i.outputs[t.origin_slot]}}findTargetInputs(){let t=w(this,se).deref();if(!t)return;let i=[];return n(t,this.linkIds,t.links),n(t,this.floatingLinkIds,t.floatingLinks),i;function n(o,s,a){for(let _ of s){let l=a.get(_);if(!l)continue;let d=o.getNodeById(l.target_id),u=d?.inputs[l.target_slot];u&&i.push({node:d,input:u,link:l})}}}getFloatingLinks(t){let i=w(this,se).deref()?.floatingLinks;if(!i)return;let n=t==="input"?"origin_id":"target_id",o=[];for(let s of this.floatingLinkIds){let a=i.get(s);a?.[n]===-1&&o.push(a)}return o}setFloatingLinkOrigin(t,i,n){let o=w(this,se).deref(),s=this.getFloatingLinks("output");if(!s)throw new Error("[setFloatingLinkOrigin]: Invalid network.");if(s.length){i._floatingLinks??(i._floatingLinks=new Set);for(let a of s)i._floatingLinks.add(a),o?.getNodeById(a.origin_id)?.outputs[a.origin_slot]?._floatingLinks?.delete(a),a.origin_id=t.id,a.origin_slot=n}}move(t,i){w(this,xe)[0]+=t,w(this,xe)[1]+=i}snapToGrid(t){if(!t)return!1;let{pos:i}=this;return i[0]=t*Math.round(i[0]/t),i[1]=t*Math.round(i[1]/t),!0}removeAllFloatingLinks(){for(let t of this.floatingLinkIds)this.removeFloatingLink(t)}removeFloatingLink(t){let i=w(this,se).deref();if(!i)return;let n=i.floatingLinks.get(t);if(!n){console.warn(`[Reroute.removeFloatingLink] Floating link not found: ${t}, ignoring and discarding ID.`),this.floatingLinkIds.delete(t);return}i.removeFloatingLink(n)}removeLink(t){let i=w(this,se).deref();if(!i)return;let n=i.floatingLinks.get(t.id);t===n?this.floatingLinkIds.delete(t.id):this.linkIds.delete(t.id)}remove(){let t=w(this,se).deref();t&&t.removeReroute(this.id)}calculateAngle(t,i,n){if(!(t>w(this,vi)))return;B(this,vi,t);let{id:o,pos:s}=this,a=[],_=0;if(g(this.linkIds,i.links),g(this.floatingLinkIds,i.floatingLinks),!a.length){this.cos=0,this.sin=0,this.controlPoint[0]=0,this.controlPoint[1]=0;return}_/=a.length;let l=Math.atan2(w(this,xe)[1]-n[1],w(this,xe)[0]-n[0]),d=(l-_)*.5;Math.abs(d)>Math.PI*.5&&(d+=Math.PI);let u=Math.min(Q.maxSplineOffset,Xe(n,w(this,xe))*.25),p=l-d,f=Math.cos(p),h=Math.sin(p);this.cos=f,this.sin=h,this.controlPoint[0]=u*-f,this.controlPoint[1]=u*-h;function g(k,b){for(let y of k){let E=b.get(y),A=vr(i,E,o);if(!A)continue;let L=xr(s,A);a.push(L),_+=L}}}draw(t,i){let{globalAlpha:n}=t,{pos:o}=this;if(t.beginPath(),t.arc(o[0],o[1],Q.radius,0,2*Math.PI),this.linkIds.size===0&&(t.fillStyle=i??"#797979",t.fill(),t.globalAlpha=n*.33),t.fillStyle=this.colour,t.lineWidth=Q.radius*.1,t.strokeStyle="rgb(0,0,0,0.5)",t.fill(),t.stroke(),t.fillStyle="#ffffff55",t.strokeStyle="rgb(0,0,0,0.3)",t.beginPath(),t.arc(o[0],o[1],Q.radius*.8,0,2*Math.PI),t.fill(),t.stroke(),this.selected&&(t.strokeStyle="#fff",t.beginPath(),t.arc(o[0],o[1],Q.radius*1.2,0,2*Math.PI),t.stroke()),Q.drawIdBadge){let s=new Hi({text:this.id.toString()}),a=o[0]-s.getWidth(t)*.5,_=o[1]-s.height-Q.radius-2;s.draw(t,a,_)}t.globalAlpha=n}drawSlots(t){w(this,ut).draw(t),w(this,pt).draw(t)}drawHighlight(t,i){let{pos:n}=this,{strokeStyle:o,lineWidth:s}=t;t.strokeStyle=i,t.lineWidth=1,t.beginPath(),t.arc(n[0],n[1],Q.radius*1.5,0,2*Math.PI),t.stroke(),t.strokeStyle=o,t.lineWidth=s}updateVisibility(t){let i=w(this,ut),n=w(this,pt);i.dirty=!1,n.dirty=!1;let{firstFloatingLink:o}=this,s=!!this.firstLink,a=s||o?.isFloatingOutput,_=s||o?.isFloatingInput;if((a||_)&&qt(t,w(this,Ke,ho))){let d=T(this,Ke,go).call(this,t);a&&i.update(t,d),_&&n.update(t,d)}else this.hideSlots();return i.dirty||n.dirty}hideSlots(){w(this,ut).hide(),w(this,pt).hide()}containsPoint(t){return qt(t,w(this,Ke,ho))&&T(this,Ke,go).call(this,t)}asSerialisable(){let{id:t,parentId:i,pos:n,linkIds:o}=this;return{id:t,parentId:i,pos:[n[0],n[1]],linkIds:[...o],floating:this.floating?{slotType:this.floating.slotType}:void 0}}};Dt=new WeakMap,se=new WeakMap,ye=new WeakMap,xe=new WeakMap,Ke=new WeakSet,ho=function(){let t=2*Q.slotOffset,i=2*Math.max(Q.radius,Q.slotRadius),[n,o]=w(this,xe);return[n-t,o-i,2*t,2*i]},vi=new WeakMap,ut=new WeakMap,pt=new WeakMap,go=function(t){return Xe(this.pos,t)<=Q.radius},c(Q,"radius",10),c(Q,"maxSplineOffset",80),c(Q,"drawIdBadge",!1),c(Q,"slotRadius",5);var _e=Q,Lt,xi,At,Ot,on=class{constructor(t,i){P(this,Lt);P(this,xi);c(this,"dirty",!1);P(this,At,!1);P(this,Ot,!1);B(this,Lt,t),B(this,xi,i?-1:1)}get pos(){let[t,i]=w(this,Lt).pos;return[t+_e.slotOffset*w(this,xi),i]}get hovering(){return w(this,At)}set hovering(t){Object.is(w(this,At),t)||(B(this,At,t),this.dirty=!0)}get showOutline(){return w(this,Ot)}set showOutline(t){Object.is(w(this,Ot),t)||(B(this,Ot,t),this.dirty=!0)}update(t,i){if(i)this.hovering=!1,this.showOutline=!0;else{let n=Xe(this.pos,t);this.hovering=n<=2*_e.slotRadius,this.showOutline=n<=5*_e.slotRadius}}hide(){this.hovering=!1,this.showOutline=!1}draw(t){let{fillStyle:i,strokeStyle:n,lineWidth:o}=t,{showOutline:s,hovering:a,pos:[_,l]}=this;if(s)try{t.fillStyle=a?w(this,Lt).colour:"rgba(127,127,127,0.3)",t.strokeStyle="rgb(0,0,0,0.5)",t.lineWidth=1,t.beginPath(),t.arc(_,l,_e.slotRadius,0,2*Math.PI),t.fill(),t.stroke()}finally{t.fillStyle=i,t.strokeStyle=n,t.lineWidth=o}}};Lt=new WeakMap,xi=new WeakMap,At=new WeakMap,Ot=new WeakMap;function vr(r,t,i){if(!t)return;let n=H.findNextReroute(r,t,i)?.pos;if(n)return n;if(!(t.target_id===-1||t.target_slot===-1))return r.getNodeById(t.target_id)?.getInputPos(t.target_slot)}function xr(r,t){return Math.atan2(t[1]-r[1],t[0]-r[0])}function Rs(r){let t=r?.find(a=>a);if(!t)return null;let i=t,n=t,o=t,s=t;for(let a of r){if(!a)continue;let[_,l]=a.pos,[d,u]=a.size;l<i.pos[1]&&(i=a),_+d>n.pos[0]+n.size[0]&&(n=a),l+u>o.pos[1]+o.size[1]&&(o=a),_<s.pos[0]&&(s=a)}return{top:i,right:n,bottom:o,left:s}}function kr(r,t){let i=r?.length;if(!(i>1))return;let n=t?0:1,o=0,s=-1/0;for(let u of r){o+=u.size[n];let p=u.pos[n]+u.size[n];p>s&&(s=p)}let a=[...r].sort((u,p)=>u.pos[n]-p.pos[n]),_=a[0].pos[n],l=(s-_-o)/(i-1),d=_;for(let u=0;u<i;u++){let p=a[u];p.pos[n]=d+l*u,d+=p.size[n]}}function jn(r,t,i){if(!r)return;let n=i===void 0?Rs(r):{top:i,right:i,bottom:i,left:i};if(n!==null)for(let o of r)switch(t){case"right":o.pos[0]=n.right.pos[0]+n.right.size[0]-o.size[0];break;case"left":o.pos[0]=n.left.pos[0];break;case"top":o.pos[1]=n.top.pos[1];break;case"bottom":o.pos[1]=n.bottom.pos[1]+n.bottom.size[1]-o.size[1];break}}var Wn={NE:"nesw-resize",SE:"nwse-resize",SW:"nesw-resize",NW:"nwse-resize"},dn,un,pn,He,qe,fn,hn,gn,ft,O,zi,Ue,ki,Ce,ge,bi,ht,Fs,Te,st,Ms,js,mo,Ws,Bs,zs,Vs,Hs,at,rt,Us,Gs,Xs,$s,Ks,Ys,kt,Gt,C=class C{constructor(t,i,n){P(this,O);c(this,"state",{draggingItems:!1,draggingCanvas:!1,readOnly:!1,hoveringOver:ae.Nothing,shouldSetCursor:!0,selectionChanged:!1});P(this,ft);c(this,"_previously_dragging_canvas",null);P(this,Ue,0);c(this,"options");c(this,"background_image");c(this,"ds");c(this,"pointer");c(this,"zoom_modify_alpha");c(this,"zoom_speed");c(this,"node_title_color");c(this,"default_link_color");c(this,"default_connection_color");c(this,"default_connection_color_byType");c(this,"default_connection_color_byTypeOff");c(this,"colourGetter",{getConnectedColor:t=>this.default_connection_color_byType[t]||this.default_connection_color.output_on,getDisconnectedColor:t=>this.default_connection_color_byTypeOff[t]||this.default_connection_color_byType[t]||this.default_connection_color.output_off});c(this,"highquality_render");c(this,"use_gradients");c(this,"editor_alpha");c(this,"pause_rendering");c(this,"clear_background");c(this,"clear_background_color");c(this,"render_only_selected");c(this,"show_info");c(this,"allow_dragcanvas");c(this,"allow_dragnodes");c(this,"allow_interaction");c(this,"multi_select");c(this,"allow_searchbox");c(this,"allow_reconnect_links");c(this,"align_to_grid");c(this,"drag_mode");c(this,"dragging_rectangle");c(this,"filter");c(this,"set_canvas_dirty_on_mouse_event");c(this,"always_render_background");c(this,"render_shadows");c(this,"render_canvas_border");c(this,"render_connections_shadows");c(this,"render_connections_border");c(this,"render_curved_connections");c(this,"render_connection_arrows");c(this,"render_collapsed_slots");c(this,"render_execution_order");c(this,"render_link_tooltip");c(this,"linkMarkerShape",Re.Circle);c(this,"links_render_mode");c(this,"low_quality_zoom_threshold",.6);c(this,"mouse");c(this,"graph_mouse");c(this,"canvas_mouse");c(this,"onSearchBox");c(this,"onSearchBoxSelection");c(this,"onMouse");c(this,"onDrawBackground");c(this,"onDrawForeground");c(this,"connections_width");c(this,"current_node");c(this,"node_widget");c(this,"over_link_center");c(this,"last_mouse_position");c(this,"visible_area");c(this,"renderedPaths",new Set);c(this,"visible_links",[]);c(this,"connecting_links");c(this,"linkConnector",new _o(t=>this.connecting_links=t));c(this,"viewport");c(this,"autoresize");c(this,"frame",0);c(this,"last_draw_time",0);c(this,"render_time",0);c(this,"fps",0);c(this,"selected_nodes",{});c(this,"selectedItems",new Set);c(this,"resizingGroup",null);c(this,"selected_group",null);c(this,"visible_nodes",[]);P(this,ki,new Set);c(this,"node_over");c(this,"node_capturing_input");c(this,"highlighted_links",{});P(this,Ce,new Set);c(this,"dirty_canvas",!0);c(this,"dirty_bgcanvas",!0);c(this,"dirty_nodes",new Map);c(this,"dirty_area");c(this,"node_in_panel");c(this,"last_mouse",[0,0]);c(this,"last_mouseclick",0);c(this,"graph");c(this,"canvas");c(this,"bgcanvas");c(this,"ctx");c(this,"_events_binded");c(this,"bgctx");c(this,"is_rendering");c(this,"block_click");c(this,"last_click_position");c(this,"resizing_node");c(this,"selected_group_resizing");c(this,"last_mouse_dragging");c(this,"onMouseDown");c(this,"_highlight_pos");c(this,"_highlight_input");c(this,"node_panel");c(this,"options_panel");c(this,"_bg_img");c(this,"_pattern");c(this,"_pattern_img");c(this,"prompt_box");c(this,"search_box");c(this,"SELECTED_NODE");c(this,"NODEPANEL_IS_OPEN");P(this,ge);P(this,bi,!1);c(this,"dragZoomEnabled",!1);P(this,ht,null);c(this,"onClear");c(this,"onNodeMoved");c(this,"onSelectionChange");c(this,"onDrawLinkTooltip");c(this,"onDrawOverlay");c(this,"onRenderBackground");c(this,"onNodeDblClicked");c(this,"onShowNodePanel");c(this,"onNodeSelected");c(this,"onNodeDeselected");c(this,"onRender");n||(n={}),this.options=n,this.background_image=C.DEFAULT_BACKGROUND_IMAGE,this.ds=new nn(t),this.pointer=new uo(t),this.linkConnector.events.addEventListener("link-created",()=>T(this,O,Te).call(this)),this.linkConnector.events.addEventListener("reset",()=>{this.connecting_links=null,this.dirty_bgcanvas=!0}),this.linkConnector.events.addEventListener("dropped-on-canvas",o=>{if(!this.connecting_links)return;let s=o.detail;this.emitEvent({subType:"empty-release",originalEvent:s,linkReleaseContext:{links:this.connecting_links}});let a=this.linkConnector.renderLinks[0];if(m.release_link_on_empty_shows_menu){let _=this.linkConnector.state.connectingTo==="input"?{node_from:a.node,slot_from:a.fromSlot,type_filter_in:a.fromSlot.type}:{node_to:a.node,slot_to:a.fromSlot,type_filter_out:a.fromSlot.type},l=a.fromReroute?.id;"shiftKey"in s&&s.shiftKey?this.allow_searchbox&&this.showSearchBox(s,_):this.linkConnector.state.connectingTo==="input"?this.showConnectionMenu({nodeFrom:a.node,slotFrom:a.fromSlot,e:s,afterRerouteId:l}):this.showConnectionMenu({nodeTo:a.node,slotTo:a.fromSlot,e:s,afterRerouteId:l})}}),this.zoom_modify_alpha=!0,this.zoom_speed=1.1,this.node_title_color=m.NODE_TITLE_COLOR,this.default_link_color=m.LINK_COLOR,this.default_connection_color={input_off:"#778",input_on:"#7F7",output_off:"#778",output_on:"#7F7"},this.default_connection_color_byType={},this.default_connection_color_byTypeOff={},this.highquality_render=!0,this.use_gradients=!1,this.editor_alpha=1,this.pause_rendering=!1,this.clear_background=!0,this.clear_background_color="#222",this.render_only_selected=!0,this.show_info=!0,this.allow_dragcanvas=!0,this.allow_dragnodes=!0,this.allow_interaction=!0,this.multi_select=!1,this.allow_searchbox=!0,this.allow_reconnect_links=!0,this.align_to_grid=!1,this.drag_mode=!1,this.dragging_rectangle=null,this.filter=null,this.set_canvas_dirty_on_mouse_event=!0,this.always_render_background=!1,this.render_shadows=!0,this.render_canvas_border=!0,this.render_connections_shadows=!1,this.render_connections_border=!0,this.render_curved_connections=!1,this.render_connection_arrows=!1,this.render_collapsed_slots=!0,this.render_execution_order=!1,this.render_link_tooltip=!0,this.links_render_mode=pe.SPLINE_LINK,this.mouse=[0,0],this.graph_mouse=[0,0],this.canvas_mouse=this.graph_mouse,this.connections_width=3,this.current_node=null,this.node_widget=null,this.last_mouse_position=[0,0],this.visible_area=this.ds.visible_area,this.connecting_links=null,this.viewport=n.viewport||null,this.graph=i,i?.attachCanvas(this),this.canvas=void 0,this.bgcanvas=void 0,this.ctx=void 0,this.setCanvas(t,n.skip_events),this.clear(),C._measureText=(o,s=this.inner_text_font)=>{let{ctx:a}=this,{font:_}=a;try{return a.font=s,a.measureText(o).width}finally{a.font=_}},n.skip_render||this.startRendering(),this.autoresize=n.autoresize}get subgraph(){return w(this,ft)}set subgraph(t){t!==w(this,ft)&&(B(this,ft,t),t&&this.dispatch("litegraph:set-graph",{oldGraph:w(this,ft),newGraph:t}))}dispatch(t,i){let n=new CustomEvent(t,{detail:i,bubbles:!0});return this.canvas.dispatchEvent(n)}dispatchEvent(t,i){this.canvas.dispatchEvent(new CustomEvent(t,{detail:i}))}get read_only(){return this.state.readOnly}set read_only(t){this.state.readOnly=t,T(this,O,zi).call(this)}get isDragging(){return this.state.draggingItems}set isDragging(t){this.state.draggingItems=t}get hoveringOver(){return this.state.hoveringOver}set hoveringOver(t){this.state.hoveringOver=t,T(this,O,zi).call(this)}get pointer_is_down(){return this.pointer.isDown}get pointer_is_double(){return this.pointer.isDouble}get dragging_canvas(){return this.state.draggingCanvas}set dragging_canvas(t){this.state.draggingCanvas=t,T(this,O,zi).call(this)}get title_text_font(){return`${m.NODE_TEXT_SIZE}px ${m.NODE_FONT}`}get inner_text_font(){return`normal ${m.NODE_SUBTEXT_SIZE}px ${m.NODE_FONT}`}get maximumFps(){return w(this,Ue)>Number.EPSILON?w(this,Ue)/1e3:0}set maximumFps(t){B(this,Ue,t>Number.EPSILON?1e3/t:0)}get round_radius(){return m.ROUND_RADIUS}set round_radius(t){m.ROUND_RADIUS=t}get low_quality(){return this.ds.scale<this.low_quality_zoom_threshold}get _graph(){if(!this.graph)throw new R;return this.graph}static onGroupAdd(t,i,n){let o=C.active_canvas,s=new m.LGraphGroup;if(s.pos=o.convertEventToCanvasOffset(n),!o.graph)throw new R;o.graph.add(s)}static getBoundaryNodes(t){let i=Array.isArray(t)?t:Object.values(t);return Rs(i)??{top:null,right:null,bottom:null,left:null}}static alignNodes(t,i,n){jn(Object.values(t),i,n),C.active_canvas.setDirty(!0,!0)}static onNodeAlign(t,i,n,o,s){new m.ContextMenu(["Top","Bottom","Left","Right"],{event:n,callback:a,parentMenu:o});function a(_){jn(Object.values(C.active_canvas.selected_nodes),_.toLowerCase(),s),C.active_canvas.setDirty(!0,!0)}}static onGroupAlign(t,i,n,o){new m.ContextMenu(["Top","Bottom","Left","Right"],{event:n,callback:s,parentMenu:o});function s(a){jn(Object.values(C.active_canvas.selected_nodes),a.toLowerCase()),C.active_canvas.setDirty(!0,!0)}}static createDistributeMenu(t,i,n,o){new m.ContextMenu(["Vertically","Horizontally"],{event:n,callback:s,parentMenu:o});function s(a){let _=C.active_canvas;kr(Object.values(_.selected_nodes),a==="Horizontally"),_.setDirty(!0,!0)}}static onMenuAdd(t,i,n,o,s){let a=C.active_canvas,_=a.getCanvasWindow(),{graph:l}=a;if(!l)return;return d("",o),!1;function d(u,p){if(!l)return;let f=m.getNodeTypesCategories(a.filter||l.filter).filter(k=>k.startsWith(u)),h=[];for(let k of f){if(!k)continue;let b=new RegExp(`^(${u})`),y=k.replace(b,"").split("/",1)[0],E=u===""?`${y}/`:`${u}${y}/`,A=y;A.includes("::")&&(A=A.split("::",2)[1]),h.findIndex(N=>N.value===E)===-1&&h.push({value:E,content:A,has_submenu:!0,callback:function(N,S,j,I){d(N.value,I)}})}let g=m.getNodeTypesInCategory(u.slice(0,-1),a.filter||l.filter);for(let k of g){if(k.skip_list)continue;let b={value:k.type,content:k.title,has_submenu:!1,callback:function(y,E,A,L){if(!a.graph)throw new R;let N=L.getFirstEvent();a.graph.beforeChange();let S=m.createNode(y.value);if(S){if(!N)throw new TypeError("Context menu event was null. This should not occur in normal usage.");S.pos=a.convertEventToCanvasOffset(N),a.graph.add(S)}else console.warn("Failed to create node of type:",y.value);s?.(S),a.graph.afterChange()}};h.push(b)}new m.ContextMenu(h,{event:n,parentMenu:p},_)}}static onMenuCollapseAll(){}static onMenuNodeEdit(){}static showMenuNodeOptionalOutputs(t,i,n,o,s){if(!s)return;let a=C.active_canvas,_=[];m.do_add_triggers_slots&&s.findOutputSlot("onExecuted")==-1&&_.push({content:"On Executed",value:["onExecuted",m.EVENT,{nameLocked:!0}],className:"event"});let l=s.onMenuNodeOutputs?.(_);if(l&&(_=l),!_.length)return;new m.ContextMenu(_,{event:n,callback:d,parentMenu:o,node:s});function d(u,p,f){if(!s||(u.callback&&u.callback.call(this,s,u,p,f),!u.value))return;let h=u.value[1];if(h&&(typeof h=="object"||Array.isArray(h))){let k=[];for(let b in h)k.push({content:b,value:h[b]});return new m.ContextMenu(k,{event:p,callback:d,parentMenu:o,node:s}),!1}let{graph:g}=s;if(!g)throw new R;g.beforeChange(),s.addOutput(u.value[0],u.value[1],u.value[2]),s.onNodeOutputAdd?.(u.value),a.setDirty(!0,!0),g.afterChange()}return!1}static onShowMenuNodeProperties(t,i,n,o,s){if(!s||!s.properties)return;let a=C.active_canvas,_=a.getCanvasWindow(),l=[];for(let u in s.properties){t=s.properties[u]!==void 0?s.properties[u]:" ",typeof t=="object"&&(t=JSON.stringify(t));let p=s.getPropertyInfo(u);(p.type=="enum"||p.type=="combo")&&(t=C.getPropertyPrintableValue(t,p.values)),t=C.decodeHTML(io(t)),l.push({content:`<span class='property_name'>${p.label||u}</span><span class='property_value'>${t}</span>`,value:u})}if(!l.length)return;new m.ContextMenu(l,{event:n,callback:d,parentMenu:o,allow_html:!0,node:s},_);function d(u){if(!s)return;let p=this.getBoundingClientRect();a.showEditPropertyValue(s,u.value,{position:[p.left,p.top]})}return!1}static decodeHTML(t){let i=document.createElement("div");return i.textContent=t,i.innerHTML}static onMenuResizeNode(t,i,n,o,s){if(!s)return;let a=function(l){l.setSize(l.computeSize())},_=C.active_canvas;if(!_.selected_nodes||Object.keys(_.selected_nodes).length<=1)a(s);else for(let l in _.selected_nodes)a(_.selected_nodes[l]);_.setDirty(!0,!0)}static onShowPropertyEditor(t,i,n,o,s){let a=t.property||"title",_=s[a],l=document.createElement("span");l.className="name",l.textContent=a;let d=document.createElement("input");Object.assign(d,{type:"text",className:"value",autofocus:!0});let u=document.createElement("button");u.textContent="OK";let p=Object.assign(document.createElement("div"),{is_modified:!1,className:"graphdialog",close:()=>p.remove()});p.append(l,d,u),d.value=String(_),d.addEventListener("blur",function(){this.focus()}),d.addEventListener("keydown",L=>{if(p.is_modified=!0,L.key=="Escape")p.close();else if(L.key=="Enter")E();else if(!L.target||!("localName"in L.target)||L.target.localName!="textarea")return;L.preventDefault(),L.stopPropagation()});let f=C.active_canvas,h=f.canvas,g=h.getBoundingClientRect(),k=g?-20-g.left:-20,b=g?-20-g.top:-20;if(n?(p.style.left=`${n.clientX+k}px`,p.style.top=`${n.clientY+b}px`):(p.style.left=`${h.width*.5+k}px`,p.style.top=`${h.height*.5+b}px`),u.addEventListener("click",E),h.parentNode==null)throw new TypeError("canvasEl.parentNode was null");h.parentNode.append(p),d.focus();let y;p.addEventListener("mouseleave",function(){m.dialog_close_on_mouse_leave&&!p.is_modified&&m.dialog_close_on_mouse_leave&&(y=setTimeout(p.close,m.dialog_close_on_mouse_leave_delay))}),p.addEventListener("mouseenter",function(){m.dialog_close_on_mouse_leave&&y&&clearTimeout(y)});function E(){d&&A(d.value)}function A(L){t.type=="Number"?L=Number(L):t.type=="Boolean"&&(L=!!L),s[a]=L,p.remove(),f.setDirty(!0,!0)}}static getPropertyPrintableValue(t,i){if(!i||Array.isArray(i))return String(t);if(typeof i=="object"){let n="";for(let o in i)if(i[o]==t){n=o;break}return`${String(t)} (${n})`}}static onMenuNodeCollapse(t,i,n,o,s){if(!s.graph)throw new R;s.graph.beforeChange();let a=function(l){l.collapse()},_=C.active_canvas;if(!_.selected_nodes||Object.keys(_.selected_nodes).length<=1)a(s);else for(let l in _.selected_nodes)a(_.selected_nodes[l]);s.graph.afterChange()}static onMenuToggleAdvanced(t,i,n,o,s){if(!s.graph)throw new R;s.graph.beforeChange();let a=function(l){l.toggleAdvanced()},_=C.active_canvas;if(!_.selected_nodes||Object.keys(_.selected_nodes).length<=1)a(s);else for(let l in _.selected_nodes)a(_.selected_nodes[l]);s.graph.afterChange()}static onMenuNodeMode(t,i,n,o,s){new m.ContextMenu(m.NODE_MODES,{event:n,callback:a,parentMenu:o,node:s});function a(_){if(!s)return;let l=Object.values(m.NODE_MODES).indexOf(_),d=function(p){l!==-1&&m.NODE_MODES[l]?p.changeMode(l):(console.warn(`unexpected mode: ${_}`),p.changeMode(te.ALWAYS))},u=C.active_canvas;if(!u.selected_nodes||Object.keys(u.selected_nodes).length<=1)d(s);else for(let p in u.selected_nodes)d(u.selected_nodes[p])}return!1}static onMenuNodeColors(t,i,n,o,s){if(!s)throw"no node for color";let a=[];a.push({value:null,content:"<span style='display: block; padding-left: 4px;'>No color</span>"});for(let l in C.node_colors){let d=C.node_colors[l];t={value:l,content:`<span style='display: block; color: #999; padding-left: 4px; border-left: 8px solid ${d.color}; background-color:${d.bgcolor}'>${l}</span>`},a.push(t)}new m.ContextMenu(a,{event:n,callback:_,parentMenu:o,node:s});function _(l){if(!s)return;let d=function(p){let f=l.value?C.node_colors[l.value]:null;p.setColorOption(f)},u=C.active_canvas;if(!u.selected_nodes||Object.keys(u.selected_nodes).length<=1)d(s);else for(let p in u.selected_nodes)d(u.selected_nodes[p]);u.setDirty(!0,!0)}return!1}static onMenuNodeShapes(t,i,n,o,s){if(!s)throw"no node passed";new m.ContextMenu(m.VALID_SHAPES,{event:n,callback:a,parentMenu:o,node:s});function a(_){if(!s)return;if(!s.graph)throw new R;s.graph.beforeChange();let l=function(u){u.shape=_},d=C.active_canvas;if(!d.selected_nodes||Object.keys(d.selected_nodes).length<=1)l(s);else for(let u in d.selected_nodes)l(d.selected_nodes[u]);s.graph.afterChange(),d.setDirty(!0)}return!1}static onMenuNodeRemove(){C.active_canvas.deleteSelected()}static onMenuNodeClone(t,i,n,o,s){let{graph:a}=s;if(!a)throw new R;a.beforeChange();let _=new Set,l=function(u,p){if(u.clonable===!1)return;let f=u.clone();if(f){if(f.pos=[u.pos[0]+5,u.pos[1]+5],!u.graph)throw new R;u.graph.add(f),p.add(f)}},d=C.active_canvas;if(!d.selected_nodes||Object.keys(d.selected_nodes).length<=1)l(s,_);else for(let u in d.selected_nodes)l(d.selected_nodes[u],_);_.size&&d.selectNodes([..._]),a.afterChange(),d.setDirty(!0,!0)}clear(){this.frame=0,this.last_draw_time=0,this.render_time=0,this.fps=0,this.dragging_rectangle=null,this.selected_nodes={},this.selected_group=null,this.selectedItems.clear(),this.state.selectionChanged=!0,this.onSelectionChange?.(this.selected_nodes),this.visible_nodes=[],this.node_over=void 0,this.node_capturing_input=null,this.connecting_links=null,this.highlighted_links={},this.dragging_canvas=!1,T(this,O,Te).call(this),this.dirty_area=null,this.node_in_panel=null,this.node_widget=null,this.last_mouse=[0,0],this.last_mouseclick=0,this.pointer.reset(),this.visible_area.set([0,0,0,0]),this.onClear?.()}setGraph(t){let{graph:i}=this;t!==i&&(this.clear(),t.attachCanvas(this),this.dispatch("litegraph:set-graph",{newGraph:t,oldGraph:i}),T(this,O,Te).call(this))}openSubgraph(t){let{graph:i}=this;if(!i)throw new R;let n={bubbles:!0,detail:{subgraph:t,closingGraph:i},cancelable:!0};this.canvas.dispatchEvent(new CustomEvent("subgraph-opening",n))&&(this.clear(),this.subgraph=t,this.setGraph(t),this.canvas.dispatchEvent(new CustomEvent("subgraph-opened",n)))}getCurrentGraph(){return this.graph}setCanvas(t,i){let n=T(this,O,Fs).call(this,t);if(n===this.canvas||(!n&&this.canvas&&!i&&this.unbindEvents(),this.canvas=n,this.ds.element=n,this.pointer.element=n,!n))return;n.className+=" lgraphcanvas",n.data=this,this.bgcanvas=document.createElement("canvas"),this.bgcanvas.width=this.canvas.width,this.bgcanvas.height=this.canvas.height;let o=n.getContext?.("2d");if(o==null)throw n.localName!="canvas"?`Element supplied for LGraphCanvas must be a <canvas> element, you passed a ${n.localName}`:"This browser doesn't support Canvas";this.ctx=o,i||this.bindEvents()}_doNothing(t){return t.preventDefault(),!1}_doReturnTrue(t){return t.preventDefault(),!0}bindEvents(){if(this._events_binded){console.warn("LGraphCanvas: events already bound");return}let{canvas:t}=this,{document:i}=this.getCanvasWindow();this._mousedown_callback=this.processMouseDown.bind(this),this._mousewheel_callback=this.processMouseWheel.bind(this),this._mousemove_callback=this.processMouseMove.bind(this),this._mouseup_callback=this.processMouseUp.bind(this),this._mouseout_callback=this.processMouseOut.bind(this),this._mousecancel_callback=this.processMouseCancel.bind(this),t.addEventListener("pointerdown",this._mousedown_callback,!0),t.addEventListener("wheel",this._mousewheel_callback,!1),t.addEventListener("pointerup",this._mouseup_callback,!0),t.addEventListener("pointermove",this._mousemove_callback),t.addEventListener("pointerout",this._mouseout_callback),t.addEventListener("pointercancel",this._mousecancel_callback,!0),t.addEventListener("contextmenu",this._doNothing),this._key_callback=this.processKey.bind(this),t.addEventListener("keydown",this._key_callback,!0),i.addEventListener("keyup",this._key_callback,!0),t.addEventListener("dragover",this._doNothing,!1),t.addEventListener("dragend",this._doNothing,!1),t.addEventListener("dragenter",this._doReturnTrue,!1),this._events_binded=!0}unbindEvents(){if(!this._events_binded){console.warn("LGraphCanvas: no events bound");return}let{document:t}=this.getCanvasWindow(),{canvas:i}=this;i.removeEventListener("pointercancel",this._mousecancel_callback),i.removeEventListener("pointerout",this._mouseout_callback),i.removeEventListener("pointermove",this._mousemove_callback),i.removeEventListener("pointerup",this._mouseup_callback),i.removeEventListener("pointerdown",this._mousedown_callback),i.removeEventListener("wheel",this._mousewheel_callback),i.removeEventListener("keydown",this._key_callback),t.removeEventListener("keyup",this._key_callback),i.removeEventListener("contextmenu",this._doNothing),i.removeEventListener("dragenter",this._doReturnTrue),this._mousedown_callback=void 0,this._mousewheel_callback=void 0,this._key_callback=void 0,this._events_binded=!1}setDirty(t,i){t&&(this.dirty_canvas=!0),i&&(this.dirty_bgcanvas=!0)}getCanvasWindow(){if(!this.canvas)return window;let t=this.canvas.ownerDocument;return t.defaultView||t.parentWindow}startRendering(){if(this.is_rendering)return;this.is_rendering=!0,t.call(this);function t(){this.pause_rendering||this.draw();let i=this.getCanvasWindow();if(this.is_rendering)if(w(this,Ue)>0){let n=w(this,Ue)-(m.getTime()-this.last_draw_time);setTimeout(t.bind(this),Math.max(1,n))}else i.requestAnimationFrame(t.bind(this))}}stopRendering(){this.is_rendering=!1}blockClick(){this.block_click=!0,this.last_mouseclick=0}getWidgetAtCursor(t){return t??(t=this.node_over),t?.getWidgetOnPos(this.graph_mouse[0],this.graph_mouse[1],!0)}updateMouseOverNodes(t,i){if(!this.graph)throw new R;let{pointer:n}=this,o=this.graph._nodes;for(let s of o)s.mouseOver&&t!=s&&(n.eDown||(n.resizeDirection=void 0),s.mouseOver=void 0,this._highlight_input=void 0,this._highlight_pos=void 0,this.linkConnector.overWidget=void 0,s.lostFocusAt=m.getTime(),this.node_over?.onMouseLeave?.(i),this.node_over=void 0,this.dirty_canvas=!0)}processMouseDown(t){if(this.dragZoomEnabled&&t.ctrlKey&&t.shiftKey&&!t.altKey&&t.buttons){B(this,ht,{pos:[t.x,t.y],scale:this.ds.scale});return}let{graph:i,pointer:n}=this;if(this.adjustMouseEvent(t),t.isPrimary&&n.down(t),this.set_canvas_dirty_on_mouse_event&&(this.dirty_canvas=!0),!i)return;let o=this.getCanvasWindow();C.active_canvas=this;let s=t.clientX,a=t.clientY;if(this.ds.viewport=this.viewport,!(!this.viewport||Vi(s,a,this.viewport)))return;let l=i.getNodeOnPos(t.canvasX,t.canvasY,this.visible_nodes)??void 0;if(this.mouse[0]=s,this.mouse[1]=a,this.graph_mouse[0]=t.canvasX,this.graph_mouse[1]=t.canvasY,this.last_click_position=[this.mouse[0],this.mouse[1]],n.isDouble=n.isDown&&t.isPrimary,n.isDown=!0,this.canvas.focus(),m.closeAllContextMenus(o),this.onMouse?.(t)!=!0){if(t.button===0&&!n.isDouble)T(this,O,js).call(this,t,l);else if(t.button===1)T(this,O,zs).call(this,t,l);else if((t.button===2||n.isDouble)&&this.allow_interaction&&!this.read_only){let{linkConnector:d,subgraph:u}=this;if(u?.inputNode.containsPoint(this.graph_mouse))this.processSelect(u.inputNode,t,!0),u.inputNode.onPointerDown(t,n,d);else if(u?.outputNode.containsPoint(this.graph_mouse))this.processSelect(u.outputNode,t,!0),u.outputNode.onPointerDown(t,n,d);else{if(l)this.processSelect(l,t,!0);else if(this.links_render_mode!==pe.HIDDEN_LINK){let p=i.getRerouteOnPos(t.canvasX,t.canvasY,w(this,Ce));p&&(t.altKey?n.onClick=f=>{f.altKey&&(p.selected&&(this.deselect(p),this.onSelectionChange?.(this.selected_nodes)),p.remove())}:this.processSelect(p,t,!0))}n.onClick??(n.onClick=()=>this.processContextMenu(l,t))}}this.last_mouse=[s,a],this.last_mouseclick=m.getTime(),this.last_mouse_dragging=!0,i.change(),(!o.document.activeElement||o.document.activeElement.nodeName.toLowerCase()!="input"&&o.document.activeElement.nodeName.toLowerCase()!="textarea")&&t.preventDefault(),t.stopPropagation(),this.onMouseDown?.(t)}}processMouseMove(t){if(this.dragZoomEnabled&&t.ctrlKey&&t.shiftKey&&w(this,ht)){T(this,O,Vs).call(this,t);return}this.autoresize&&this.resize(),this.set_canvas_dirty_on_mouse_event&&(this.dirty_canvas=!0);let{graph:i,resizingGroup:n,linkConnector:o,pointer:s,subgraph:a}=this;if(!i)return;C.active_canvas=this,this.adjustMouseEvent(t);let _=[t.clientX,t.clientY];this.mouse[0]=_[0],this.mouse[1]=_[1];let l=[_[0]-this.last_mouse[0],_[1]-this.last_mouse[1]];this.last_mouse=_;let{canvasX:d,canvasY:u}=t;this.graph_mouse[0]=d,this.graph_mouse[1]=u,t.isPrimary&&s.move(t);let p=ae.Nothing;if(a&&(p|=a.inputNode.onPointerMove(t),p|=a.outputNode.onPointerMove(t)),this.block_click){t.preventDefault();return}if(t.dragging=this.last_mouse_dragging,this.node_widget){let[g,k]=this.node_widget;if(k?.mouse){let b=d-g.pos[0],y=u-g.pos[1],E=k.mouse(t,[b,y],g);E!=null&&(this.dirty_canvas=E)}}let f=i.getNodeOnPos(d,u,this.visible_nodes),h=this.dragging_rectangle;if(h)h[2]=d-h[0],h[3]=u-h[1],this.dirty_canvas=!0;else if(n)p|=ae.Group,s.resizeDirection="SE";else if(this.dragging_canvas)this.ds.offset[0]+=l[0]/this.ds.scale,this.ds.offset[1]+=l[1]/this.ds.scale,T(this,O,Te).call(this);else if((this.allow_interaction||f?.flags.allow_interaction)&&!this.read_only){if(o.isConnecting&&(this.dirty_canvas=!0),this.updateMouseOverNodes(f,t),f){p|=ae.Node,f.redraw_on_mouse&&(this.dirty_canvas=!0);let g=[0,0],k=rr(f,d,u,g),b=_r(f,d,u,g),y=f.getWidgetOnPos(d,u,!0)??void 0;if(!f.mouseOver){f.mouseOver={},this.node_over=f,this.dirty_canvas=!0;for(let A of w(this,Ce))A.hideSlots(),this.dirty_bgcanvas=!0;f.onMouseEnter?.(t)}f.onMouseMove?.(t,[d-f.pos[0],u-f.pos[1]],this);let{mouseOver:E}=f;if(E.inputId!==k||E.outputId!==b||E.overWidget!==y){if(E.inputId=k,E.outputId=b,E.overWidget=y,o.overWidget=void 0,o.isConnecting){let A=o.renderLinks.at(0),L,N;if(!(!A||!o.isNodeValidDrop(f))){if(o.state.connectingTo==="input"){if(y){let S=f.getSlotFromWidget(y);S&&o.isInputValidDrop(f,S)&&(N=S,L=f.getInputSlotPos(S),o.overWidget=y)}if(!o.overWidget){if(k===-1&&b===-1){let S=f.findInputByType(A.fromSlot.type);S&&(N=S.slot,L=f.getInputSlotPos(S.slot))}else k!=-1&&f.inputs[k]&&m.isValidConnection(A.fromSlot.type,f.inputs[k].type)&&(L=g,N=f.inputs[k]);if(N){let S=f.getWidgetFromSlot(N);S&&(o.overWidget=S)}}}else if(o.state.connectingTo==="output")if(k===-1&&b===-1){let S=f.findOutputByType(A.fromSlot.type);S&&(L=f.getOutputPos(S.index))}else b!=-1&&f.outputs[b]&&m.isValidConnection(A.fromSlot.type,f.outputs[b].type)&&(L=g)}this._highlight_pos=L,this._highlight_input=N}this.dirty_canvas=!0}s.eDown||(k===-1&&b===-1&&!y?s.resizeDirection=f.findResizeDirection(d,u):s.resizeDirection&&(s.resizeDirection=void 0))}else{p=T(this,O,Hs).call(this,p);let g=T(this,O,Xs).call(this,t);if(this.over_link_center!==g&&(p|=ae.Link,this.over_link_center=g,this.dirty_bgcanvas=!0),this.canvas){let k=i.getGroupOnPos(d,u);k&&!t.ctrlKey&&!this.read_only&&k.isInResize(d,u)?s.resizeDirection="SE":s.resizeDirection&&(s.resizeDirection=void 0)}}if(this.node_capturing_input&&this.node_capturing_input!=f&&this.node_capturing_input.onMouseMove?.(t,[d-this.node_capturing_input.pos[0],u-this.node_capturing_input.pos[1]],this),this.isDragging){let g=this.selectedItems,k=t.ctrlKey?g:Ls(g),b=l[0]/this.ds.scale,y=l[1]/this.ds.scale;for(let E of k)E.move(b,y,!0);T(this,O,Te).call(this)}}this.hoveringOver=p,t.preventDefault()}processMouseUp(t){if(t.isPrimary===!1)return;let{graph:i,pointer:n}=this;if(!i)return;C.active_canvas=this,this.adjustMouseEvent(t);let o=m.getTime();if(t.click_time=o-this.last_mouseclick,n.up(t)===!0){n.isDown=!1,n.isDouble=!1,this.connecting_links=null,this.dragging_canvas=!1,i.change(),t.stopPropagation(),t.preventDefault();return}if(this.last_mouse_dragging=!1,this.last_click_position=null,this.block_click&&(this.block_click=!1),t.button===0){this.selected_group=null,this.isDragging=!1;let a=t.canvasX,_=t.canvasY;this.linkConnector.isConnecting||(this.dirty_canvas=!0,this.node_over?.onMouseUp?.(t,[a-this.node_over.pos[0],_-this.node_over.pos[1]],this),this.node_capturing_input?.onMouseUp?.(t,[a-this.node_capturing_input.pos[0],_-this.node_capturing_input.pos[1]]))}else t.button===1?(this.dirty_canvas=!0,this.dragging_canvas=!1):t.button===2&&(this.dirty_canvas=!0);n.isDown=!1,n.isDouble=!1,i.change(),t.stopPropagation(),t.preventDefault()}processMouseOut(t){this.adjustMouseEvent(t),this.updateMouseOverNodes(null,t)}processMouseCancel(){console.warn("Pointer cancel!"),this.pointer.reset()}processMouseWheel(t){if(!this.graph||!this.allow_dragcanvas)return;let i=t.wheelDeltaY??t.detail*-60;this.adjustMouseEvent(t);let n=[t.clientX,t.clientY];if(this.viewport&&!qt(n,this.viewport))return;let{scale:o}=this.ds;m.canvasNavigationMode==="legacy"||m.canvasNavigationMode==="standard"&&t.ctrlKey?(i>0?o*=this.zoom_speed:i<0&&(o*=1/this.zoom_speed),this.ds.changeScale(o,[t.clientX,t.clientY])):m.macTrackpadGestures&&(!m.macGesturesRequireMac||navigator.userAgent.includes("Mac"))&&(t.metaKey&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?(t.deltaY>0?o*=1/this.zoom_speed:t.deltaY<0&&(o*=this.zoom_speed),this.ds.changeScale(o,[t.clientX,t.clientY])):t.ctrlKey?(o*=1+t.deltaY*(1-this.zoom_speed)*.18,this.ds.changeScale(o,[t.clientX,t.clientY],!1)):t.shiftKey?this.ds.offset[0]-=t.deltaY*1.18*(1/o):(this.ds.offset[0]-=t.deltaX*1.18*(1/o),this.ds.offset[1]-=t.deltaY*1.18*(1/o))),this.graph.change(),t.preventDefault()}processKey(t){B(this,bi,t.shiftKey);let{graph:i}=this;if(!i)return;let n=!1;if(t.target.localName!="input"){if(t.type=="keydown"){if(t.key===" ")this.read_only=!0,this._previously_dragging_canvas===null&&(this._previously_dragging_canvas=this.dragging_canvas),this.dragging_canvas=this.pointer.isDown,n=!0;else if(t.key==="Escape"){if(this.linkConnector.isConnecting){this.linkConnector.reset(),t.preventDefault();return}this.node_panel?.close(),this.options_panel?.close(),(this.node_panel||this.options_panel)&&(n=!0)}else if(t.keyCode===65&&t.ctrlKey)this.selectItems(),n=!0;else if(t.keyCode===67&&(t.metaKey||t.ctrlKey)&&!t.shiftKey)this.selected_nodes&&(this.copyToClipboard(),n=!0);else if(t.keyCode===86&&(t.metaKey||t.ctrlKey))this.pasteFromClipboard({connectInputs:t.shiftKey});else if((t.key==="Delete"||t.key==="Backspace")&&t.target.localName!="input"&&t.target.localName!="textarea"){if(this.selectedItems.size===0){T(this,O,Us).call(this);return}this.deleteSelected(),n=!0}for(let o of Object.values(this.selected_nodes))o.onKeyDown?.(t)}else if(t.type=="keyup"){t.key===" "&&(this.read_only=!1,this.dragging_canvas=(this._previously_dragging_canvas??!1)&&this.pointer.isDown,this._previously_dragging_canvas=null);for(let o of Object.values(this.selected_nodes))o.onKeyUp?.(t)}i.change(),n&&(t.preventDefault(),t.stopImmediatePropagation())}}copyToClipboard(t){let i={nodes:[],groups:[],reroutes:[],links:[],subgraphs:[]},n=new Set;for(let o of t??this.selectedItems)if(o instanceof oe){if(o.clonable===!1)continue;let s=o.clone()?.serialize();if(!s)continue;if(s.id=o.id,i.nodes.push(s),o.inputs)for(let{link:a}of o.inputs){if(a==null)continue;let _=this.graph?._links.get(a)?.asSerialisable();_&&i.links.push(_)}o instanceof Yt&&n.add(o.subgraph)}else o instanceof Me?i.groups.push(o.serialize()):o instanceof _e&&i.reroutes.push(o.asSerialisable());for(let o of n){let s=o.clone(!0).asSerialisable();i.subgraphs.push(s)}localStorage.setItem("litegrapheditor_clipboard",JSON.stringify(i))}emitEvent(t){this.canvas.dispatchEvent(new CustomEvent("litegraph:canvas",{bubbles:!0,detail:t}))}emitBeforeChange(){this.emitEvent({subType:"before-change"})}emitAfterChange(){this.emitEvent({subType:"after-change"})}_pasteFromClipboard(t={}){let{connectInputs:i=!1,position:n=this.graph_mouse}=t;if(!m.ctrl_shift_v_paste_connect_unselected_outputs&&i)return;let o=localStorage.getItem("litegrapheditor_clipboard");if(!o)return;let{graph:s}=this;if(!s)throw new R;s.beforeChange();let a=JSON.parse(o);a.nodes??(a.nodes=[]),a.groups??(a.groups=[]),a.reroutes??(a.reroutes=[]),a.links??(a.links=[]),a.subgraphs??(a.subgraphs=[]);let _=1/0,l=1/0;for(let g of[...a.nodes,...a.reroutes]){if(g.pos==null)throw new TypeError("Invalid node encounterd on paste.  `pos` was null.");g.pos[0]<_&&(_=g.pos[0]),g.pos[1]<l&&(l=g.pos[1])}if(a.groups)for(let g of a.groups)g.bounding[0]<_&&(_=g.bounding[0]),g.bounding[1]<l&&(l=g.bounding[1]);let d={created:[],nodes:new Map,links:new Map,reroutes:new Map,subgraphs:new Map},{created:u,nodes:p,links:f,reroutes:h}=d;for(let g of a.subgraphs){let k=g.id;g.id=Pe();let b=s.createSubgraph(g);b.configure(g),d.subgraphs.set(k,b)}for(let g of a.groups){g.id=-1;let k=new Me;k.configure(g),s.add(k),u.push(k)}for(let g of a.nodes){let k=d.subgraphs.get(g.type);k&&(g.type=k.id);let b=g.type==null?null:m.createNode(g.type);b&&(p.set(g.id,b),g.id=-1,b.configure(g),s.add(b),u.push(b))}for(let g of a.reroutes){let{id:k,...b}=g,y=s.setReroute(b);u.push(y),h.set(k,y)}for(let g of h.values()){if(g.parentId==null)continue;let k=h.get(g.parentId);k&&(g.parentId=k.id)}for(let g of a.links){let k=p.get(g.origin_id),b;g.parentId!=null&&(b=h.get(g.parentId)?.id),i&&m.ctrl_shift_v_paste_connect_unselected_outputs&&(k??(k=s.getNodeById(g.origin_id)),b??(b=g.parentId));let y=p.get(g.target_id);if(y){let E=k?.connect(g.origin_slot,y,g.target_slot,b);E&&f.set(g.id,E)}}for(let g of h.values()){let k=[...g.linkIds].map(b=>f.get(b)?.id??b);g.update(g.parentId,void 0,k,g.floating),g.validateLinks(s.links,s.floatingLinks)||s.removeReroute(g.id)}for(let g of u)g.pos[0]+=n[0]-_,g.pos[1]+=n[1]-l;return this.selectItems(u),s.afterChange(),d}pasteFromClipboard(t={}){this.emitBeforeChange();try{this._pasteFromClipboard(t)}finally{this.emitAfterChange()}}processNodeDblClicked(t){this.onShowNodePanel?.(t),this.onNodeDblClicked?.(t),this.setDirty(!0)}processSelect(t,i,n=!1){let o=i?.shiftKey,s=i!=null&&(i.metaKey||i.ctrlKey),a=o||s,_=a||this.multi_select;if(!t)(!a||this.multi_select)&&this.deselectAll();else if(!t.selected||!this.selectedItems.has(t))_||this.deselectAll(t),this.select(t);else if(_&&!n)this.deselect(t);else if(!n)this.deselectAll(t);else return;this.onSelectionChange?.(this.selected_nodes),this.setDirty(!0)}select(t){if(!(t.selected&&this.selectedItems.has(t))&&(t.selected=!0,this.selectedItems.add(t),this.state.selectionChanged=!0,t instanceof oe)){if(t.onSelected?.(),this.selected_nodes[t.id]=t,this.onNodeSelected?.(t),t.inputs)for(let i of t.inputs)i.link!=null&&(this.highlighted_links[i.link]=!0);if(t.outputs)for(let i of t.outputs.flatMap(n=>n.links))i!=null&&(this.highlighted_links[i]=!0)}}deselect(t){if(!t.selected&&!this.selectedItems.has(t)||(t.selected=!1,this.selectedItems.delete(t),this.state.selectionChanged=!0,!(t instanceof oe)))return;t.onDeselected?.(),delete this.selected_nodes[t.id],this.onNodeDeselected?.(t);let{graph:i}=this;if(i){if(t.inputs)for(let n of t.inputs){if(n.link==null)continue;let o=H.getOriginNode(i,n.link);o&&this.selectedItems.has(o)||delete this.highlighted_links[n.link]}if(t.outputs)for(let n of t.outputs.flatMap(o=>o.links)){if(n==null)continue;let o=H.getTargetNode(i,n);o&&this.selectedItems.has(o)||delete this.highlighted_links[n]}}}processNodeSelected(t,i){this.processSelect(t,i,i&&(i.shiftKey||i.metaKey||i.ctrlKey||this.multi_select))}selectNode(t,i){t==null?this.deselectAll():this.selectNodes([t],i)}get empty(){if(!this.graph)throw new R;return this.graph.empty}get positionableItems(){if(!this.graph)throw new R;return this.graph.positionableItems()}selectItems(t,i){let n=t??this.positionableItems;i||this.deselectAll();for(let o of n)this.select(o);this.onSelectionChange?.(this.selected_nodes),this.setDirty(!0)}selectNodes(t,i){this.selectItems(t,i)}deselectNode(t){this.deselect(t)}deselectAll(t){if(!this.graph)return;let i=this.selectedItems;if(!i.size)return;let n;for(let s of i){if(s===t){n=s;continue}s.onDeselected?.(),s.selected=!1}i.clear(),n&&i.add(n),this.setDirty(!0);let o=t?.id==null?null:this.selected_nodes[t.id];if(this.selected_nodes={},this.current_node=null,this.highlighted_links={},t instanceof oe){if(o&&(this.selected_nodes[o.id]=o),t.inputs)for(let s of t.inputs)s.link!=null&&(this.highlighted_links[s.link]=!0);if(t.outputs)for(let s of t.outputs.flatMap(a=>a.links))s!=null&&(this.highlighted_links[s]=!0)}this.state.selectionChanged=!0,this.onSelectionChange?.(this.selected_nodes)}deselectAllNodes(){this.deselectAll()}deleteSelected(){let{graph:t}=this;if(!t)throw new R;this.emitBeforeChange(),t.beforeChange();for(let i of this.selectedItems)if(i instanceof oe){let n=i;if(n.block_delete)continue;n.connectInputToOutput(),t.remove(n),this.onNodeDeselected?.(n)}else i instanceof Me?t.remove(i):i instanceof _e&&t.removeReroute(i.id);this.selected_nodes={},this.selectedItems.clear(),this.current_node=null,this.highlighted_links={},this.state.selectionChanged=!0,this.onSelectionChange?.(this.selected_nodes),this.setDirty(!0),t.afterChange(),this.emitAfterChange()}deleteSelectedNodes(){this.deleteSelected()}centerOnNode(t){let i=window?.devicePixelRatio||1;this.ds.offset[0]=-t.pos[0]-t.size[0]*.5+this.canvas.width*.5/(this.ds.scale*i),this.ds.offset[1]=-t.pos[1]-t.size[1]*.5+this.canvas.height*.5/(this.ds.scale*i),this.setDirty(!0,!0)}adjustMouseEvent(t){let i=t.clientX,n=t.clientY;if(this.canvas){let o=this.canvas.getBoundingClientRect();i-=o.left,n-=o.top}t.safeOffsetX=i,t.safeOffsetY=n,t.deltaX===void 0&&(t.deltaX=i-this.last_mouse_position[0]),t.deltaY===void 0&&(t.deltaY=n-this.last_mouse_position[1]),this.last_mouse_position[0]=i,this.last_mouse_position[1]=n,t.canvasX=i/this.ds.scale-this.ds.offset[0],t.canvasY=n/this.ds.scale-this.ds.offset[1]}setZoom(t,i){this.ds.changeScale(t,i),T(this,O,Te).call(this)}convertOffsetToCanvas(t,i){return this.ds.convertOffsetToCanvas(t,i)}convertCanvasToOffset(t,i){return this.ds.convertCanvasToOffset(t,i)}convertEventToCanvasOffset(t){let i=this.canvas.getBoundingClientRect();return this.convertCanvasToOffset([t.clientX-i.left,t.clientY-i.top])}bringToFront(t){let{graph:i}=this;if(!i)throw new R;let n=i._nodes.indexOf(t);n!=-1&&(i._nodes.splice(n,1),i._nodes.push(t))}sendToBack(t){let{graph:i}=this;if(!i)throw new R;let n=i._nodes.indexOf(t);n!=-1&&(i._nodes.splice(n,1),i._nodes.unshift(t))}computeVisibleNodes(t,i){let n=i||[];if(n.length=0,!this.graph)throw new R;let o=t||this.graph._nodes;for(let s of o)s.updateArea(this.ctx),ot(this.visible_area,s.renderArea)&&n.push(s);return n}isNodeVisible(t){return w(this,ki).has(t.id)}draw(t,i){if(!this.canvas||this.canvas.width==0||this.canvas.height==0)return;let n=m.getTime();if(this.render_time=(n-this.last_draw_time)*.001,this.last_draw_time=n,this.graph&&this.ds.computeVisibleArea(this.viewport),this.dirty_canvas||t){this.computeVisibleNodes(void 0,this.visible_nodes),B(this,ki,new Set(this.visible_nodes.map(s=>s.id)));let{subgraph:o}=this;o&&(o.inputNode.arrange(),o.outputNode.arrange())}(this.dirty_bgcanvas||i||this.always_render_background||this.graph?._last_trigger_time&&n-this.graph._last_trigger_time<1e3)&&this.drawBackCanvas(),(this.dirty_canvas||t)&&this.drawFrontCanvas(),this.fps=this.render_time?1/this.render_time:0,this.frame++}drawFrontCanvas(){this.dirty_canvas=!1;let{ctx:t,canvas:i,graph:n,linkConnector:o}=this;t.start2D&&!this.viewport&&(t.start2D(),t.restore(),t.setTransform(1,0,0,1,0,0));let s=this.viewport||this.dirty_area;if(s&&(t.save(),t.beginPath(),t.rect(s[0],s[1],s[2],s[3]),t.clip()),B(this,ge,w(this,bi)||m.alwaysSnapToGrid?this.graph?.getSnapToGridSize():void 0),this.clear_background&&(s?t.clearRect(s[0],s[1],s[2],s[3]):t.clearRect(0,0,i.width,i.height)),this.bgcanvas==this.canvas)this.drawBackCanvas();else{let a=window.devicePixelRatio;t.drawImage(this.bgcanvas,0,0,this.bgcanvas.width/a,this.bgcanvas.height/a)}if(this.onRender?.(i,t),this.show_info&&this.renderInfo(t,s?s[0]:0,s?s[1]:0),n){t.save(),this.ds.toCanvasContext(t);let{visible_nodes:a}=this,_=w(this,ge)&&this.isDragging;for(let l of a)t.save(),_&&this.selectedItems.has(l)&&this.drawSnapGuide(t,l),t.translate(l.pos[0],l.pos[1]),this.drawNode(l,t),t.restore();if(this.subgraph?.draw(t,this.colourGetter),this.render_execution_order&&this.drawExecutionOrder(t),n.config.links_ontop&&this.drawConnections(t),o.isConnecting){let{renderLinks:l}=o,d=T(this,O,$s).call(this);t.lineWidth=this.connections_width;for(let u of l){let{fromSlot:p,fromPos:f,fromDirection:h,dragDirection:g}=u,k=p.shape,b=p.type,y=b===m.EVENT?m.EVENT_LINK_COLOR:m.CONNECTING_LINK_COLOR;this.renderLink(t,f,d,null,!1,null,y,h,g),t.beginPath(),b===m.EVENT||k===W.BOX?(t.rect(f[0]-6+.5,f[1]-5+.5,14,10),t.rect(d[0]-6+.5,d[1]-5+.5,14,10)):k===W.ARROW?(t.moveTo(f[0]+8,f[1]+.5),t.lineTo(f[0]-4,f[1]+6+.5),t.lineTo(f[0]-4,f[1]-6+.5),t.closePath()):(t.arc(f[0],f[1],4,0,Math.PI*2),t.arc(d[0],d[1],4,0,Math.PI*2)),t.fill()}T(this,O,Ks).call(this,t,d)}if(this.dragging_rectangle){let{eDown:l,eMove:d}=this.pointer;if(t.strokeStyle="#FFF",l&&d){let u=t.getTransform(),p=Math.max(1,window.devicePixelRatio);t.setTransform(p,0,0,p,0,0);let f=l.safeOffsetX,h=l.safeOffsetY;t.strokeRect(f,h,d.safeOffsetX-f,d.safeOffsetY-h),t.setTransform(u)}else{let[u,p,f,h]=this.dragging_rectangle;t.strokeRect(u,p,f,h)}}!this.isDragging&&this.over_link_center&&this.render_link_tooltip?this.drawLinkTooltip(t,this.over_link_center):this.onDrawLinkTooltip?.(t,null),this.onDrawForeground?.(t,this.visible_area),t.restore()}this.onDrawOverlay?.(t),s&&t.restore()}renderInfo(t,i,n){i=i||10,n=n||this.canvas.offsetHeight-80,t.save(),t.translate(i,n),t.font=`10px ${m.DEFAULT_FONT}`,t.fillStyle="#888",t.textAlign="left",this.graph?(t.fillText(`T: ${this.graph.globaltime.toFixed(2)}s`,5,13),t.fillText(`I: ${this.graph.iteration}`,5,26),t.fillText(`N: ${this.graph._nodes.length} [${this.visible_nodes.length}]`,5,39),t.fillText(`V: ${this.graph._version}`,5,52),t.fillText(`FPS:${this.fps.toFixed(2)}`,5,65)):t.fillText("No graph selected",5,13),t.restore()}drawBackCanvas(){let t=this.bgcanvas;(t.width!=this.canvas.width||t.height!=this.canvas.height)&&(t.width=this.canvas.width,t.height=this.canvas.height),this.bgctx||(this.bgctx=this.bgcanvas.getContext("2d"));let i=this.bgctx;if(!i)throw new TypeError("Background canvas context was null.");let n=this.viewport||[0,0,i.canvas.width,i.canvas.height];this.clear_background&&i.clearRect(n[0],n[1],n[2],n[3]);let o=this.onRenderBackground?this.onRenderBackground(t,i):!1;if(!this.viewport){let s=window.devicePixelRatio;i.restore(),i.setTransform(s,0,0,s,0,0)}if(this.graph){if(i.save(),this.ds.toCanvasContext(i),this.ds.scale<1.5&&!o&&this.clear_background_color&&(i.fillStyle=this.clear_background_color,i.fillRect(this.visible_area[0],this.visible_area[1],this.visible_area[2],this.visible_area[3])),this.background_image&&this.ds.scale>.5&&!o){if(this.zoom_modify_alpha?i.globalAlpha=(1-.5/this.ds.scale)*this.editor_alpha:i.globalAlpha=this.editor_alpha,i.imageSmoothingEnabled=!1,!this._bg_img||this._bg_img.name!=this.background_image){this._bg_img=new Image,this._bg_img.name=this.background_image,this._bg_img.src=this.background_image;let a=this;this._bg_img.addEventListener("load",function(){a.draw(!0,!0)})}let s=this._pattern;s==null&&this._bg_img.width>0&&(s=i.createPattern(this._bg_img,"repeat")??void 0,this._pattern_img=this._bg_img,this._pattern=s),s&&(i.fillStyle=s,i.fillRect(this.visible_area[0],this.visible_area[1],this.visible_area[2],this.visible_area[3]),i.fillStyle="transparent"),i.globalAlpha=1,i.imageSmoothingEnabled=!0}this.graph._groups.length&&this.drawGroups(t,i),this.onDrawBackground?.(i,this.visible_area),this.render_canvas_border&&(i.strokeStyle="#235",i.strokeRect(0,0,t.width,t.height)),this.render_connections_shadows?(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=6):i.shadowColor="rgba(0,0,0,0)",this.drawConnections(i),i.shadowColor="rgba(0,0,0,0)",i.restore()}this.dirty_bgcanvas=!1,this.dirty_canvas=!0}drawNode(t,i){this.current_node=t;let n=t.renderingColor,o=t.renderingBgColor,{low_quality:s,editor_alpha:a}=this;if(i.globalAlpha=a,this.render_shadows&&!s?(i.shadowColor=m.DEFAULT_SHADOW_COLOR,i.shadowOffsetX=2*this.ds.scale,i.shadowOffsetY=2*this.ds.scale,i.shadowBlur=3*this.ds.scale):i.shadowColor="transparent",t.flags.collapsed&&t.onDrawCollapsed?.(i,this)==!0)return;let _=t._shape||W.BOX,l=w(C,un);l.set(t.renderingSize),t.collapsed&&(i.font=this.inner_text_font),t.clip_area&&(i.save(),i.beginPath(),_==W.BOX?i.rect(0,0,l[0],l[1]):_==W.ROUND?i.roundRect(0,0,l[0],l[1],[10]):_==W.CIRCLE&&i.arc(l[0]*.5,l[1]*.5,l[0]*.5,0,Math.PI*2),i.clip()),this.drawNodeShape(t,i,l,n,o,!!t.selected),s||t.drawBadges(i),i.shadowColor="transparent",i.strokeStyle=m.NODE_BOX_OUTLINE_COLOR,t.onDrawForeground?.(i,this,this.canvas),i.font=this.inner_text_font,t._setConcreteSlots(),t.collapsed?this.render_collapsed_slots&&t.drawCollapsedSlots(i):(t.arrange(),t.drawSlots(i,{fromSlot:this.linkConnector.renderLinks[0]?.fromSlot,colorContext:this.colourGetter,editorAlpha:this.editor_alpha,lowQuality:this.low_quality}),i.textAlign="left",i.globalAlpha=1,this.drawNodeWidgets(t,null,i)),t.clip_area&&i.restore(),i.globalAlpha=1}drawLinkTooltip(t,i){let n=i._pos;if(t.fillStyle="black",t.beginPath(),this.linkMarkerShape===Re.Arrow){let d=t.getTransform();t.translate(n[0],n[1]),Number.isFinite(i._centreAngle)&&t.rotate(i._centreAngle),t.moveTo(-2,-3),t.lineTo(4,0),t.lineTo(-2,3),t.setTransform(d)}else(this.linkMarkerShape==null||this.linkMarkerShape===Re.Circle)&&t.arc(n[0],n[1],3,0,Math.PI*2);t.fill();let{data:o}=i;if(o==null||this.onDrawLinkTooltip?.(t,i,this)==!0)return;let s=null;if(typeof o=="number"?s=o.toFixed(2):typeof o=="string"?s=`"${o}"`:typeof o=="boolean"?s=String(o):o.toToolTip?s=o.toToolTip():s=`[${o.constructor.name}]`,s==null)return;s=s.substring(0,30),t.font="14px Courier New";let _=t.measureText(s).width+20,l=24;t.shadowColor="black",t.shadowOffsetX=2,t.shadowOffsetY=2,t.shadowBlur=3,t.fillStyle="#454",t.beginPath(),t.roundRect(n[0]-_*.5,n[1]-15-l,_,l,[3]),t.moveTo(n[0]-10,n[1]-15),t.lineTo(n[0]+10,n[1]-15),t.lineTo(n[0],n[1]-5),t.fill(),t.shadowColor="transparent",t.textAlign="center",t.fillStyle="#CEC",t.fillText(s,n[0],n[1]-15-l*.3)}drawNodeShape(t,i,n,o,s,a){i.strokeStyle=o,i.fillStyle=s;let _=m.NODE_TITLE_HEIGHT,{low_quality:l}=this,{collapsed:d}=t.flags,u=t.renderingShape,{title_mode:p}=t,f=!(p==me.TRANSPARENT_TITLE||p==me.NO_TITLE),h=w(C,pn);h.set(t.boundingRect),h[0]-=t.pos[0],h[1]-=t.pos[1];let g=i.globalAlpha;i.beginPath(),u==W.BOX||l?i.rect(h[0],h[1],h[2],h[3]):u==W.ROUND||u==W.CARD?i.roundRect(h[0],h[1],h[2],h[3],u==W.CARD?[m.ROUND_RADIUS,m.ROUND_RADIUS,0,0]:[m.ROUND_RADIUS]):u==W.CIRCLE&&i.arc(n[0]*.5,n[1]*.5,n[0]*.5,0,Math.PI*2),i.fill(),!d&&f&&(i.shadowColor="transparent",i.fillStyle="rgba(0,0,0,0.2)",i.fillRect(0,-1,h[2],2)),i.shadowColor="transparent",t.onDrawBackground?.(i),(f||p==me.TRANSPARENT_TITLE)&&(t.drawTitleBarBackground(i,{scale:this.ds.scale,low_quality:l}),t.drawTitleBox(i,{scale:this.ds.scale,low_quality:l,box_size:10}),i.globalAlpha=g,t.drawTitleText(i,{scale:this.ds.scale,default_title_color:this.node_title_color,low_quality:l}),t.onDrawTitle?.(i));for(let k of Object.values(t.strokeStyles)){let b=k.call(t);b&&xs(i,h,{shape:u,title_height:_,title_mode:p,collapsed:d,...b})}t.drawProgressBar(i),t.execute_triggered!=null&&t.execute_triggered>0&&t.execute_triggered--,t.action_triggered!=null&&t.action_triggered>0&&t.action_triggered--}drawSnapGuide(t,i,n=W.ROUND){let o=w(C,dn);o.set(i.boundingRect);let{pos:s}=i,a=s[0]-o[0],_=s[1]-o[1];o[0]+=a,o[1]+=_,w(this,ge)&&lt(o,w(this,ge)),o[0]-=a,o[1]-=_;let{globalAlpha:l}=t;t.globalAlpha=1,t.beginPath();let[d,u,p,f]=o;if(n===W.CIRCLE){let h=d+p*.5,g=u+f*.5,k=Math.min(p*.5,f*.5);t.arc(h,g,k,0,Math.PI*2)}else t.rect(d,u,p,f);t.lineWidth=.5,t.strokeStyle="#FFFFFF66",t.fillStyle="#FFFFFF22",t.fill(),t.stroke(),t.globalAlpha=l}drawConnections(t){if(this.renderedPaths.clear(),this.links_render_mode===pe.HIDDEN_LINK)return;let{graph:i,subgraph:n}=this;if(!i)throw new R;let o=[],s=m.getTime(),{visible_area:a}=this;w(C,He)[0]=a[0]-20,w(C,He)[1]=a[1]-20,w(C,He)[2]=a[2]+40,w(C,He)[3]=a[3]+40,t.lineWidth=this.connections_width,t.fillStyle="#AAA",t.strokeStyle="#AAA",t.globalAlpha=this.editor_alpha;let _=i._nodes;for(let d of _){let{inputs:u}=d;if(u?.length)for(let[p,f]of u.entries()){if(!f||f.link==null)continue;let h=f.link,g=i._links.get(h);if(!g)continue;let k=d.getInputPos(p),b=i.getNodeById(g.origin_id);if(b==null)continue;let y=g.origin_slot,E=y===-1?[b.pos[0]+10,b.pos[1]+10]:b.getOutputPos(y),A=b.outputs[y];A&&T(this,O,kt).call(this,t,g,E,k,o,s,A.dir,f.dir)}}if(n){for(let d of n.inputNode.slots)if(d.linkIds.length)for(let u of d.linkIds){let p=H.resolve(u,i);if(!p)continue;let{link:f,inputNode:h,input:g}=p;if(!h||!g)continue;let k=h.getInputPos(f.target_slot);T(this,O,kt).call(this,t,f,d.pos,k,o,s,g.dir,g.dir)}for(let d of n.outputNode.slots){if(!d.linkIds.length)continue;let u=H.resolve(d.linkIds[0],i);if(!u)continue;let{link:p,outputNode:f,output:h}=u;if(!f||!h)continue;let g=f.getOutputPos(p.origin_slot);T(this,O,kt).call(this,t,p,g,d.pos,o,s,h.dir,d.dir)}}i.floatingLinks.size>0&&T(this,O,Ys).call(this,t,i,o,s);let l=w(this,Ce);l.clear(),o.sort((d,u)=>d.linkIds.size-u.linkIds.size);for(let d of o)l.add(d),w(this,ge)&&this.isDragging&&this.selectedItems.has(d)&&this.drawSnapGuide(t,d,W.CIRCLE),d.draw(t,this._pattern),this.pointer.isDown||d.drawSlots(t);t.globalAlpha=1}renderLink(t,i,n,o,s,a,_,l,d,{startControl:u,endControl:p,reroute:f,num_sublines:h=1,disabled:g=!1}={}){let k=o!=null&&this.highlighted_links[o.id]?"#FFF":_||o?.color||o?.type!=null&&C.link_type_colors[o.type]||this.default_link_color,b=l||M.RIGHT,y=d||M.LEFT,E=this.links_render_mode==pe.SPLINE_LINK&&(!p||!u)?Xe(i,n):0;this.render_connections_border&&!this.low_quality&&(t.lineWidth=this.connections_width+4),t.lineJoin="round",h||(h=1),h>1&&(t.lineWidth=.5);let A=new Path2D,L=f??o;L&&(L.path=A);let N=w(C,fn),S=w(C,hn),j=L?._pos??[0,0];for(let I=0;I<h;I++){let q=(I-(h-1)*.5)*5;if(N[0]=i[0],N[1]=i[1],S[0]=n[0],S[1]=n[1],this.links_render_mode==pe.SPLINE_LINK){if(p?(S[0]=n[0]+p[0],S[1]=n[1]+p[1]):T(this,O,Gt).call(this,S,y,E),u?(N[0]=i[0]+u[0],N[1]=i[1]+u[1]):T(this,O,Gt).call(this,N,b,E),A.moveTo(i[0],i[1]+q),A.bezierCurveTo(N[0],N[1]+q,S[0],S[1]+q,n[0],n[1]+q),_s(j,i,n,N,S,.5),L&&this.linkMarkerShape===Re.Arrow){let D=w(C,gn);_s(D,i,n,N,S,.51),L._centreAngle=Math.atan2(D[1]-j[1],D[0]-j[0])}}else{let D=this.links_render_mode==pe.LINEAR_LINK?15:10;switch(b){case M.LEFT:N[0]+=-D;break;case M.RIGHT:N[0]+=D;break;case M.UP:N[1]+=-D;break;case M.DOWN:N[1]+=D;break}switch(y){case M.LEFT:S[0]+=-D;break;case M.RIGHT:S[0]+=D;break;case M.UP:S[1]+=-D;break;case M.DOWN:S[1]+=D;break}if(this.links_render_mode==pe.LINEAR_LINK)A.moveTo(i[0],i[1]+q),A.lineTo(N[0],N[1]+q),A.lineTo(S[0],S[1]+q),A.lineTo(n[0],n[1]+q),j[0]=(N[0]+S[0])*.5,j[1]=(N[1]+S[1])*.5,L&&this.linkMarkerShape===Re.Arrow&&(L._centreAngle=Math.atan2(S[1]-N[1],S[0]-N[0]));else if(this.links_render_mode==pe.STRAIGHT_LINK){let U=(N[0]+S[0])*.5;if(A.moveTo(i[0],i[1]),A.lineTo(N[0],N[1]),A.lineTo(U,N[1]),A.lineTo(U,S[1]),A.lineTo(S[0],S[1]),A.lineTo(n[0],n[1]),j[0]=U,j[1]=(N[1]+S[1])*.5,L&&this.linkMarkerShape===Re.Arrow){let F=S[1]-N[1];Math.abs(F)<4?L._centreAngle=0:F>0?L._centreAngle=Math.PI*.5:L._centreAngle=-(Math.PI*.5)}}else return}}if(this.render_connections_border&&!this.low_quality&&!s&&(t.strokeStyle="rgba(0,0,0,0.5)",t.stroke(A)),t.lineWidth=this.connections_width,t.fillStyle=t.strokeStyle=k,t.stroke(A),this.ds.scale>=.6&&this.highquality_render&&L){if(this.render_connection_arrows){let I=this.computeConnectionPoint(i,n,.25,b,y),q=this.computeConnectionPoint(i,n,.26,b,y),D=this.computeConnectionPoint(i,n,.75,b,y),U=this.computeConnectionPoint(i,n,.76,b,y),F=0,X=0;this.render_curved_connections?(F=-Math.atan2(q[0]-I[0],q[1]-I[1]),X=-Math.atan2(U[0]-D[0],U[1]-D[1])):X=F=n[1]>i[1]?0:Math.PI;let $=t.getTransform();t.translate(I[0],I[1]),t.rotate(F),t.beginPath(),t.moveTo(-5,-3),t.lineTo(0,7),t.lineTo(5,-3),t.fill(),t.setTransform($),t.translate(D[0],D[1]),t.rotate(X),t.beginPath(),t.moveTo(-5,-3),t.lineTo(0,7),t.lineTo(5,-3),t.fill(),t.setTransform($)}if(t.beginPath(),this.linkMarkerShape===Re.Arrow){let I=t.getTransform();t.translate(j[0],j[1]),L._centreAngle&&t.rotate(L._centreAngle),t.moveTo(-3.2,-5),t.lineTo(7,0),t.lineTo(-3.2,5),t.setTransform(I)}else(this.linkMarkerShape==null||this.linkMarkerShape===Re.Circle)&&t.arc(j[0],j[1],5,0,Math.PI*2);if(g){let{fillStyle:I,globalAlpha:q}=t;t.fillStyle=this._pattern??"#797979",t.globalAlpha=.75,t.fill(),t.globalAlpha=q,t.fillStyle=I}if(t.fill(),H._drawDebug){let{fillStyle:I,font:q,globalAlpha:D,lineWidth:U,strokeStyle:F}=t;t.globalAlpha=1,t.lineWidth=4,t.fillStyle="white",t.strokeStyle="black",t.font="16px Arial";let X=String(L.id),{width:$,actualBoundingBoxAscent:De}=t.measureText(X),ie=j[0]-$*.5,z=j[1]+De*.5;t.strokeText(X,ie,z),t.fillText(X,ie,z),t.font=q,t.globalAlpha=D,t.lineWidth=U,t.fillStyle=I,t.strokeStyle=F}}if(a){t.fillStyle=k;for(let I=0;I<5;++I){let q=(m.getTime()*.001+I*.2)%1,D=this.computeConnectionPoint(i,n,q,b,y);t.beginPath(),t.arc(D[0],D[1],5,0,2*Math.PI),t.fill()}}}computeConnectionPoint(t,i,n,o,s){o||(o=M.RIGHT),s||(s=M.LEFT);let a=Xe(t,i),_=[t[0],t[1]],l=[i[0],i[1]];T(this,O,Gt).call(this,_,o,a),T(this,O,Gt).call(this,l,s,a);let d=(1-n)*(1-n)*(1-n),u=3*((1-n)*(1-n))*n,p=3*(1-n)*(n*n),f=n*n*n,h=d*t[0]+u*_[0]+p*l[0]+f*i[0],g=d*t[1]+u*_[1]+p*l[1]+f*i[1];return[h,g]}drawExecutionOrder(t){t.shadowColor="transparent",t.globalAlpha=.25,t.textAlign="center",t.strokeStyle="white",t.globalAlpha=.75;let{visible_nodes:i}=this;for(let n of i)t.fillStyle="black",t.fillRect(n.pos[0]-m.NODE_TITLE_HEIGHT,n.pos[1]-m.NODE_TITLE_HEIGHT,m.NODE_TITLE_HEIGHT,m.NODE_TITLE_HEIGHT),n.order==0&&t.strokeRect(n.pos[0]-m.NODE_TITLE_HEIGHT+.5,n.pos[1]-m.NODE_TITLE_HEIGHT+.5,m.NODE_TITLE_HEIGHT,m.NODE_TITLE_HEIGHT),t.fillStyle="#FFF",t.fillText(io(n.order),n.pos[0]+m.NODE_TITLE_HEIGHT*-.5,n.pos[1]-6);t.globalAlpha=1}drawNodeWidgets(t,i,n){t.drawWidgets(n,{lowQuality:this.low_quality,editorAlpha:this.editor_alpha})}drawGroups(t,i){if(!this.graph)return;let n=this.graph._groups;i.save(),i.globalAlpha=.5*this.editor_alpha;let o=w(this,ge)&&this.isDragging;for(let s of n)ot(this.visible_area,s._bounding)&&(o&&this.selectedItems.has(s)&&this.drawSnapGuide(i,s),s.draw(this,i));i.restore()}resize(t,i){if(!t&&!i){let n=this.canvas.parentElement;if(!n)throw new TypeError("Attempted to resize canvas, but parent element was null.");t=n.offsetWidth,i=n.offsetHeight}this.canvas.width==t&&this.canvas.height==i||(this.canvas.width=t??0,this.canvas.height=i??0,this.bgcanvas.width=this.canvas.width,this.bgcanvas.height=this.canvas.height,this.setDirty(!0,!0))}onNodeSelectionChange(){}boundaryNodesForSelection(){return C.getBoundaryNodes(this.selected_nodes)}showLinkMenu(t,i){let{graph:n}=this;if(!n)throw new R;let o="data"in t&&t.data!=null?t.data.constructor.name:void 0,{origin_id:s,origin_slot:a}=t;if(s==null||a==null)return new m.ContextMenu(["Link has no origin"],{event:i,title:o}),!1;let _=n.getNodeById(s),l=_?.outputs?.[a]?.type,d=["Add Node","Add Reroute",null,"Delete",null],u=new m.ContextMenu(d,{event:i,title:o,callback:p.bind(this)});return!1;function p(f,h,g){if(!n)throw new R;switch(f){case"Add Node":C.onMenuAdd(null,null,g,u,k=>{if(!k?.inputs?.length||!k?.outputs?.length||a==null)return;let b={afterRerouteId:t.parentId};_?.connectByType(a,k,l??"*",b)&&(k.pos[0]-=k.size[0]*.5)});break;case"Add Reroute":{try{this.emitBeforeChange(),this.adjustMouseEvent(g),n.createReroute(t._pos,t),this.setDirty(!1,!0)}catch(k){console.error(k)}finally{this.emitAfterChange()}break}case"Delete":n.removeLink(t.id);break}}}createDefaultNodeForSlot(t){let i=Object.assign({nodeFrom:null,slotFrom:null,nodeTo:null,slotTo:null,position:[0,0],nodeType:void 0,posAdd:[0,0],posSizeFix:[0,0]},t),{afterRerouteId:n}=i,o=i.nodeFrom&&i.slotFrom!==null,s=!o&&i.nodeTo&&i.slotTo!==null;if(!o&&!s)return console.warn("No data passed to createDefaultNodeForSlot",i.nodeFrom,i.slotFrom,i.nodeTo,i.slotTo),!1;if(!i.nodeType)return console.warn("No type to createDefaultNodeForSlot"),!1;let a=o?i.nodeFrom:i.nodeTo;if(!a)throw new TypeError("nodeX was null when creating default node for slot.");let _=o?i.slotFrom:i.slotTo,l=!1;if(a instanceof Se){if(typeof _!="object"||!_)return console.warn("Cant get slot information",_),!1;let{name:p}=_;if(l=a.slots.findIndex(f=>f.name===p),_=a.slots[l],!_)return console.warn("Cant get slot information",_),!1}else switch(typeof _){case"string":l=o?a.findOutputSlot(_,!1):a.findInputSlot(_,!1),_=o?a.outputs[_]:a.inputs[_];break;case"object":if(_===null)return console.warn("Cant get slot information",_),!1;l=o?a.findOutputSlot(_.name):a.findInputSlot(_.name);break;case"number":l=_,_=o?a.outputs[_]:a.inputs[_];break;case"undefined":default:return console.warn("Cant get slot information",_),!1}let d=_.type==m.EVENT?"_event_":_.type,u=o?m.slot_types_default_out:m.slot_types_default_in;if(u?.[d]){let p=!1;if(typeof u[d]=="object"){for(let f in u[d])if(i.nodeType==u[d][f]||i.nodeType=="AUTO"){p=u[d][f];break}}else(i.nodeType==u[d]||i.nodeType=="AUTO")&&(p=u[d]);if(p){let f=!1;typeof p=="object"&&p.node&&(f=p,p=p.node);let h=m.createNode(p);if(h){if(f){if(f.properties)for(let b in f.properties)h.addProperty(b,f.properties[b]);if(f.inputs){h.inputs=[];for(let b in f.inputs)h.addOutput(f.inputs[b][0],f.inputs[b][1])}if(f.outputs){h.outputs=[];for(let b in f.outputs)h.addOutput(f.outputs[b][0],f.outputs[b][1])}f.title&&(h.title=f.title),f.json&&h.configure(f.json)}if(!this.graph)throw new R;this.graph.add(h),h.pos=[i.position[0]+i.posAdd[0]+(i.posSizeFix[0]?i.posSizeFix[0]*h.size[0]:0),i.position[1]+i.posAdd[1]+(i.posSizeFix[1]?i.posSizeFix[1]*h.size[1]:0)];let g={node:h,opts:i};if(!this.canvas.dispatchEvent(new CustomEvent("connect-new-default-node",{detail:g,cancelable:!0})))return!0;if(o){if(!i.nodeFrom)throw new TypeError("createDefaultNodeForSlot - nodeFrom was null");i.nodeFrom.connectByType(l,h,d,{afterRerouteId:n})}else{if(!i.nodeTo)throw new TypeError("createDefaultNodeForSlot - nodeTo was null");i.nodeTo.connectByTypeOutput(l,h,d,{afterRerouteId:n})}return!0}console.log(`failed creating ${p}`)}}return!1}showConnectionMenu(t){let i=Object.assign({nodeFrom:null,slotFrom:null,nodeTo:null,slotTo:null,e:void 0,allow_searchbox:this.allow_searchbox,showSearchBox:this.showSearchBox},t||{}),n=()=>T(this,O,Te).call(this),o=this,{graph:s}=this,{afterRerouteId:a}=i,_=i.nodeFrom&&i.slotFrom,l=!_&&i.nodeTo&&i.slotTo;if(!_&&!l){console.warn("No data passed to showConnectionMenu");return}let d=_?i.nodeFrom:i.nodeTo;if(!d)throw new TypeError("nodeX was null when creating default node for slot.");let u=_?i.slotFrom:i.slotTo,p;if(d instanceof Se){if(typeof u!="object"||!u){console.warn("Cant get slot information",u);return}let{name:y}=u;if(p=d.slots.findIndex(E=>E.name===y),p!==-1&&(u=d.slots[p]),!u){console.warn("Cant get slot information",u);return}}else switch(typeof u){case"string":p=_?d.findOutputSlot(u,!1):d.findInputSlot(u,!1),u=_?d.outputs[u]:d.inputs[u];break;case"object":if(u===null){console.warn("Cant get slot information",u);return}p=_?d.findOutputSlot(u.name):d.findInputSlot(u.name);break;case"number":p=u,u=_?d.outputs[u]:d.inputs[u];break;default:console.warn("Cant get slot information",u);return}let f=["Add Node","Add Reroute",null];i.allow_searchbox&&f.push("Search",null);let h=u.type==m.EVENT?"_event_":u.type,g=_?m.slot_types_default_out:m.slot_types_default_in;if(g?.[h])if(typeof g[h]=="object")for(let y in g[h])f.push(g[h][y]);else f.push(g[h]);let k=new m.ContextMenu(f,{event:i.e,extra:u,title:(u&&u.name!=""?u.name+(h?" | ":""):"")+(u&&h?h:""),callback:b});return k;function b(y,E,A){switch(y){case"Add Node":C.onMenuAdd(null,null,A,k,function(L){if(L)if(_){if(!i.nodeFrom)throw new TypeError("Cannot add node to SubgraphInputNode: nodeFrom was null");i.nodeFrom.connectByType(p,L,h,{afterRerouteId:a})||console.warn("Failed to make new connection.")}else{if(!i.nodeTo)throw new TypeError("Cannot add node to SubgraphInputNode: nodeTo was null");i.nodeTo.connectByTypeOutput(p,L,h,{afterRerouteId:a})}});break;case"Add Reroute":{let L=_?i.nodeFrom:i.nodeTo,N=E.extra;if(!s)throw new R;if(!L)throw new TypeError("Cannot add reroute: node was null");if(!N)throw new TypeError("Cannot add reroute: slot was null");if(!i.e)throw new TypeError("Cannot add reroute: CanvasPointerEvent was null");if(L instanceof Se)throw new TypeError("Cannot add floating reroute to Subgraph IO Nodes");if(!L.connectFloatingReroute([i.e.canvasX,i.e.canvasY],N,a))throw new Error("Failed to create reroute");n();break}case"Search":_?i.showSearchBox(A,{node_from:i.nodeFrom,slot_from:u,type_filter_in:h}):i.showSearchBox(A,{node_to:i.nodeTo,slot_from:u,type_filter_out:h});break;default:{let L={position:[i.e?.canvasX??0,i.e?.canvasY??0],nodeType:y,afterRerouteId:a},N=Object.assign(i,L);if(!o.createDefaultNodeForSlot(N))break}}}}prompt(t,i,n,o,s){let a=this;t=t||"";let _={is_modified:!1,className:"graphdialog rounded",innerHTML:s?"<span class='name'></span> <textarea autofocus class='value'></textarea><button class='rounded'>OK</button>":"<span class='name'></span> <input autofocus type='text' class='value'/><button class='rounded'>OK</button>",close(){a.prompt_box=null,d.parentNode&&d.remove()}},l=document.createElement("div"),d=Object.assign(l,_),u=C.active_canvas,{canvas:p}=u;if(!p.parentNode)throw new TypeError("canvas element parentNode was null when opening a prompt.");p.parentNode.append(d),this.ds.scale>1&&(d.style.transform=`scale(${this.ds.scale})`);let f,h=0;m.pointerListenerAdd(d,"leave",function(){h||m.dialog_close_on_mouse_leave&&!d.is_modified&&m.dialog_close_on_mouse_leave&&(f=setTimeout(d.close,m.dialog_close_on_mouse_leave_delay))}),m.pointerListenerAdd(d,"enter",function(){m.dialog_close_on_mouse_leave&&f&&clearTimeout(f)});let g=d.querySelectorAll("select");if(g)for(let S of g)S.addEventListener("click",function(){h++}),S.addEventListener("blur",function(){h=0}),S.addEventListener("change",function(){h=-1});this.prompt_box?.close(),this.prompt_box=d;let k=d.querySelector(".name");if(!k)throw new TypeError("name_element was null");k.textContent=t;let b=d.querySelector(".value");if(!b)throw new TypeError("value_element was null");b.value=i,b.select();let y=b;y.addEventListener("keydown",function(S){if(d.is_modified=!0,S.key=="Escape")d.close();else if(S.key=="Enter"&&S.target.localName!="textarea")n&&n(this.value),d.close();else return;S.preventDefault(),S.stopPropagation()});let E=d.querySelector("button");if(!E)throw new TypeError("button was null when opening prompt");E.addEventListener("click",function(){n?.(y.value),a.setDirty(!0),d.close()});let A=p.getBoundingClientRect(),L=-20,N=-20;return A&&(L-=A.left,N-=A.top),o?(d.style.left=`${o.clientX+L}px`,d.style.top=`${o.clientY+N}px`):(d.style.left=`${p.width*.5+L}px`,d.style.top=`${p.height*.5+N}px`),setTimeout(function(){y.focus();let S=Date.now();function j(I){I.target===p&&Date.now()-S>256&&(d.close(),p.parentElement?.removeEventListener("click",j),p.parentElement?.removeEventListener("touchend",j))}p.parentElement?.addEventListener("click",j),p.parentElement?.addEventListener("touchend",j)},10),d}showSearchBox(t,i){let n={slot_from:null,node_from:null,node_to:null,do_type_filter:m.search_filter_enabled,type_filter_in:!1,type_filter_out:!1,show_general_if_none_on_typefilter:!0,show_general_after_typefiltered:!0,hide_on_mouse_leave:m.search_hide_on_mouse_leave,show_all_if_empty:!0,show_all_on_open:m.search_show_all_on_open};Object.assign(n,i);let o=this,s=C.active_canvas,{canvas:a}=s,_=a.ownerDocument||document,l=document.createElement("div"),d=Object.assign(l,{close(){o.search_box=void 0,this.blur(),a.focus(),_.body.style.overflow="",setTimeout(()=>a.focus(),20),d.remove()}});d.className="litegraph litesearchbox graphdialog rounded",d.innerHTML="<span class='name'>Search</span> <input autofocus type='text' class='value rounded'/>",n.do_type_filter&&(d.innerHTML+="<select class='slot_in_type_filter'><option value=''></option></select>",d.innerHTML+="<select class='slot_out_type_filter'><option value=''></option></select>");let u=document.createElement("div");u.className="helper",d.append(u),_.fullscreenElement?_.fullscreenElement.append(d):(_.body.append(d),_.body.style.overflow="hidden");let p,f;if(n.do_type_filter&&(p=d.querySelector(".slot_in_type_filter"),f=d.querySelector(".slot_out_type_filter")),this.ds.scale>1&&(d.style.transform=`scale(${this.ds.scale})`),n.hide_on_mouse_leave){let I=!1,q=null;if(m.pointerListenerAdd(d,"enter",function(){q&&(clearTimeout(q),q=null)}),d.addEventListener("pointerleave",function(){if(I)return;let D=n.hide_on_mouse_leave,U=typeof D=="number"?D:500;q=setTimeout(d.close,U)}),n.do_type_filter){if(!p)throw new TypeError("selIn was null when showing search box");if(!f)throw new TypeError("selOut was null when showing search box");p.addEventListener("click",function(){I++}),p.addEventListener("blur",function(){I=0}),p.addEventListener("change",function(){I=-1}),f.addEventListener("click",function(){I++}),f.addEventListener("blur",function(){I=0}),f.addEventListener("change",function(){I=-1})}}o.search_box?.close(),o.search_box=d;let h=null,g=null,k=null,b=d.querySelector("input");if(!b)throw new TypeError("Could not create search input box.");let y=b;if(y&&(y.addEventListener("blur",function(){this.focus()}),y.addEventListener("keydown",function(I){if(I.key=="ArrowUp")S(!1);else if(I.key=="ArrowDown")S(!0);else if(I.key=="Escape")d.close();else if(I.key=="Enter")k instanceof HTMLElement?N(unescape(String(k.dataset.type))):h?N(h):d.close();else{g&&clearInterval(g),g=setTimeout(j,10);return}return I.preventDefault(),I.stopPropagation(),I.stopImmediatePropagation(),!0})),n.do_type_filter){if(p){let I=m.slot_types_in,q=I.length;(n.type_filter_in==m.EVENT||n.type_filter_in==m.ACTION)&&(n.type_filter_in="_event_");for(let D=0;D<q;D++){let U=document.createElement("option");U.value=I[D],U.innerHTML=I[D],p.append(U),n.type_filter_in!==!1&&String(n.type_filter_in).toLowerCase()==String(I[D]).toLowerCase()&&(U.selected=!0)}p.addEventListener("change",function(){j()})}if(f){let I=m.slot_types_out;(n.type_filter_out==m.EVENT||n.type_filter_out==m.ACTION)&&(n.type_filter_out="_event_");for(let q of I){let D=document.createElement("option");D.value=q,D.innerHTML=q,f.append(D),n.type_filter_out!==!1&&String(n.type_filter_out).toLowerCase()==String(q).toLowerCase()&&(D.selected=!0)}f.addEventListener("change",function(){j()})}}let E=a.getBoundingClientRect(),A=(t?t.clientX:E.left+E.width*.5)-80,L=(t?t.clientY:E.top+E.height*.5)-20;d.style.left=`${A}px`,d.style.top=`${L}px`,t.layerY>E.height-200&&(u.style.maxHeight=`${E.height-t.layerY-20}px`),requestAnimationFrame(function(){y.focus()}),n.show_all_on_open&&j();function N(I){if(I)if(o.onSearchBoxSelection)o.onSearchBoxSelection(I,t,s);else{if(!s.graph)throw new R;s.graph.beforeChange();let q=m.createNode(I);if(q&&(q.pos=s.convertEventToCanvasOffset(t),s.graph.add(q,!1)),n.node_from){let D=!1;switch(typeof n.slot_from){case"string":D=n.node_from.findOutputSlot(n.slot_from);break;case"object":if(n.slot_from==null)throw new TypeError("options.slot_from was null when showing search box");D=n.slot_from.name?n.node_from.findOutputSlot(n.slot_from.name):-1,D==-1&&n.slot_from.slot_index!==void 0&&(D=n.slot_from.slot_index);break;case"number":D=n.slot_from;break;default:D=0}if(n.node_from.outputs[D]!==void 0&&D!==!1&&D>-1){if(q==null)throw new TypeError("options.slot_from was null when showing search box");n.node_from.connectByType(D,q,n.node_from.outputs[D].type)}}if(n.node_to){let D=!1;switch(typeof n.slot_from){case"string":D=n.node_to.findInputSlot(n.slot_from);break;case"object":if(n.slot_from==null)throw new TypeError("options.slot_from was null when showing search box");D=n.slot_from.name?n.node_to.findInputSlot(n.slot_from.name):-1,D==-1&&n.slot_from.slot_index!==void 0&&(D=n.slot_from.slot_index);break;case"number":D=n.slot_from;break;default:D=0}if(n.node_to.inputs[D]!==void 0&&D!==!1&&D>-1){if(q==null)throw new TypeError("options.slot_from was null when showing search box");n.node_to.connectByTypeOutput(D,q,n.node_to.inputs[D].type)}}s.graph.afterChange()}d.close()}function S(I){let q=k;k?k instanceof Element&&(k.classList.remove("selected"),k=I?k.nextSibling:k.previousSibling,k||(k=q)):k=I?u.childNodes[0]:u.childNodes[u.childNodes.length],k instanceof Element&&(k.classList.add("selected"),k.scrollIntoView({block:"end",behavior:"smooth"}))}function j(){g=null;let I=y.value;if(h=null,u.innerHTML="",!I&&!n.show_all_if_empty)return;if(o.onSearchBox){let D=o.onSearchBox(u,I,s);if(D)for(let U of D)q(U)}else{let D=function(z,Le){Le=Le||{};let Qe=Object.assign({skipFilter:!1,inTypeOverride:!1,outTypeOverride:!1},Le),wn=m.registered_node_types[z];if(F&&wn.filter!=F||(!n.show_all_if_empty||I)&&!z.toLowerCase().includes(I)&&(!wn.title||!wn.title.toLowerCase().includes(I)))return!1;if(n.do_type_filter&&!Qe.skipFilter){let Io=z,Be=Qe.inTypeOverride!==!1?Qe.inTypeOverride:X.value;if(X&&Be&&m.registered_slot_in_types[Be]?.nodes&&m.registered_slot_in_types[Be].nodes.includes(Io)===!1||(Be=$.value,Qe.outTypeOverride!==!1&&(Be=Qe.outTypeOverride),$&&Be&&m.registered_slot_out_types[Be]?.nodes&&m.registered_slot_out_types[Be].nodes.includes(Io)===!1))return!1}return!0},U=0;if(I=I.toLowerCase(),!s.graph)throw new R;let F=s.filter||s.graph.filter,X=!1,$=!1;n.do_type_filter&&o.search_box&&(X=o.search_box.querySelector(".slot_in_type_filter"),$=o.search_box.querySelector(".slot_out_type_filter"));let ie=Object.keys(m.registered_node_types).filter(z=>D(z));for(let z of ie)if(q(z),C.search_limit!==-1&&U++>C.search_limit)break;if(n.show_general_after_typefiltered&&(X.value||$.value)){filtered_extra=[];for(let z in m.registered_node_types)D(z,{inTypeOverride:X&&X.value?"*":!1,outTypeOverride:$&&$.value?"*":!1})&&filtered_extra.push(z);for(let z of filtered_extra)if(q(z,"generic_type"),C.search_limit!==-1&&U++>C.search_limit)break}if((X.value||$.value)&&u.childNodes.length==0&&n.show_general_if_none_on_typefilter){filtered_extra=[];for(let z in m.registered_node_types)D(z,{skipFilter:!0})&&filtered_extra.push(z);for(let z of filtered_extra)if(q(z,"not_in_filter"),C.search_limit!==-1&&U++>C.search_limit)break}}function q(D,U){let F=document.createElement("div");h||(h=D);let X=m.registered_node_types[D];if(X?.title){F.textContent=X?.title;let $=document.createElement("span");$.className="litegraph lite-search-item-type",$.textContent=D,F.append($)}else F.textContent=D;F.dataset.type=escape(D),F.className="litegraph lite-search-item",U&&(F.className+=` ${U}`),F.addEventListener("click",function(){N(unescape(String(this.dataset.type)))}),u.append(F)}}return d}showEditPropertyValue(t,i,n){if(!t||t.properties[i]===void 0)return;n=n||{};let o=t.getPropertyInfo(i),{type:s}=o,a="";if(s=="string"||s=="number"||s=="array"||s=="object")a="<input autofocus type='text' class='value'/>";else if((s=="enum"||s=="combo")&&o.values){a="<select autofocus type='text' class='value'>";for(let h in o.values){let g=Array.isArray(o.values)?o.values[h]:h,k=g==t.properties[i]?"selected":"";a+=`<option value='${g}' ${k}>${o.values[h]}</option>`}a+="</select>"}else if(s=="boolean"||s=="toggle")a=`<input autofocus type='checkbox' class='value' ${t.properties[i]?"checked":""}/>`;else{console.warn(`unknown type: ${s}`);return}let _=this.createDialog(`<span class='name'>${o.label||i}</span>${a}<button>OK</button>`,n),l;if((s=="enum"||s=="combo")&&o.values)l=_.querySelector("select"),l?.addEventListener("change",function(h){_.modified(),f(h.target?.value)});else if(s=="boolean"||s=="toggle")l=_.querySelector("input"),l?.addEventListener("click",function(){_.modified(),f(!!l.checked)});else if(l=_.querySelector("input"),l){l.addEventListener("blur",function(){this.focus()});let h=t.properties[i]!==void 0?t.properties[i]:"";s!=="string"&&(h=JSON.stringify(h)),l.value=h,l.addEventListener("keydown",function(g){if(g.key=="Escape")_.close();else if(g.key=="Enter")u();else{_.modified();return}g.preventDefault(),g.stopPropagation()})}l?.focus();let d=_.querySelector("button");if(!d)throw new TypeError("Show edit property value button was null.");d.addEventListener("click",u);function u(){f(l?.value)}let p=()=>T(this,O,Te).call(this);function f(h){o?.values&&typeof o.values=="object"&&o.values[h]!=null&&(h=o.values[h]),typeof t.properties[i]=="number"&&(h=Number(h)),(s=="array"||s=="object")&&(h=JSON.parse(h)),t.properties[i]=h,t.graph&&t.graph._version++,t.onPropertyChanged?.(i,h),n.onclose?.(),_.close(),p()}return _}createDialog(t,i){i=Object.assign({checkForInput:!1,closeOnLeave:!0,closeOnLeave_checkModified:!0},i||{});let o={className:"graphdialog",innerHTML:t,is_modified:!1,modified(){this.is_modified=!0},close(){this.remove()}},s=document.createElement("div"),a=Object.assign(s,o),_=this.canvas.getBoundingClientRect(),l=-20,d=-20;if(_&&(l-=_.left,d-=_.top),i.position?(l+=i.position[0],d+=i.position[1]):i.event?(l+=i.event.clientX,d+=i.event.clientY):(l+=this.canvas.width*.5,d+=this.canvas.height*.5),a.style.left=`${l}px`,a.style.top=`${d}px`,!this.canvas.parentNode)throw new TypeError("Canvas parent element was null.");if(this.canvas.parentNode.append(a),i.checkForInput){let h=a.querySelectorAll("input");if(h)for(let g of h)g.addEventListener("keydown",function(k){if(a.modified(),k.key=="Escape")a.close();else if(k.key!="Enter")return;k.preventDefault(),k.stopPropagation()}),g.focus()}let u,p=0;a.addEventListener("mouseleave",function(){p||!a.is_modified&&m.dialog_close_on_mouse_leave&&(u=setTimeout(a.close,m.dialog_close_on_mouse_leave_delay))}),a.addEventListener("mouseenter",function(){(i.closeOnLeave||m.dialog_close_on_mouse_leave)&&u&&clearTimeout(u)});let f=a.querySelectorAll("select");if(f)for(let h of f)h.addEventListener("click",function(){p++}),h.addEventListener("blur",function(){p=0}),h.addEventListener("change",function(){p=-1});return a}createPanel(t,i){i=i||{};let n=i.window||window,o=document.createElement("div");if(o.className="litegraph dialog",o.innerHTML="<div class='dialog-header'><span class='dialog-title'></span></div><div class='dialog-content'></div><div style='display:none;' class='dialog-alt-content'></div><div class='dialog-footer'></div>",o.header=o.querySelector(".dialog-header"),i.width&&(o.style.width=i.width+(typeof i.width=="number"?"px":"")),i.height&&(o.style.height=i.height+(typeof i.height=="number"?"px":"")),i.closable){let s=document.createElement("span");s.innerHTML="&#10005;",s.classList.add("close"),s.addEventListener("click",function(){o.close()}),o.header.append(s)}return o.title_element=o.querySelector(".dialog-title"),o.title_element.textContent=t,o.content=o.querySelector(".dialog-content"),o.alt_content=o.querySelector(".dialog-alt-content"),o.footer=o.querySelector(".dialog-footer"),o.close=function(){typeof o.onClose=="function"&&o.onClose(),o.remove(),this.remove()},o.toggleAltContent=function(s){let a,_;s!==void 0?(a=s?"block":"none",_=s?"none":"block"):(a=o.alt_content.style.display!="block"?"block":"none",_=o.alt_content.style.display!="block"?"none":"block"),o.alt_content.style.display=a,o.content.style.display=_},o.toggleFooterVisibility=function(s){let a;s!==void 0?a=s?"block":"none":a=o.footer.style.display!="block"?"block":"none",o.footer.style.display=a},o.clear=function(){this.content.innerHTML=""},o.addHTML=function(s,a,_){let l=document.createElement("div");return a&&(l.className=a),l.innerHTML=s,_?o.footer.append(l):o.content.append(l),l},o.addButton=function(s,a,_){let l=document.createElement("button");return l.textContent=s,l.options=_,l.classList.add("btn"),l.addEventListener("click",a),o.footer.append(l),l},o.addSeparator=function(){let s=document.createElement("div");s.className="separator",o.content.append(s)},o.addWidget=function(s,a,_,l,d){l=l||{};let u=String(_);s=s.toLowerCase(),s=="number"&&typeof _=="number"&&(u=_.toFixed(3));let p=document.createElement("div");p.className="property",p.innerHTML="<span class='property_name'></span><span class='property_value'></span>";let f=p.querySelector(".property_name");if(!f)throw new TypeError("Property name element was null.");f.textContent=l.label||a;let h=p.querySelector(".property_value");if(!h)throw new TypeError("Property name element was null.");if(h.textContent=u,p.dataset.property=a,p.dataset.type=l.type||s,p.options=l,p.value=_,s=="code")p.addEventListener("click",function(){o.inner_showCodePad(this.dataset.property)});else if(s=="boolean")p.classList.add("boolean"),_&&p.classList.add("bool-on"),p.addEventListener("click",()=>{let k=p.dataset.property;if(p.value=!p.value,p.classList.toggle("bool-on"),!h)throw new TypeError("Property name element was null.");h.textContent=p.value?"true":"false",g(k,p.value)});else if(s=="string"||s=="number"){if(!h)throw new TypeError("Property name element was null.");h.setAttribute("contenteditable","true"),h.addEventListener("keydown",function(k){k.code=="Enter"&&(s!="string"||!k.shiftKey)&&(k.preventDefault(),this.blur())}),h.addEventListener("blur",function(){let k=this.textContent,b=this.parentElement?.dataset.property;this.parentElement?.dataset.type=="number"&&(k=Number(k)),g(b,k)})}else if(s=="enum"||s=="combo"){let k=C.getPropertyPrintableValue(_,l.values);if(!h)throw new TypeError("Property name element was null.");h.textContent=k??"",h.addEventListener("click",function(b){let y=l.values||[],E=this.parentElement?.dataset.property,A=L=>(this.textContent=L,g(E,L),!1);new m.ContextMenu(y,{event:b,className:"dark",callback:A},n)})}o.content.append(p);function g(k,b){l.callback?.(k,b,l),d?.(k,b,l)}return p},typeof o.onOpen=="function"&&o.onOpen(),o}closePanels(){document.querySelector("#node-panel")?.close?.(),document.querySelector("#option-panel")?.close?.()}showShowNodePanel(t){this.SELECTED_NODE=t,this.closePanels();let i=this.getCanvasWindow(),n=this.createPanel(t.title||"",{closable:!0,window:i,onOpen:()=>{this.NODEPANEL_IS_OPEN=!0},onClose:()=>{this.NODEPANEL_IS_OPEN=!1,this.node_panel=null}});this.node_panel=n,n.id="node-panel",n.node=t,n.classList.add("settings");let o=()=>{n.content.innerHTML="",n.addHTML(`<span class='node_type'>${t.type}</span><span class='node_desc'>${t.constructor.desc||""}</span><span class='separator'></span>`),n.addHTML("<h3>Properties</h3>");let s=(l,d)=>{if(!this.graph)throw new R;switch(this.graph.beforeChange(t),l){case"Title":if(typeof d!="string")throw new TypeError("Attempting to set title to non-string value.");t.title=d;break;case"Mode":{if(typeof d!="string")throw new TypeError("Attempting to set mode to non-string value.");let u=Object.values(m.NODE_MODES).indexOf(d);u!==-1&&m.NODE_MODES[u]?t.changeMode(u):console.warn(`unexpected mode: ${d}`);break}case"Color":if(typeof d!="string")throw new TypeError("Attempting to set colour to non-string value.");C.node_colors[d]?(t.color=C.node_colors[d].color,t.bgcolor=C.node_colors[d].bgcolor):console.warn(`unexpected color: ${d}`);break;default:t.setProperty(l,d);break}this.graph.afterChange(),this.dirty_canvas=!0};n.addWidget("string","Title",t.title,{},s);let a=t.mode==null?void 0:m.NODE_MODES[t.mode];n.addWidget("combo","Mode",a,{values:m.NODE_MODES},s);let _=t.color!==void 0?Object.keys(C.node_colors).filter(function(l){return C.node_colors[l].color==t.color}):"";n.addWidget("combo","Color",_,{values:Object.keys(C.node_colors)},s);for(let l in t.properties){let d=t.properties[l],u=t.getPropertyInfo(l);t.onAddPropertyToPanel?.(l,n)||n.addWidget(u.widget||u.type,l,d,u,s)}n.addSeparator(),t.onShowCustomPanelInfo?.(n),n.footer.innerHTML="",n.addButton("Delete",function(){if(!t.block_delete){if(!t.graph)throw new R;t.graph.remove(t),n.close()}}).classList.add("delete")};if(n.inner_showCodePad=function(s){n.classList.remove("settings"),n.classList.add("centered"),n.alt_content.innerHTML="<textarea class='code'></textarea>";let a=n.alt_content.querySelector("textarea"),_=function(){n.toggleAltContent(!1),n.toggleFooterVisibility(!0),a.remove(),n.classList.add("settings"),n.classList.remove("centered"),o()};a.value=String(t.properties[s]),a.addEventListener("keydown",function(u){u.code=="Enter"&&u.ctrlKey&&(t.setProperty(s,a.value),_())}),n.toggleAltContent(!0),n.toggleFooterVisibility(!1),a.style.height="calc(100% - 40px)";let l=n.addButton("Assign",function(){t.setProperty(s,a.value),_()});n.alt_content.append(l);let d=n.addButton("Close",_);d.style.float="right",n.alt_content.append(d)},o(),!this.canvas.parentNode)throw new TypeError("showNodePanel - this.canvas.parentNode was null");this.canvas.parentNode.append(n)}checkPanels(){if(!this.canvas)return;if(!this.canvas.parentNode)throw new TypeError("checkPanels - this.canvas.parentNode was null");let t=this.canvas.parentNode.querySelectorAll(".litegraph.dialog");for(let i of t)i.node&&(!i.node.graph||i.graph!=this.graph)&&i.close()}getCanvasMenuOptions(){let t;this.getMenuOptions?t=this.getMenuOptions():(t=[{content:"Add Node",has_submenu:!0,callback:C.onMenuAdd},{content:"Add Group",callback:C.onGroupAdd}],Object.keys(this.selected_nodes).length>1&&t.push({content:"Convert to Subgraph \u{1F195}",callback:()=>{if(!this.selectedItems.size)throw new Error("Convert to Subgraph: Nothing selected.");this._graph.convertToSubgraph(this.selectedItems)}},{content:"Align",has_submenu:!0,callback:C.onGroupAlign}));let i=this.getExtraMenuOptions?.(this,t);return Array.isArray(i)?t.concat(i):t}getNodeMenuOptions(t){let i;t.getMenuOptions?i=t.getMenuOptions(this):(i=[{content:"Inputs",has_submenu:!0,disabled:!0},{content:"Outputs",has_submenu:!0,disabled:!0,callback:C.showMenuNodeOptionalOutputs},null,{content:"Convert to Subgraph \u{1F195}",callback:()=>{if(!this.selectedItems.size)throw new Error("Convert to Subgraph: Nothing selected.");this._graph.convertToSubgraph(this.selectedItems)}},{content:"Properties",has_submenu:!0,callback:C.onShowMenuNodeProperties},{content:"Properties Panel",callback:function(o,s,a,_,l){C.active_canvas.showShowNodePanel(l)}},null,{content:"Title",callback:C.onShowPropertyEditor},{content:"Mode",has_submenu:!0,callback:C.onMenuNodeMode}],t.resizable!==!1&&i.push({content:"Resize",callback:C.onMenuResizeNode}),t.collapsible&&i.push({content:t.collapsed?"Expand":"Collapse",callback:C.onMenuNodeCollapse}),t.widgets?.some(o=>o.advanced)&&i.push({content:t.showAdvanced?"Hide Advanced":"Show Advanced",callback:C.onMenuToggleAdvanced}),i.push({content:t.pinned?"Unpin":"Pin",callback:()=>{for(let o in this.selected_nodes)this.selected_nodes[o].pin();this.setDirty(!0,!0)}},{content:"Colors",has_submenu:!0,callback:C.onMenuNodeColors},{content:"Shapes",has_submenu:!0,callback:C.onMenuNodeShapes},null));let n=t.getExtraMenuOptions?.(this,i);return Array.isArray(n)&&n.length>0&&(n.push(null),i=n.concat(i)),t.clonable!==!1&&i.push({content:"Clone",callback:C.onMenuNodeClone}),Object.keys(this.selected_nodes).length>1&&i.push({content:"Align Selected To",has_submenu:!0,callback:C.onNodeAlign},{content:"Distribute Nodes",has_submenu:!0,callback:C.createDistributeMenu}),i.push(null,{content:"Remove",disabled:!(t.removable!==!1&&!t.block_delete),callback:C.onMenuNodeRemove}),t.graph?.onGetNodeMenuOptions?.(i,t),i}getGroupMenuOptions(t){return console.warn("LGraphCanvas.getGroupMenuOptions is deprecated, use LGraphGroup.getMenuOptions instead"),t.getMenuOptions()}processContextMenu(t,i){let o=C.active_canvas.getCanvasWindow(),s,a={event:i,callback:d,extra:t};if(t){a.title=t.displayType??t.type??void 0,C.active_node=t;let u=t.getSlotInPosition(i.canvasX,i.canvasY);if(u){if(s=[],t.getSlotMenuOptions)s=t.getSlotMenuOptions(u);else{(u.output?.links?.length||u.input?.link!=null)&&s.push({content:"Disconnect Links",slot:u});let p=u.input||u.output;if(!p)throw new TypeError("Both in put and output slots were null when processing context menu.");p.removable&&s.push(p.locked?"Cannot remove":{content:"Remove Slot",slot:u}),!p.nameLocked&&!("link"in p&&p.widget)&&s.push({content:"Rename Slot",slot:u}),t.getExtraSlotMenuOptions&&s.push(...t.getExtraSlotMenuOptions(u))}a.title=(u.input?u.input.type:u.output.type)||"*",u.input&&u.input.type==m.ACTION&&(a.title="Action"),u.output&&u.output.type==m.EVENT&&(a.title="Event")}else s=this.getNodeMenuOptions(t)}else{if(s=this.getCanvasMenuOptions(),!this.graph)throw new R;if(this.links_render_mode!==pe.HIDDEN_LINK){let p=this.graph.getRerouteOnPos(i.canvasX,i.canvasY,w(this,Ce));p&&s.unshift({content:"Delete Reroute",callback:()=>{if(!this.graph)throw new R;this.graph.removeReroute(p.id)}},null)}let u=this.graph.getGroupOnPos(i.canvasX,i.canvasY);u&&s.push(null,{content:"Edit Group",has_submenu:!0,submenu:{title:"Group",extra:u,options:u.getMenuOptions()}})}if(!s)return;new m.ContextMenu(s,a,o);let _=u=>this.createDialog("<span class='name'>Name</span><input autofocus type='text'/><button>OK</button>",u),l=()=>this.setDirty(!0);function d(u,p){if(u){if(u.content=="Remove Slot"){if(!t?.graph)throw new R;let f=u.slot;if(!f)throw new TypeError("Found-slot info was null when processing context menu.");t.graph.beforeChange(),f.input?t.removeInput(f.slot):f.output&&t.removeOutput(f.slot),t.graph.afterChange();return}else if(u.content=="Disconnect Links"){if(!t?.graph)throw new R;let f=u.slot;if(!f)throw new TypeError("Found-slot info was null when processing context menu.");t.graph.beforeChange(),f.output?t.disconnectOutput(f.slot):f.input&&t.disconnectInput(f.slot,!0),t.graph.afterChange();return}else if(u.content=="Rename Slot"){if(!t)throw new TypeError("`node` was null when processing the context menu.");let f=u.slot;if(!f)throw new TypeError("Found-slot info was null when processing context menu.");let h=f.input?t.getInputInfo(f.slot):t.getOutputInfo(f.slot),g=_(p),k=g.querySelector("input");k&&h&&(k.value=h.label||"");let b=function(){if(!t.graph)throw new R;t.graph.beforeChange(),k?.value&&(h&&(h.label=k.value),l()),g.close(),t.graph.afterChange()};if(g.querySelector("button")?.addEventListener("click",b),!k)throw new TypeError("Input element was null when processing context menu.");k.addEventListener("keydown",function(y){if(g.is_modified=!0,y.key=="Escape")g.close();else if(y.key=="Enter")b();else if(y.target.localName!="textarea")return;y.preventDefault(),y.stopPropagation()}),k.focus()}}}}animateToBounds(t,i={}){let n=()=>this.setDirty(!0,!0);this.ds.animateToBounds(t,n,i)}fitViewToSelectionAnimated(t={}){let i=this.selectedItems.size?Array.from(this.selectedItems):this.positionableItems,n=yn(i);if(!n)throw new TypeError("Attempted to fit to view but could not calculate bounds.");let o=()=>this.setDirty(!0,!0);this.ds.animateToBounds(n,o,t)}};dn=new WeakMap,un=new WeakMap,pn=new WeakMap,He=new WeakMap,qe=new WeakMap,fn=new WeakMap,hn=new WeakMap,gn=new WeakMap,ft=new WeakMap,O=new WeakSet,zi=function(){if(!this.state.shouldSetCursor)return;let t=ae.Node|ae.RerouteSlot|ae.SubgraphIoNode|ae.SubgraphIoSlot,i="default";this.state.draggingCanvas?i="grabbing":this.state.readOnly?i="grab":this.pointer.resizeDirection?i=Wn[this.pointer.resizeDirection]??Wn.SE:this.state.hoveringOver&t?i="crosshair":this.state.hoveringOver&ae.Reroute&&(i="grab"),this.canvas.style.cursor=i},Ue=new WeakMap,ki=new WeakMap,Ce=new WeakMap,ge=new WeakMap,bi=new WeakMap,ht=new WeakMap,Fs=function(t){if(typeof t=="string"){let i=document.getElementById(t);if(!(i instanceof HTMLCanvasElement))throw"Error validating LiteGraph canvas: Canvas element not found";return i}return t},Te=function(){this.dirty_canvas=!0,this.dirty_bgcanvas=!0},st=function(){let{graph:t,linkConnector:i,pointer:n}=this;if(!t)throw new R;n.onDragEnd=o=>i.dropLinks(t,o),n.finally=()=>this.linkConnector.reset(!0)},Ms=function(t,i){let n=this.subgraph?.getIoNodeOnPos(t,i);if(n)return n;for(let o of w(this,Ce))if(o.containsPoint([t,i]))return o;return this.graph?.getGroupTitlebarOnPos(t,i)},js=function(t,i){let{pointer:n,graph:o,linkConnector:s,subgraph:a}=this;if(!o)throw new R;let _=t.canvasX,l=t.canvasY,d=t.ctrlKey||t.metaKey;if(d&&!t.altKey&&m.canvasNavigationMode==="legacy"){T(this,O,mo).call(this,t,n,i);return}if(this.read_only){n.finally=()=>this.dragging_canvas=!1,this.dragging_canvas=!0;return}if(m.alt_drag_do_clone_nodes&&t.altKey&&!t.ctrlKey&&i&&this.allow_interaction){let u=i.type;if(i instanceof Yt){let f=i.subgraph.clone().asSerialisable(),h=o.createSubgraph(f);h.configure(f),u=h.id}let p=i.clone()?.serialize();if(p?.type!=null){let f=m.createNode(u);if(f){f.configure(p),f.pos[0]+=5,f.pos[1]+=5,this.allow_dragnodes?(n.onDragStart=h=>{o.add(f,!1),T(this,O,at).call(this,f,h)},n.onDragEnd=h=>T(this,O,rt).call(this,h)):(o.beforeChange(),o.add(f,!1),o.afterChange());return}}}if(i&&(this.allow_interaction||i.flags.allow_interaction))T(this,O,Ws).call(this,t,d,i);else{if(a){let h=function(b,y){return y.containsPoint([_,l])?(y.onPointerDown(t,n,s),n.onClick??(n.onClick=()=>b.processSelect(y,t)),n.onDragStart??(n.onDragStart=()=>{var E;return T(E=b,O,at).call(E,y,n,!0)}),n.onDragEnd??(n.onDragEnd=E=>{var A;return T(A=b,O,rt).call(A,E)}),!0):!1},{inputNode:g,outputNode:k}=a;if(h(this,g)||h(this,k))return}if(this.links_render_mode!==pe.HIDDEN_LINK)for(let h of w(this,Ce)){let g=h.containsPoint([_,l]);if(!(!h.isSlotHovered&&!g)){g&&(n.onClick=()=>this.processSelect(h,t),t.shiftKey||(n.onDragStart=k=>T(this,O,at).call(this,h,k,!0),n.onDragEnd=k=>T(this,O,rt).call(this,k))),(h.isOutputHovered||g&&t.shiftKey)&&(s.dragFromReroute(o,h),T(this,O,st).call(this)),h.isInputHovered&&(s.dragFromRerouteToOutput(o,h),T(this,O,st).call(this)),h.hideSlots(),this.dirty_bgcanvas=!0;return}}let{lineWidth:u}=this.ctx;this.ctx.lineWidth=this.connections_width+7;let p=window?.devicePixelRatio||1;for(let h of this.renderedPaths){let g=h._pos;if(g){if((t.shiftKey||t.altKey)&&h.path&&this.ctx.isPointInStroke(h.path,_*p,l*p)){if(this.ctx.lineWidth=u,t.shiftKey&&!t.altKey){s.dragFromLinkSegment(o,h),T(this,O,st).call(this);return}else if(t.altKey&&!t.shiftKey){let k=o.createReroute([_,l],h);n.onDragStart=b=>T(this,O,at).call(this,k,b),n.onDragEnd=b=>T(this,O,rt).call(this,b);return}}else if(Y(_,l,g[0]-4,g[1]-4,8,8)){this.ctx.lineWidth=u,n.onClick=()=>this.showLinkMenu(h,t),n.onDragStart=()=>this.dragging_canvas=!0,n.finally=()=>this.dragging_canvas=!1,this.over_link_center=void 0;return}}}this.ctx.lineWidth=u;let f=o.getGroupOnPos(_,l);if(this.selected_group=f??null,f){if(f.isInResize(_,l)){let h=f.boundingRect,g=_-(h[0]+h[2]),k=l-(h[1]+h[3]);n.onDragStart=()=>this.resizingGroup=f,n.onDrag=b=>{if(this.read_only)return;let y=[b.canvasX-f.pos[0]-g,b.canvasY-f.pos[1]-k];w(this,ge)&&lt(y,w(this,ge)),f.resize(y[0],y[1])&&(this.dirty_bgcanvas=!0)},n.finally=()=>this.resizingGroup=null}else{let g=(f.font_size||m.DEFAULT_GROUP_FONT_SIZE)*1.4;Y(_,l,f.pos[0],f.pos[1],f.size[0],g)&&(n.onClick=()=>this.processSelect(f,t),n.onDragStart=k=>{f.recomputeInsideNodes(),T(this,O,at).call(this,f,k,!0)},n.onDragEnd=k=>T(this,O,rt).call(this,k))}n.onDoubleClick=()=>{this.emitEvent({subType:"group-double-click",originalEvent:t,group:f})}}else n.onDoubleClick=()=>{this.allow_searchbox&&(this.showSearchBox(t),t.preventDefault()),this.emitEvent({subType:"empty-double-click",originalEvent:t})}}!n.onDragStart&&!n.onClick&&!n.onDrag&&this.allow_dragcanvas&&(m.canvasNavigationMode!=="standard"||this.read_only?(n.onClick=()=>this.processSelect(null,t),n.finally=()=>this.dragging_canvas=!1,this.dragging_canvas=!0):T(this,O,mo).call(this,t,n))},mo=function(t,i,n){let o=new Float32Array(4);o[0]=t.canvasX,o[1]=t.canvasY,o[2]=1,o[3]=1,i.onClick=s=>{let a=n??T(this,O,Ms).call(this,s.canvasX,s.canvasY);this.processSelect(a,s)},i.onDragStart=()=>this.dragging_rectangle=o,i.onDragEnd=s=>T(this,O,Gs).call(this,s,o),i.finally=()=>this.dragging_rectangle=null},Ws=function(t,i,n){let{pointer:o,graph:s,linkConnector:a}=this;if(!s)throw new R;let _=t.canvasX,l=t.canvasY;o.onClick=()=>this.processSelect(n,t),n.flags.pinned||this.bringToFront(n);let d=n.isPointInCollapse(_,l);if(d)o.onClick=()=>{n.collapse(),this.setDirty(!0,!0)};else if(!n.flags.collapsed){let{inputs:f,outputs:h}=n;if(h)for(let[g,k]of h.entries()){let b=n.getOutputPos(g);if(Y(_,l,b[0]-15,b[1]-10,30,20)){if(t.shiftKey&&(k.links?.length||k._floatingLinks?.size)){a.moveOutputLink(s,k),T(this,O,st).call(this);return}a.dragNewFromOutput(s,n,k),T(this,O,st).call(this),m.shift_click_do_break_link_from?t.shiftKey&&n.disconnectOutput(g):m.ctrl_alt_click_do_break_link&&i&&t.altKey&&!t.shiftKey&&n.disconnectOutput(g),o.onDoubleClick=()=>n.onOutputDblClick?.(g,t),o.onClick=()=>n.onOutputClick?.(g,t);return}}if(f)for(let[g,k]of f.entries()){let b=n.getInputPos(g);if(k instanceof $e?Vi(_,l,k.boundingRect):Y(_,l,b[0]-15,b[1]-10,30,20)){o.onDoubleClick=()=>n.onInputDblClick?.(g,t),o.onClick=()=>n.onInputClick?.(g,t);let E=m.ctrl_alt_click_do_break_link&&i&&t.altKey&&!t.shiftKey;(k.link!==null||k._floatingLinks?.size)&&(E||m.click_do_break_link_to?n.disconnectInput(g,!0):(t.shiftKey||this.allow_reconnect_links)&&a.moveInputLink(s,k)),a.isConnecting||a.dragNewFromInput(s,n,k),T(this,O,st).call(this),this.dirty_bgcanvas=!0;return}}}let u=[_-n.pos[0],l-n.pos[1]],p=n.getWidgetOnPos(_,l);if(p)T(this,O,Bs).call(this,t,n,p),this.node_widget=[n,p];else{if(o.onDoubleClick=()=>{u[1]<0&&!d?n.onNodeTitleDblClick?.(t,u,this):n instanceof Yt&&this.openSubgraph(n.subgraph),n.onDblClick?.(t,u,this),this.emitEvent({subType:"node-double-click",originalEvent:t,node:n}),this.processNodeDblClicked(n)},n.onMouseDown?.(t,u,this)||!this.allow_dragnodes)return;if(!n.flags.collapsed){let f=n.findResizeDirection(_,l);if(f){o.resizeDirection=f;let h=new fe(n.pos[0],n.pos[1],n.size[0],n.size[1]);o.onDragStart=()=>{s.beforeChange(),this.resizing_node=n},o.onDrag=g=>{if(this.read_only)return;let k=g.canvasX-_,b=g.canvasY-l,y=new fe(h.x,h.y,h.width,h.height);switch(f){case"NE":y.y=h.y+b,y.width=h.width+k,y.height=h.height-b;break;case"SE":y.width=h.width+k,y.height=h.height+b;break;case"SW":y.x=h.x+k,y.width=h.width-k,y.height=h.height+b;break;case"NW":y.x=h.x+k,y.y=h.y+b,y.width=h.width-k,y.height=h.height-b;break}if(w(this,ge)){if(f.includes("N")||f.includes("W")){let A=y.x,L=y.y;lt(y.pos,w(this,ge)),f.includes("N")&&(y.height+=L-y.y),f.includes("W")&&(y.width+=A-y.x)}lt(y.size,w(this,ge))}let E=n.computeSize();y.width<E[0]&&(f.includes("W")&&(y.x=h.x+h.width-E[0]),y.width=E[0]),y.height<E[1]&&(f.includes("N")&&(y.y=h.y+h.height-E[1]),y.height=E[1]),n.pos=y.pos,n.setSize(y.size),T(this,O,Te).call(this)},o.onDragEnd=()=>{T(this,O,Te).call(this),s.afterChange(n)},o.finally=()=>{this.resizing_node=null,o.resizeDirection=void 0},this.canvas.style.cursor=Wn[f];return}}o.onDragStart=f=>T(this,O,at).call(this,n,f,!0),o.onDragEnd=f=>T(this,O,rt).call(this,f)}this.dirty_canvas=!0},Bs=function(t,i,n){let{pointer:o}=this;if(typeof n.onPointerDown=="function"&&n.onPointerDown(o,i,this))return;let s=n.value,a=this.graph_mouse,_=a[0]-i.pos[0],l=a[1]-i.pos[1],d=Ki(n,i,!1);if(d)o.onClick=()=>d.onClick({e:t,node:i,canvas:this}),o.onDrag=u=>d.onDrag?.({e:u,node:i,canvas:this});else if(n.mouse){let u=n.mouse(t,[_,l],i);u!=null&&(this.dirty_canvas=u)}if(s!=n.value){if(i.onWidgetChanged?.(n.name,n.value,s,n),!i.graph)throw new R;i.graph._version++}o.finally=()=>{if(n.mouse){let{eUp:u}=o;if(!u)return;let{canvasX:p,canvasY:f}=u;n.mouse(u,[p-i.pos[0],f-i.pos[1]],i)}this.node_widget=null}},zs=function(t,i){let{pointer:n}=this;if(m.middle_click_slot_add_default_node&&i&&this.allow_interaction&&!this.read_only&&!this.connecting_links&&!i.flags.collapsed){let o=!1,s=!1,a=!1,{inputs:_,outputs:l}=i;if(l)for(let[d,u]of l.entries()){let p=i.getOutputPos(d);if(Y(t.canvasX,t.canvasY,p[0]-15,p[1]-10,30,20)){o=u,s=d,a=!0;break}}if(_)for(let[d,u]of _.entries()){let p=i.getInputPos(d);if(Y(t.canvasX,t.canvasY,p[0]-15,p[1]-10,30,20)){o=u,s=d,a=!1;break}}if(o&&s!==!1){let d=.5-(s+1)/(a?l.length:_.length),u=i.getBounding(),p=[a?u[0]+u[2]:u[0],t.canvasY-80];n.onClick=()=>this.createDefaultNodeForSlot({nodeFrom:a?i:null,slotFrom:a?s:null,nodeTo:a?null:i,slotTo:a?null:s,position:p,nodeType:"AUTO",posAdd:[a?30:-30,-d*130],posSizeFix:[a?0:-1,0]})}}this.allow_dragcanvas&&(n.onDragStart=()=>this.dragging_canvas=!0,n.finally=()=>this.dragging_canvas=!1)},Vs=function(t){if(!t.buttons){B(this,ht,null);return}let i=w(this,ht);if(!i)throw new TypeError("Drag-zoom state object was null");if(!this.graph)throw new R;let n=t.y-i.pos[1],s=i.scale-n/100;this.ds.changeScale(s,i.pos),this.graph.change()},Hs=function(t){let{graph:i,pointer:n,linkConnector:o}=this;if(!i)throw new R;if(n.isDown){if(o.isConnecting){for(let s of w(this,Ce))if(s.containsPoint(this.graph_mouse))return o.isRerouteValidDrop(s)&&(o.overReroute=s,this._highlight_pos=s.pos),t|=ae.RerouteSlot}}else{let s=!1;for(let a of w(this,Ce))s||(s=a.updateVisibility(this.graph_mouse)),a.isSlotHovered&&(t|=ae.RerouteSlot);s&&(this.dirty_bgcanvas=!0)}return this._highlight_pos&&(this._highlight_pos=void 0),o.overReroute&&(o.overReroute=void 0),t},at=function(t,i,n=!1){this.emitBeforeChange(),this.graph?.beforeChange(),i.finally=()=>{this.isDragging=!1,this.graph?.afterChange(),this.emitAfterChange()},this.processSelect(t,i.eDown,n),this.isDragging=!0},rt=function(t){let{graph:i}=this;(t.shiftKey||m.alwaysSnapToGrid)&&i?.snapToGrid(this.selectedItems),this.dirty_canvas=!0,this.dirty_bgcanvas=!0,this.onNodeMoved?.(hr(this.selectedItems))},Us=function(){let t=new CustomEvent("litegraph:no-items-selected",{bubbles:!0});this.canvas.dispatchEvent(t)},Gs=function(t,i){let{graph:n,selectedItems:o,subgraph:s}=this;if(!n)throw new R;let a=Math.abs(i[2]),_=Math.abs(i[3]);i[2]<0&&(i[0]-=a),i[3]<0&&(i[1]-=_),i[2]=a,i[3]=_;let l=new Set,d=[];if(s){let{inputNode:p,outputNode:f}=s;ot(i,p.boundingRect)&&u(p),ot(i,f.boundingRect)&&u(f)}for(let p of n._nodes)ot(i,p.boundingRect)&&u(p);for(let p of n.groups)hs(i,p._bounding)&&(p.recomputeInsideNodes(),u(p));for(let p of n.reroutes.values())qt(p.pos,i)&&(o.add(p),p.selected=!0,u(p));if(t.shiftKey)for(let p of d)this.select(p);else if(t.altKey)for(let p of l)this.deselect(p);else{for(let p of o.values())l.has(p)||this.deselect(p);for(let p of d)this.select(p)}this.onSelectionChange?.(this.selected_nodes);function u(p){!p.selected||!o.has(p)?d.push(p):l.add(p)}},Xs=function(t){for(let i of this.renderedPaths){let n=i._pos;if(n&&Y(t.canvasX,t.canvasY,n[0]-4,n[1]-4,8,8))return i}},$s=function(){return m.snaps_for_comfy?this.linkConnector.state.snapLinksPos??this._highlight_pos??this.graph_mouse:this.graph_mouse},Ks=function(t,i){let n=!!this.linkConnector.state.snapLinksPos;if(!this._highlight_pos&&!n)return;t.fillStyle="#ffcc00",t.beginPath(),this._highlight_input?.shape===W.ARROW?(t.moveTo(i[0]+8,i[1]+.5),t.lineTo(i[0]-4,i[1]+6+.5),t.lineTo(i[0]-4,i[1]-6+.5),t.closePath()):t.arc(i[0],i[1],6,0,Math.PI*2),t.fill();let{linkConnector:s}=this,{overReroute:a,overWidget:_}=s;if(!m.snap_highlights_node||!s.isConnecting||n)return;a?.drawHighlight(t,"#ffcc00aa");let l=this.node_over;if(!l)return;let{strokeStyle:d,lineWidth:u}=t,p=l.boundingRect,f=3,h=m.ROUND_RADIUS+f,g=p[0]-f,k=p[1]-f,b=p[2]+f*2,y=p[3]+f*2;t.beginPath(),t.roundRect(g,k,b,y,h);let E=s.state.connectingTo==="output"?0:1,A=E?-1:1,L=i[0],N=i[1],S=b<y?b:b*Math.max(y/b,.5),j=t.createRadialGradient(L,N,0,L,N,S);j.addColorStop(1,"#00000000"),j.addColorStop(0,"#ffcc00aa");let I=t.createLinearGradient(g,k,g+b,k);if(I.addColorStop(.5,"#00000000"),I.addColorStop(E+.67*A,"#ddeeff33"),I.addColorStop(E+A,"#ffcc0055"),t.setLineDash([h,h*.001]),t.lineWidth=1,t.strokeStyle=I,t.stroke(),_){let{computedHeight:q}=_;t.beginPath();let{pos:[D,U]}=l,F=m.NODE_WIDGET_HEIGHT;_.type.startsWith("custom")&&q!=null&&q>F*2?t.rect(D+9,U+_.y+9,(_.width??p[2])-18,q-18):t.roundRect(D+J.margin,U+_.y,_.width??p[2],F,F*.5),t.stroke()}t.strokeStyle=j,t.stroke(),t.setLineDash([]),t.lineWidth=u,t.strokeStyle=d},Ys=function(t,i,n,o){let{globalAlpha:s}=t;t.globalAlpha=s*.33;for(let a of i.floatingLinks.values()){let _=H.getReroutes(i,a),l=_[0],d=_.at(-1);if(!(!l||!d?.floating))if(d.floating.slotType==="input"){let u=i.getNodeById(a.target_id);if(!u)continue;let p=l.pos,f=u.getInputPos(a.target_slot),h=u.inputs[a.target_slot]?.dir;l._dragging=!0,T(this,O,kt).call(this,t,a,p,f,n,o,M.CENTER,h,!0)}else{let u=i.getNodeById(a.origin_id);if(!u)continue;let p=u.getOutputPos(a.origin_slot),f=d.pos,h=u.outputs[a.origin_slot]?.dir;a._dragging=!0,T(this,O,kt).call(this,t,a,p,f,n,o,h,M.CENTER,!0)}}t.globalAlpha=s},kt=function(t,i,n,o,s,a,_,l,d=!1){let{graph:u,renderedPaths:p}=this;if(!u)return;let f=H.getReroutes(u,i),h=[n,...f.map(E=>E.pos),o],g=h.map(E=>E[0]),k=h.map(E=>E[1]);if(w(C,qe)[0]=Math.min(...g),w(C,qe)[1]=Math.min(...k),w(C,qe)[2]=Math.max(...g)-w(C,qe)[0],w(C,qe)[3]=Math.max(...k)-w(C,qe)[1],!ot(w(C,qe),w(C,He)))return;let b=_||M.RIGHT,y=l||M.LEFT;if(f.length){let E,A=f.length;for(let N=0;N<A;N++){let S=f[N];if(!p.has(S)){p.add(S),s.push(S),S._colour=i.color||C.link_type_colors[i.type]||this.default_link_color;let I=u.getReroute(S.parentId)?.pos??n;S.calculateAngle(this.last_draw_time,u,I),S._dragging||this.renderLink(t,I,S.pos,i,!1,0,null,E===void 0?b:M.CENTER,M.CENTER,{startControl:E,endControl:S.controlPoint,reroute:S,disabled:d})}if(!E&&f.at(-1)?.floating?.slotType==="input")E=[0,0];else{let j=f[N+1]?.pos??o,I=Math.min(_e.maxSplineOffset,Xe(S.pos,j)*.25);E=[I*S.cos,I*S.sin]}}if(i._dragging)return;let L=h.at(-2)??n;this.renderLink(t,L,o,i,!1,0,null,M.CENTER,y,{startControl:E,disabled:d})}else i._dragging||this.renderLink(t,n,o,i,!1,0,null,b,y);if(p.add(i),i?._last_time&&a-i._last_time<1e3){let E=2-(a-i._last_time)*.002,A=t.globalAlpha;t.globalAlpha=A*E,this.renderLink(t,n,o,i,!0,E,"white",b,y),t.globalAlpha=A}},Gt=function(t,i,n,o=.25){switch(i){case M.LEFT:t[0]+=n*-o;break;case M.RIGHT:t[0]+=n*o;break;case M.UP:t[1]+=n*-o;break;case M.DOWN:t[1]+=n*o;break}},P(C,dn,new Float32Array(4)),P(C,un,new Float32Array(2)),P(C,pn,new Float32Array(4)),P(C,He,new Float32Array(4)),P(C,qe,new Float32Array(4)),P(C,fn,new Float32Array(2)),P(C,hn,new Float32Array(2)),P(C,gn,new Float32Array(2)),c(C,"DEFAULT_BACKGROUND_IMAGE","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQBJREFUeNrs1rEKwjAUhlETUkj3vP9rdmr1Ysammk2w5wdxuLgcMHyptfawuZX4pJSWZTnfnu/lnIe/jNNxHHGNn//HNbbv+4dr6V+11uF527arU7+u63qfa/bnmh8sWLBgwYJlqRf8MEptXPBXJXa37BSl3ixYsGDBMliwFLyCV/DeLIMFCxYsWLBMwSt4Be/NggXLYMGCBUvBK3iNruC9WbBgwYJlsGApeAWv4L1ZBgsWLFiwYJmCV/AK3psFC5bBggULloJX8BpdwXuzYMGCBctgwVLwCl7Be7MMFixYsGDBsu8FH1FaSmExVfAxBa/gvVmwYMGCZbBg/W4vAQYA5tRF9QYlv/QAAAAASUVORK5CYII="),c(C,"DEFAULT_EVENT_LINK_COLOR","#A86"),c(C,"link_type_colors",{"-1":C.DEFAULT_EVENT_LINK_COLOR,number:"#AAA",node:"#DCA"}),c(C,"gradients",{}),c(C,"search_limit",-1),c(C,"node_colors",{red:{color:"#322",bgcolor:"#533",groupcolor:"#A88"},brown:{color:"#332922",bgcolor:"#593930",groupcolor:"#b06634"},green:{color:"#232",bgcolor:"#353",groupcolor:"#8A8"},blue:{color:"#223",bgcolor:"#335",groupcolor:"#88A"},pale_blue:{color:"#2a363b",bgcolor:"#3f5159",groupcolor:"#3f789e"},cyan:{color:"#233",bgcolor:"#355",groupcolor:"#8AA"},purple:{color:"#323",bgcolor:"#535",groupcolor:"#a1309b"},yellow:{color:"#432",bgcolor:"#653",groupcolor:"#b58b2a"},black:{color:"#222",bgcolor:"#000",groupcolor:"#444"}}),c(C,"_measureText"),c(C,"active_canvas"),c(C,"active_node");var ee=C,sn=class{getOwnPropertyDescriptor(t,i){let n=this.get(t,i);if(n)return{configurable:!0,enumerable:!0,value:n}}has(t,i){if(typeof i=="symbol")return!1;let n=parseInt(i,10);return t.has(isNaN(n)?i:n)}ownKeys(t){return[...t.keys()].map(String)}get(t,i){if(i in t)return Reflect.get(t,i,t);if(typeof i=="symbol")return;let n=parseInt(i,10);return t.get(isNaN(n)?i:n)}set(t,i,n){if(typeof i=="symbol")return!1;let o=parseInt(i,10);return t.set(isNaN(o)?i:o,n),!0}deleteProperty(t,i){return t.delete(i)}static bindAllMethods(t){t.clear=t.clear.bind(t),t.delete=t.delete.bind(t),t.forEach=t.forEach.bind(t),t.get=t.get.bind(t),t.has=t.has.bind(t),t.set=t.set.bind(t),t.entries=t.entries.bind(t),t.keys=t.keys.bind(t),t.values=t.values.bind(t),t[Symbol.iterator]=t[Symbol.iterator].bind(t)}};function br(r){let t=new Set,i=new Set,n=new Set,o=new Set,s=new Set,a=new Set;for(let _ of r)switch(!0){case _ instanceof oe:t.add(_);break;case _ instanceof Me:n.add(_);break;case _ instanceof _e:i.add(_);break;case _ instanceof Zt:o.add(_);break;case _ instanceof ei:s.add(_);break;default:a.add(_);break}return{nodes:t,reroutes:i,groups:n,subgraphInputNodes:o,subgraphOutputNodes:s,unknown:a}}function yr(r,t){let i=[],n=[],o=[],s=[],a=[],_=new WeakSet;for(let d of t)if(!_.has(d)){if(_.add(d),d instanceof oe){let u=d;if(u.inputs)for(let p of u.inputs){if(l(p._floatingLinks),p.link==null)continue;let f=H.resolve(p.link,r);if(!f){console.debug(`Failed to resolve link ID [${p.link}]`);continue}let{link:h,outputNode:g}=f;g?t.has(g)?i.push(h):o.push(h):h.origin_id===je&&o.push(h)}if(u.outputs)for(let p of u.outputs){if(l(p._floatingLinks),!p.links)continue;let f=H.resolveMany(p.links,r);for(let{link:h,inputNode:g}of f)(h.target_id===We||g&&!t.has(g))&&s.push(h)}}else if(d instanceof _e){let u=d,p=H.resolveMany(u.linkIds,r);for(let{link:f}of p){let g=H.getReroutes(r,f).filter(y=>!t.has(y)),{inputNode:k,outputNode:b}=f.resolve(r);(g.length||k&&!t.has(k)||b&&!t.has(b))&&n.push(f)}}}return{boundaryLinks:n,boundaryFloatingLinks:a,internalLinks:i,boundaryInputLinks:o,boundaryOutputLinks:s};function l(d){if(d)for(let u of d)H.getReroutes(r,u).some(f=>!t.has(f))&&a.push(u)}}function wr(r){let t=[];for(let i of r){let n=m.createNode(i.type);if(!n){console.warn("Failed to create node",i.type);continue}let o=m.cloneObject(i.serialize());n.configure(o),t.push(n.serialize())}return t}function an(r){let t=new Map;for(let i of r){let n=i.subgraphInput??i.output??{},o=t.get(n);o?o.push(i):t.set(n,[i])}return t}function Sr(r,t){let i=an(r),n=[];for(let[,o]of i){let s=[];for(let A of o){let{link:L,input:N}=A;if(!N)continue;let S=L.asSerialisable();S.origin_id=je,S.origin_slot=n.length,t.push(S),s.push(S)}let{input:a}=o[0];if(!a)continue;let{color_off:_,color_on:l,dir:d,hasErrors:u,label:p,localized_name:f,name:h,shape:g,type:k}=a,b=Rt(h,n.map(A=>A.name)),y=f?Rt(f,n.map(A=>A.localized_name??"")):void 0,E={id:Pe(),type:String(k),linkIds:s.map(A=>A.id),name:b,color_off:_,color_on:l,dir:d,label:p,localized_name:y,hasErrors:u,shape:g};n.push(E)}return n}function Tr(r,t){let i=an(r),n=[];for(let[,o]of i){let s=[];for(let A of o){let{link:L,output:N}=A;if(!N)continue;let S=L.asSerialisable();S.target_id=We,S.target_slot=n.length,t.push(S),s.push(S)}let{output:a}=o[0];if(!a)continue;let{color_off:_,color_on:l,dir:d,hasErrors:u,label:p,localized_name:f,name:h,shape:g,type:k}=a,b=Rt(h,n.map(A=>A.name)),y=f?Rt(f,n.map(A=>A.localized_name??"")):void 0,E={id:Pe(),type:String(k),linkIds:s.map(A=>A.id),name:b,color_off:_,color_on:l,dir:d,label:p,localized_name:y,hasErrors:u,shape:g};n.push(structuredClone(E))}return n}var gt,mt,mn,vn,Qs,yi,ue=class ue{constructor(t){P(this,vn);c(this,"id",Xt);c(this,"revision",0);c(this,"_version",-1);c(this,"_links",new Map);c(this,"links");c(this,"list_of_graphcanvas");c(this,"status",ue.STATUS_STOPPED);c(this,"state",{lastGroupId:0,lastNodeId:0,lastLinkId:0,lastRerouteId:0});c(this,"events",new Qt);c(this,"_subgraphs",new Map);c(this,"_nodes",[]);c(this,"_nodes_by_id",{});c(this,"_nodes_in_order",[]);c(this,"_nodes_executable",null);c(this,"_groups",[]);c(this,"iteration",0);c(this,"globaltime",0);c(this,"runningtime",0);c(this,"fixedtime",0);c(this,"fixedtime_lapse",.01);c(this,"elapsed_time",.01);c(this,"last_update_time",0);c(this,"starttime",0);c(this,"catch_errors",!0);c(this,"execution_timer_id");c(this,"errors_in_execution");c(this,"execution_time");c(this,"_last_trigger_time");c(this,"filter");c(this,"config",{});c(this,"vars",{});c(this,"nodes_executing",[]);c(this,"nodes_actioning",[]);c(this,"nodes_executedAction",[]);c(this,"extra",{});c(this,"version");P(this,gt,0);P(this,mt,new Map);P(this,mn,new Map);c(this,"_input_nodes");P(this,yi);m.debug&&console.log("Graph created");let i=this._links;sn.bindAllMethods(i);let n=new sn;this.links=new Proxy(i,n),this.list_of_graphcanvas=null,this.clear(),t&&this.configure(t)}get empty(){return this._nodes.length+this._groups.length+this.reroutes.size===0}*positionableItems(){for(let t of this._nodes)yield t;for(let t of this._groups)yield t;for(let t of this.reroutes.values())yield t}get floatingLinks(){return w(this,mt)}get reroutes(){return w(this,mn)}get rootGraph(){return this}get isRootGraph(){return this.rootGraph===this}get last_node_id(){return this.state.lastNodeId}set last_node_id(t){this.state.lastNodeId=t}get last_link_id(){return this.state.lastLinkId}set last_link_id(t){this.state.lastLinkId=t}clear(){if(this.stop(),this.status=ue.STATUS_STOPPED,this.id=Xt,this.revision=0,this.state={lastGroupId:0,lastNodeId:0,lastLinkId:0,lastRerouteId:0},this._version=-1,this._subgraphs.clear(),this._nodes)for(let t of this._nodes)t.onRemoved?.();this._nodes=[],this._nodes_by_id={},this._nodes_in_order=[],this._nodes_executable=null,this._links.clear(),this.reroutes.clear(),w(this,mt).clear(),B(this,gt,0),this._groups=[],this.iteration=0,this.config={},this.vars={},this.extra={},this.globaltime=0,this.runningtime=0,this.fixedtime=0,this.fixedtime_lapse=.01,this.elapsed_time=.01,this.last_update_time=0,this.starttime=0,this.catch_errors=!0,this.nodes_executing=[],this.nodes_actioning=[],this.nodes_executedAction=[],this.change(),this.canvasAction(t=>t.clear())}get subgraphs(){return this.rootGraph._subgraphs}get nodes(){return this._nodes}get groups(){return this._groups}attachCanvas(t){if(!(t instanceof ee))throw new TypeError("attachCanvas expects an LGraphCanvas instance");this.primaryCanvas=t,this.list_of_graphcanvas??(this.list_of_graphcanvas=[]),this.list_of_graphcanvas.includes(t)||this.list_of_graphcanvas.push(t),t.graph!==this&&(t.graph?.detachCanvas(t),t.graph=this,t.subgraph=void 0)}detachCanvas(t){t.graph=null;let i=this.list_of_graphcanvas;if(i){let n=i.indexOf(t);n!==-1&&i.splice(n,1)}}start(t){if(this.status!=ue.STATUS_RUNNING)if(this.status=ue.STATUS_RUNNING,this.onPlayEvent?.(),this.sendEventToAllNodes("onStart"),this.starttime=m.getTime(),this.last_update_time=this.starttime,t||(t=0),t==0&&typeof window<"u"&&window.requestAnimationFrame){let i=()=>{this.execution_timer_id==-1&&(window.requestAnimationFrame(i),this.onBeforeStep?.(),this.runStep(1,!this.catch_errors),this.onAfterStep?.())};this.execution_timer_id=-1,i()}else this.execution_timer_id=setInterval(()=>{this.onBeforeStep?.(),this.runStep(1,!this.catch_errors),this.onAfterStep?.()},t)}stop(){this.status!=ue.STATUS_STOPPED&&(this.status=ue.STATUS_STOPPED,this.onStopEvent?.(),this.execution_timer_id!=null&&(this.execution_timer_id!=-1&&clearInterval(this.execution_timer_id),this.execution_timer_id=null),this.sendEventToAllNodes("onStop"))}runStep(t,i,n){t=t||1;let o=m.getTime();this.globaltime=.001*(o-this.starttime);let s=this._nodes_executable||this._nodes;if(!s)return;if(n=n||s.length,i){for(let l=0;l<t;l++){for(let d=0;d<n;++d){let u=s[d];u.mode==te.ALWAYS&&u.onExecute&&u.doExecute?.()}this.fixedtime+=this.fixedtime_lapse,this.onExecuteStep?.()}this.onAfterExecute?.()}else try{for(let l=0;l<t;l++){for(let d=0;d<n;++d){let u=s[d];u.mode==te.ALWAYS&&u.onExecute?.()}this.fixedtime+=this.fixedtime_lapse,this.onExecuteStep?.()}this.onAfterExecute?.(),this.errors_in_execution=!1}catch(l){if(this.errors_in_execution=!0,m.throw_errors)throw l;m.debug&&console.log("Error during execution:",l),this.stop()}let a=m.getTime(),_=a-o;_==0&&(_=1),this.execution_time=.001*_,this.globaltime+=.001*_,this.iteration+=1,this.elapsed_time=(a-this.last_update_time)*.001,this.last_update_time=a,this.nodes_executing=[],this.nodes_actioning=[],this.nodes_executedAction=[]}updateExecutionOrder(){this._nodes_in_order=this.computeExecutionOrder(!1),this._nodes_executable=[];for(let t of this._nodes_in_order)t.onExecute&&this._nodes_executable.push(t)}computeExecutionOrder(t,i){let n=[],o=[],s={},a={},_={};for(let d of this._nodes){if(t&&!d.onExecute)continue;s[d.id]=d;let u=0;if(d.inputs)for(let p of d.inputs)p?.link!=null&&(u+=1);u==0?(o.push(d),i&&(d._level=1)):(i&&(d._level=0),_[d.id]=u)}for(;;){let d=o.shift();if(d===void 0)break;if(n.push(d),delete s[d.id],!!d.outputs){for(let u of d.outputs)if(!(u?.links==null||u.links.length==0))for(let p of u.links){let f=this._links.get(p);if(!f||a[f.id])continue;let h=this.getNodeById(f.target_id);if(h==null){a[f.id]=!0;continue}i&&(d._level??(d._level=0),(!h._level||h._level<=d._level)&&(h._level=d._level+1)),a[f.id]=!0,_[h.id]-=1,_[h.id]==0&&o.push(h)}}}for(let d in s)n.push(s[d]);n.length!=this._nodes.length&&m.debug&&console.warn("something went wrong, nodes missing");function l(d){let u=d.length;for(let p=0;p<u;++p)d[p].order=p}return l(n),n.sort(function(d,u){let p=d.constructor.priority||d.priority||0,f=u.constructor.priority||u.priority||0;return p==f?d.order-u.order:p-f}),l(n),n}arrange(t,i){t=t||100;let n=this.computeExecutionOrder(!1,!0),o=[];for(let a of n){let _=a._level||1;o[_]||(o[_]=[]),o[_].push(a)}let s=t;for(let a of o){if(!a)continue;let _=100,l=t+m.NODE_TITLE_HEIGHT;for(let d of a){d.pos[0]=i==m.VERTICAL_LAYOUT?l:s,d.pos[1]=i==m.VERTICAL_LAYOUT?s:l;let u=i==m.VERTICAL_LAYOUT?1:0;d.size[u]>_&&(_=d.size[u]);let p=i==m.VERTICAL_LAYOUT?0:1;l+=d.size[p]+t+m.NODE_TITLE_HEIGHT}s+=_+t}this.setDirtyCanvas(!0,!0)}getTime(){return this.globaltime}getFixedTime(){return this.fixedtime}getElapsedTime(){return this.elapsed_time}sendEventToAllNodes(t,i,n){n=n||te.ALWAYS;let o=this._nodes_in_order||this._nodes;if(o)for(let s of o)!s[t]||s.mode!=n||(i===void 0?s[t]():i&&i.constructor===Array?s[t].apply(s,i):s[t](i))}canvasAction(t){let i=this.list_of_graphcanvas;if(i)for(let n of i)t(n)}sendActionToCanvas(t,i){let{list_of_graphcanvas:n}=this;if(n)for(let o of n)o[t]?.apply(o,i)}add(t,i){if(!t)return;let{state:n}=this;if(m.alwaysSnapToGrid){let o=this.getSnapToGridSize();o&&t.snapToGrid(o)}if(t instanceof Me){(t.id==null||t.id===-1)&&(t.id=++n.lastGroupId),t.id>n.lastGroupId&&(n.lastGroupId=t.id),this._groups.push(t),this.setDirtyCanvas(!0),this.change(),t.graph=this,this._version++;return}if(t.id!=-1&&this._nodes_by_id[t.id]!=null&&(console.warn("LiteGraph: there is already a node with this ID, changing it"),t.id=m.use_uuids?m.uuidv4():++n.lastNodeId),this._nodes.length>=m.MAX_NUMBER_OF_NODES)throw"LiteGraph: max number of nodes in a graph reached";return m.use_uuids?(t.id==null||t.id==-1)&&(t.id=m.uuidv4()):t.id==null||t.id==-1?t.id=++n.lastNodeId:typeof t.id=="number"&&n.lastNodeId<t.id&&(n.lastNodeId=t.id),t.graph=this,this._version++,this._nodes.push(t),this._nodes_by_id[t.id]=t,t.onAdded?.(this),this.config.align_to_grid&&t.alignToGrid(),i||this.updateExecutionOrder(),this.onNodeAdded?.(t),this.setDirtyCanvas(!0),this.change(),t}remove(t){if(t instanceof Me){this.canvasAction(_=>_.deselect(t));let a=this._groups.indexOf(t);a!=-1&&this._groups.splice(a,1),t.graph=void 0,this._version++,this.setDirtyCanvas(!0,!0),this.change();return}if(this._nodes_by_id[t.id]==null){console.warn("LiteGraph: node not found",t);return}if(t.ignore_remove){console.warn("LiteGraph: node cannot be removed",t);return}this.beforeChange();let{inputs:i,outputs:n}=t;if(i)for(let[a,_]of i.entries())_.link!=null&&t.disconnectInput(a,!0);if(n)for(let[a,_]of n.entries())_.links?.length&&t.disconnectOutput(a);for(let a of this.floatingLinks.values())(a.origin_id===t.id||a.target_id===t.id)&&this.removeFloatingLink(a);t.onRemoved?.(),t.graph=null,this._version++;let{list_of_graphcanvas:o}=this;if(o)for(let a of o)a.selected_nodes[t.id]&&delete a.selected_nodes[t.id],a.deselect(t);let s=this._nodes.indexOf(t);s!=-1&&this._nodes.splice(s,1),delete this._nodes_by_id[t.id],this.onNodeRemoved?.(t),this.canvasAction(a=>a.checkPanels()),this.setDirtyCanvas(!0,!0),this.afterChange(),this.change(),this.updateExecutionOrder()}getNodeById(t){return t!=null?this._nodes_by_id[t]:null}findNodesByClass(t,i){i=i||[],i.length=0;let{_nodes:n}=this;for(let o of n)o.constructor===t&&i.push(o);return i}findNodesByType(t,i){let n=t.toLowerCase();i=i||[],i.length=0;let{_nodes:o}=this;for(let s of o)s.type?.toLowerCase()==n&&i.push(s);return i}findNodeByTitle(t){let{_nodes:i}=this;for(let n of i)if(n.title==t)return n;return null}findNodesByTitle(t){let i=[],{_nodes:n}=this;for(let o of n)o.title==t&&i.push(o);return i}getNodeOnPos(t,i,n){let o=n||this._nodes,s=o.length;for(;--s>=0;){let a=o[s];if(a.isPointInside(t,i))return a}return null}getGroupOnPos(t,i){return this._groups.toReversed().find(n=>n.isPointInside(t,i))}getGroupTitlebarOnPos(t,i){return this._groups.toReversed().find(n=>n.isPointInTitlebar(t,i))}getRerouteOnPos(t,i,n){for(let o of n??this.reroutes.values())if(o.containsPoint([t,i]))return o}snapToGrid(t){let i=this.getSnapToGridSize();if(i)for(let n of Ls(t))n.pinned||n.snapToGrid(i)}getSnapToGridSize(){return m.alwaysSnapToGrid?m.CANVAS_GRID_SIZE||1:m.CANVAS_GRID_SIZE}checkNodeTypes(){let{_nodes:t}=this;for(let[i,n]of t.entries()){let o=m.registered_node_types[n.type];if(n.constructor==o)continue;console.log("node being replaced by newer version:",n.type);let s=m.createNode(n.type);s&&(t[i]=s,s.configure(n.serialize()),s.graph=this,this._nodes_by_id[s.id]=s,n.inputs&&(s.inputs=[...n.inputs]),n.outputs&&(s.outputs=[...n.outputs]))}this.updateExecutionOrder()}trigger(t,i){this.onTrigger?.(t,i)}triggerInput(t,i){let n=this.findNodesByTitle(t);for(let o of n)o.onTrigger(i)}setCallback(t,i){let n=this.findNodesByTitle(t);for(let o of n)o.setTrigger(i)}beforeChange(t){this.onBeforeChange?.(this,t),this.canvasAction(i=>i.onBeforeChange?.(this))}afterChange(t){this.onAfterChange?.(this,t),this.canvasAction(i=>i.onAfterChange?.(this))}clearTriggeredSlots(){for(let t of this._links.values())t&&t._last_time&&(t._last_time=0)}change(){m.debug&&console.log("Graph changed"),this.canvasAction(t=>t.setDirty(!0,!0)),this.on_change?.(this)}setDirtyCanvas(t,i){this.canvasAction(n=>n.setDirty(t,i))}addFloatingLink(t){t.id===-1&&(t.id=++No(this,gt)._),w(this,mt).set(t.id,t);let i=t.target_id!==-1?this.getNodeById(t.target_id)?.inputs?.[t.target_slot]:this.getNodeById(t.origin_id)?.outputs?.[t.origin_slot];i?(i._floatingLinks??(i._floatingLinks=new Set),i._floatingLinks.add(t)):console.warn(`Adding invalid floating link: target/slot: [${t.target_id}/${t.target_slot}] origin/slot: [${t.origin_id}/${t.origin_slot}]`);let n=H.getReroutes(this,t);for(let o of n)o.floatingLinkIds.add(t.id);return t}removeFloatingLink(t){w(this,mt).delete(t.id);let i=t.target_id!==-1?this.getNodeById(t.target_id)?.inputs?.[t.target_slot]:this.getNodeById(t.origin_id)?.outputs?.[t.origin_slot];i&&i._floatingLinks?.delete(t);let n=H.getReroutes(this,t);for(let o of n)o.floatingLinkIds.delete(t.id),o.floatingLinkIds.size===0&&delete o.floating,o.totalLinks===0&&this.removeReroute(o.id)}getLink(t){return t==null?void 0:this._links.get(t)}getReroute(t){return t==null?void 0:this.reroutes.get(t)}setReroute({id:t,parentId:i,pos:n,linkIds:o,floating:s}){t??(t=++this.state.lastRerouteId),t>this.state.lastRerouteId&&(this.state.lastRerouteId=t);let a=this.reroutes.get(t)??new _e(t,this);return a.update(i,n,o,s),this.reroutes.set(t,a),a}createReroute(t,i){let n=++this.state.lastRerouteId,o=i instanceof _e?i.linkIds:[i.id],s=i instanceof _e?i.floatingLinkIds:[i.id],a=new _e(n,this,t,i.parentId,o,s);this.reroutes.set(n,a);for(let _ of o){let l=this._links.get(_);if(!l)continue;l.parentId===i.parentId&&(l.parentId=n);let d=H.getReroutes(this,l);for(let u of d.filter(p=>p.parentId===i.parentId))u.parentId=n}for(let _ of s){let l=this.floatingLinks.get(_);if(!l)continue;l.parentId===i.parentId&&(l.parentId=n);let d=H.getReroutes(this,l);for(let u of d.filter(p=>p.parentId===i.parentId))u.parentId=n}return a}removeReroute(t){let{reroutes:i}=this,n=i.get(t);if(!n)return;this.canvasAction(_=>_.deselect(n));let{parentId:o,linkIds:s,floatingLinkIds:a}=n;for(let _ of i.values())_.parentId===t&&(_.parentId=o);for(let _ of s){let l=this._links.get(_);l&&l.parentId===t&&(l.parentId=o)}for(let _ of a){let l=this.floatingLinks.get(_);if(!l){console.warn(`Removed reroute had floating link ID that did not exist [${_}]`);continue}let d=H.getReroutes(this,l),u=d.at(-1),p=d.at(-2);n===u&&(p?.totalLinks!==1?this.removeFloatingLink(l):l.parentId===t&&(l.parentId=o,p.floating=n.floating))}i.delete(t),this.setDirtyCanvas(!1,!0)}removeLink(t){let i=this._links.get(t);if(!i)return;this.getNodeById(i.target_id)?.disconnectInput(i.target_slot,!1),i.disconnect(this)}createSubgraph(t){let{id:i}=t,n=new Wt(this.rootGraph,t);return this.subgraphs.set(i,n),this.rootGraph.events.dispatch("subgraph-created",{subgraph:n,data:t}),n}convertToSubgraph(t){if(t.size===0)throw new Error("Cannot convert to subgraph: nothing to convert");let{state:i,revision:n,config:o}=this,{boundaryLinks:s,boundaryFloatingLinks:a,internalLinks:_,boundaryInputLinks:l,boundaryOutputLinks:d}=yr(this,t),{nodes:u,reroutes:p,groups:f}=br(t),h=yn(t);if(!h)throw new Error("Failed to create bounding rect for subgraph");let g=l.map(F=>F.resolve(this)),k=d.map(F=>F.resolve(this)),b=wr(u),y=_.map(F=>F.asSerialisable()),E=Sr(g,y),A=Tr(k,y),L={id:Pe(),name:"New Subgraph",inputNode:{id:je,bounding:[0,0,75,100]},outputNode:{id:We,bounding:[0,0,75,100]},inputs:E,outputs:A,widgets:[],version:ue.serialisedSchemaVersion,state:i,revision:n,config:o,links:y,nodes:b,reroutes:structuredClone([...p].map(F=>F.asSerialisable())),groups:structuredClone([...f].map(F=>F.serialize()))},N=this.createSubgraph(L);N.configure(L),N.inputNode.arrange(),N.outputNode.arrange();let{boundingRect:S}=N.inputNode,{boundingRect:j}=N.outputNode;ls(S,ne.MidLeft,h,[50,0]),ls(j,ne.MidRight,h,[50,0]);for(let F of g)F.inputNode?.disconnectInput(F.inputNode.inputs.indexOf(F.input),!0);for(let F of k)F.outputNode?.disconnectOutput(F.outputNode.outputs.indexOf(F.output),F.inputNode);for(let F of u)this.remove(F);for(let F of p)this.removeReroute(F.id);for(let F of f)this.remove(F);this.rootGraph.events.dispatch("convert-to-subgraph",{subgraph:N,bounds:h,exportedSubgraph:L,boundaryLinks:s,resolvedInputLinks:g,resolvedOutputLinks:k,boundaryFloatingLinks:a,internalLinks:_});let I=m.createNode(N.id,N.name,{inputs:structuredClone(E),outputs:structuredClone(A)});if(!I)throw new Error("Failed to create subgraph node");I.setSize(I.computeSize()),ar(I._posSize,ne.Centre|ne.Middle,h),this.add(I);let q=an(g),D=0;for(let[,F]of q.entries()){let[X,...$]=F,{output:De,outputNode:ie,link:z,subgraphInput:Le}=X;if(D++,z.origin_id===je){if(z.target_id=I.id,z.target_slot=D-1,Le instanceof Ft)Le.connect(I.findInputSlotByType(z.type,!0,!0),I,z.parentId);else throw new TypeError("Subgraph input node is not a SubgraphInput");console.debug("Reconnect input links in parent graph",{...z},this.links.get(z.id),this.links.get(z.id)===z);for(let Qe of $)Qe.link.disconnect(this);continue}if(!De||!ie){console.warn("Convert to Subgraph reconnect: Failed to resolve input link",F[0]);continue}let To=I.findInputSlotByType(z.type,!0,!0);ie.connectSlots(De,I,To,z.parentId)}let U=an(k);D=0;for(let[,F]of U.entries()){D++;for(let X of F){let{input:$,inputNode:De,link:ie,subgraphOutput:z}=X;if(ie.target_id===We){if(ie.origin_id=I.id,ie.origin_slot=D-1,this.links.set(ie.id,ie),z instanceof Mt)z.connect(I.findOutputSlotByType(ie.type,!0,!0),I,ie.parentId);else throw new TypeError("Subgraph input node is not a SubgraphInput");continue}if(!$||!De){console.warn("Convert to Subgraph reconnect: Failed to resolve output link",X);continue}let Le=I.outputs[D-1];I.connectSlots(Le,De,$,ie.parentId)}}return{subgraph:N,node:I}}resolveSubgraphIdPath(t){let i=[],n=this.rootGraph;for(let o of t){let s=n.getNodeById(o);if(!s)throw new Error(`Node [${o}] not found.  ID Path: ${t.join(":")}`);if(!s.isSubgraphNode())throw new Error(`Node [${o}] is not a SubgraphNode.  ID Path: ${t.join(":")}`);i.push(s),n=s.subgraph}return i}serialize(t){let{config:i,state:n,groups:o,nodes:s,reroutes:a,extra:_,floatingLinks:l,definitions:d}=this.asSerialisable(t),u=[...this._links.values()],p=u.map(f=>f.serialize());return a?.length&&(_.linkExtensions=u.filter(f=>f.parentId!==void 0).map(f=>({id:f.id,parentId:f.parentId}))),_.reroutes=a?.length?a:void 0,{id:this.id,revision:this.revision,last_node_id:n.lastNodeId,last_link_id:n.lastLinkId,nodes:s,links:p,floatingLinks:l,groups:o,definitions:d,config:i,extra:_,version:m.VERSION}}asSerialisable(t){let{id:i,revision:n,config:o,state:s}=this,_=(!m.use_uuids&&t?.sortNodes?[...this._nodes].sort((g,k)=>g.id-k.id):this._nodes).map(g=>g.serialize()),l=this._groups.map(g=>g.serialize()),d=this._links.size?[...this._links.values()].map(g=>g.asSerialisable()):void 0,u=this.floatingLinks.size?[...this.floatingLinks.values()].map(g=>g.asSerialisable()):void 0,p=this.reroutes.size?[...this.reroutes.values()].map(g=>g.asSerialisable()):void 0,f={...this.extra};m.saveViewportWithGraph&&(f.ds=T(this,vn,Qs).call(this)),f.ds||delete f.ds;let h={id:i,revision:n,version:ue.serialisedSchemaVersion,config:o,state:s,groups:l,nodes:_,links:d,floatingLinks:u,reroutes:p,extra:f};return this.isRootGraph&&this._subgraphs.size&&(h.definitions={subgraphs:[...this._subgraphs.values()].map(g=>g.asSerialisable())}),this.onSerialize?.(h),h}_configureBase(t){let{id:i,extra:n}=t;i?this.id=i:this.id===Xt&&(this.id=Pe()),this.extra=n?structuredClone(n):{},delete this.extra.linkExtensions}configure(t,i){let n={data:t,clearGraph:!i};if(this.events.dispatch("configuring",n))try{if(!t)return;n.clearGraph&&this.clear(),this._configureBase(t);let s;if(t.version===.4){let{extra:h}=t;if(Array.isArray(t.links))for(let g of t.links){let k=H.createFromArray(g);this._links.set(k.id,k)}if(Array.isArray(h?.linkExtensions))for(let g of h.linkExtensions){let k=this._links.get(g.id);k&&(k.parentId=g.parentId)}s=h?.reroutes}else{if(t.state){let{lastGroupId:h,lastLinkId:g,lastNodeId:k,lastRerouteId:b}=t.state,{state:y}=this;h!=null&&(y.lastGroupId=h),g!=null&&(y.lastLinkId=g),k!=null&&(y.lastNodeId=k),b!=null&&(y.lastRerouteId=b)}if(Array.isArray(t.links))for(let h of t.links){let g=H.create(h);this._links.set(g.id,g)}s=t.reroutes}if(Array.isArray(s))for(let h of s)this.setReroute(h);let a=t.nodes;for(let h in t)ue.ConfigureProperties.has(h)||(this[h]=t[h]);let _=t.definitions?.subgraphs;if(_){for(let h of _)this.createSubgraph(h);for(let h of _)this.subgraphs.get(h.id)?.configure(h)}let l=!1,d=new Map;if(this._nodes=[],a){for(let h of a){let g=m.createNode(String(h.type),h.title);g||(m.debug&&console.log("Node not found or has errors:",h.type),g=new oe(""),g.last_serialization=h,g.has_errors=!0,l=!0),g.id=h.id,this.add(g,!0),d.set(g.id,h)}for(let[h,g]of d)this.getNodeById(h)?.configure(g)}if(Array.isArray(t.floatingLinks))for(let h of t.floatingLinks){let g=H.create(h);this.addFloatingLink(g),g.id>w(this,gt)&&B(this,gt,g.id)}for(let h of this.reroutes.values())h.validateLinks(this._links,this.floatingLinks)||this.reroutes.delete(h.id);this._groups.length=0;let u=t.groups;if(u)for(let h of u){let g=new m.LGraphGroup;g.configure(h),this.add(g)}this.updateExecutionOrder(),this.onConfigure?.(t),this._version++;let{primaryCanvas:p}=this,f=p?.subgraph?.id;if(f){let h=this.subgraphs.get(f);h?p.setGraph(h):p.setGraph(this)}return this.setDirtyCanvas(!0,!0),l}finally{this.events.dispatch("configured")}}get primaryCanvas(){return w(this.rootGraph,yi)}set primaryCanvas(t){B(this.rootGraph,yi,t)}load(t,i){let n=this;if(t instanceof Blob||t instanceof File){let s=new FileReader;s.addEventListener("load",function(a){let _=io(a.target?.result),l=JSON.parse(_);n.configure(l),i?.()}),s.readAsText(t);return}let o=new XMLHttpRequest;o.open("GET",t,!0),o.send(null),o.addEventListener("load",function(){if(o.status!==200){console.error("Error loading graph:",o.status,o.response);return}let s=JSON.parse(o.response);n.configure(s),i?.()}),o.addEventListener("error",s=>{console.error("Error loading graph:",s)})}};gt=new WeakMap,mt=new WeakMap,mn=new WeakMap,vn=new WeakSet,Qs=function(){let t=this.list_of_graphcanvas?.at(0)?.ds;if(t)return{scale:t.scale,offset:t.offset}},yi=new WeakMap,c(ue,"serialisedSchemaVersion",1),c(ue,"STATUS_STOPPED",1),c(ue,"STATUS_RUNNING",2),c(ue,"ConfigureProperties",new Set(["nodes","groups","links","state","reroutes","floatingLinks","id","subgraphs","definitions","inputs","outputs","widgets","inputNode","outputNode","extra"]));var ti=ue,wi,Si,vo,xn=class xn extends ti{constructor(i,n){if(!i)throw new Error("Root graph is required");super();P(this,Si);c(this,"name","Unnamed Subgraph");c(this,"inputNode",new Zt(this));c(this,"outputNode",new ei(this));c(this,"inputs",[]);c(this,"outputs",[]);c(this,"widgets",[]);P(this,wi);B(this,wi,i);let o=structuredClone(n);this._configureBase(o),T(this,Si,vo).call(this,o)}get rootGraph(){return w(this,wi)}getIoNodeOnPos(i,n){let{inputNode:o,outputNode:s}=this;if(o.containsPoint([i,n]))return o;if(s.containsPoint([i,n]))return s}configure(i,n){let o=super.configure(i,n);return T(this,Si,vo).call(this,i),o}attachCanvas(i){super.attachCanvas(i),i.subgraph=this}addInput(i,n){this.events.dispatch("adding-input",{name:i,type:n});let o=new Ft({id:Pe(),name:i,type:n},this.inputNode);return this.inputs.push(o),this.events.dispatch("input-added",{input:o}),o}addOutput(i,n){this.events.dispatch("adding-output",{name:i,type:n});let o=new Mt({id:Pe(),name:i,type:n},this.outputNode);return this.outputs.push(o),this.events.dispatch("output-added",{output:o}),o}renameInput(i,n){let o=this.inputs.indexOf(i);if(o===-1)throw new Error("Input not found");let s=i.displayName;this.events.dispatch("renaming-input",{input:i,index:o,oldName:s,newName:n}),i.label=n}renameOutput(i,n){let o=this.outputs.indexOf(i);if(o===-1)throw new Error("Output not found");let s=i.displayName;this.events.dispatch("renaming-output",{output:i,index:o,oldName:s,newName:n}),i.label=n}removeInput(i){i.disconnect();let n=this.inputs.indexOf(i);if(n===-1)throw new Error("Input not found");if(!this.events.dispatch("removing-input",{input:i,index:n}))return;this.inputs.splice(n,1);let{length:s}=this.inputs;for(let a=n;a<s;a++)this.inputs[a].decrementSlots("inputs")}removeOutput(i){i.disconnect();let n=this.outputs.indexOf(i);if(n===-1)throw new Error("Output not found");if(!this.events.dispatch("removing-output",{output:i,index:n}))return;this.outputs.splice(n,1);let{length:s}=this.outputs;for(let a=n;a<s;a++)this.outputs[a].decrementSlots("outputs")}draw(i,n){this.inputNode.draw(i,n),this.outputNode.draw(i,n)}clone(i=!1){let n=this.asSerialisable();i||(n.id=Pe());let o=new xn(this.rootGraph,n);return o.configure(n),o}asSerialisable(){return{id:this.id,version:ti.serialisedSchemaVersion,state:this.state,revision:this.revision,config:this.config,name:this.name,inputNode:this.inputNode.asSerialisable(),outputNode:this.outputNode.asSerialisable(),inputs:this.inputs.map(i=>i.asSerialisable()),outputs:this.outputs.map(i=>i.asSerialisable()),widgets:[...this.widgets],nodes:this.nodes.map(i=>i.serialize()),groups:this.groups.map(i=>i.serialize()),links:[...this.links.values()].map(i=>i.asSerialisable()),extra:this.extra}}};wi=new WeakMap,Si=new WeakSet,vo=function(i){let{name:n,inputs:o,outputs:s,widgets:a}=i;if(this.name=n,o){this.inputs.length=0;for(let _ of o){let l=new Ft(_,this.inputNode);this.inputs.push(l),this.events.dispatch("input-added",{input:l})}}if(s){this.outputs.length=0;for(let _ of s)this.outputs.push(new Mt(_,this.outputNode))}if(a){this.widgets.length=0;for(let _ of a)this.widgets.push(_)}this.inputNode.configure(i.inputNode),this.outputNode.configure(i.outputNode)},c(xn,"MAX_NESTED_SUBGRAPHS",1e3);var Wt=xn,Ti,kn,Ii,xo=class{constructor(t){c(this,"radius",8);c(this,"startAngle",0);c(this,"endAngle",Math.PI*2);c(this,"inactiveColour","#ffffff10");c(this,"colour1","#ff5f00");c(this,"colour2","#00ff7c");c(this,"colour3","#dea7ff");c(this,"fontString","bold 12px Arial");c(this,"enabled",!0);c(this,"shiftDown",!1);c(this,"undoDown",!1);c(this,"redoDown",!1);c(this,"ctrlDown",!1);c(this,"altDown",!1);c(this,"mouse0Down",!1);c(this,"mouse1Down",!1);c(this,"mouse2Down",!1);c(this,"x",0);c(this,"y",0);c(this,"controller");P(this,Ti,this.onPointerDownOrMove.bind(this));P(this,kn,this.onPointerUp.bind(this));P(this,Ii,this.onKeyDownOrUp.bind(this));this.canvas=t,this.controller=new AbortController;let{signal:i}=this.controller,n=t.canvas,o={capture:!0,signal:i};n.addEventListener("pointerdown",w(this,Ti),o),n.addEventListener("pointermove",w(this,Ti),o),n.addEventListener("pointerup",w(this,kn),o),n.addEventListener("keydown",w(this,Ii),o),document.addEventListener("keyup",w(this,Ii),o);let s=t.drawFrontCanvas.bind(t);i.addEventListener("abort",()=>{t.drawFrontCanvas=s}),t.drawFrontCanvas=()=>{s(),this.draw()}}onPointerDownOrMove(t){this.mouse0Down=(t.buttons&1)===1,this.mouse1Down=(t.buttons&4)===4,this.mouse2Down=(t.buttons&2)===2,this.x=t.clientX,this.y=t.clientY,this.canvas.setDirty(!0)}onPointerUp(){this.mouse0Down=!1,this.mouse1Down=!1,this.mouse2Down=!1}onKeyDownOrUp(t){this.ctrlDown=t.ctrlKey,this.altDown=t.altKey,this.shiftDown=t.shiftKey,this.undoDown=t.ctrlKey&&t.code==="KeyZ"&&t.type==="keydown",this.redoDown=t.ctrlKey&&t.code==="KeyY"&&t.type==="keydown"}draw(){let{canvas:{ctx:t},radius:i,startAngle:n,endAngle:o,x:s,y:a,inactiveColour:_,colour1:l,colour2:d,colour3:u,fontString:p}=this,{fillStyle:f,font:h}=t,g=s,k=a-80,b=g,y=k-15;t.font=p,N(b+0,y,"Shift",this.shiftDown?l:_),N(b+45,y+20,"Alt",this.altDown?d:_),N(b+30,y,"Control",this.ctrlDown?u:_),N(b-30,y,"\u21A9\uFE0F",this.undoDown?"#000":"transparent"),N(b+45,y,"\u21AA\uFE0F",this.redoDown?"#000":"transparent"),t.beginPath(),j(g,k),j(g+15,k),j(g+30,k),t.fillStyle=_,t.fill();let E=this.mouse0Down?l:_,A=this.mouse1Down?d:_,L=this.mouse2Down?u:_;this.mouse0Down&&S(g,k,E),this.mouse1Down&&S(g+15,k,A),this.mouse2Down&&S(g+30,k,L),t.fillStyle=f,t.font=h;function N(I,q,D,U){t.fillStyle=U,t.fillText(D,I,q)}function S(I,q,D){t.beginPath(),t.fillStyle=D,j(I,q),t.fill()}function j(I,q){t.arc(I,q,i,n,o)}}dispose(){this.controller?.abort(),this.controller=void 0}[Symbol.dispose](){this.dispose()}};Ti=new WeakMap,kn=new WeakMap,Ii=new WeakMap;var ko=class r{constructor(t,i){c(this,"options");c(this,"parentMenu");c(this,"root");c(this,"current_submenu");c(this,"lock");c(this,"controller",new AbortController);i||(i={}),this.options=i;let n=i.parentMenu;n&&(n instanceof r?(this.parentMenu=n,this.parentMenu.lock=!0,this.parentMenu.current_submenu=this):(console.error("parentMenu must be of class ContextMenu, ignoring it"),i.parentMenu=void 0),n.options?.className==="dark"&&(i.className="dark"));let o=i.event?i.event.constructor.name:null;o!=="MouseEvent"&&o!=="CustomEvent"&&o!=="PointerEvent"&&(console.error(`Event passed to ContextMenu is not of type MouseEvent or CustomEvent. Ignoring it. (${o})`),i.event=void 0);let s=document.createElement("div"),a="litegraph litecontextmenu litemenubar-panel";i.className&&(a+=` ${i.className}`),s.className=a,s.style.minWidth="100",s.style.minHeight="100";let{signal:_}=this.controller,l={capture:!0,signal:_};if(this.parentMenu||document.addEventListener("pointerdown",h=>{h.target instanceof Node&&!this.containsNode(h.target)&&this.close()},l),s.addEventListener("pointerup",h=>h.preventDefault(),l),s.addEventListener("contextmenu",h=>{h.button===2&&h.preventDefault()},l),s.addEventListener("pointerdown",h=>{h.button==2&&(this.close(),h.preventDefault())},l),this.root=s,i.title){let h=document.createElement("div");h.className="litemenu-title",h.innerHTML=i.title,s.append(h)}for(let h=0;h<t.length;h++){let g=t[h],k=Array.isArray(t)?g:String(h);typeof k!="string"&&(k=k!=null?k.content===void 0?String(k):k.content:k),this.addItem(k,g,i)}let u=i.event?.target?.ownerDocument||document;u.fullscreenElement?u.fullscreenElement.append(s):u.body.append(s);let p=i.left||0,f=i.top||0;if(i.event){if(p=i.event.clientX-10,f=i.event.clientY-10,i.title&&(f-=20),n){let k=n.root.getBoundingClientRect();p=k.left+k.width}let h=document.body.getBoundingClientRect(),g=s.getBoundingClientRect();h.height==0&&console.error("document.body height is 0. That is dangerous, set html,body { height: 100%; }"),h.width&&p>h.width-g.width-10&&(p=h.width-g.width-10),h.height&&f>h.height-g.height-10&&(f=h.height-g.height-10)}s.style.left=`${p}px`,s.style.top=`${f}px`,m.context_menu_scaling&&i.scale&&(s.style.transform=`scale(${Math.round(i.scale*4)*.25})`)}containsNode(t,i=new Set){return i.has(this)?!1:(i.add(this),this.current_submenu?.containsNode(t,i)||this.root.contains(t))}addItem(t,i,n){n||(n={});let o=document.createElement("div");o.className="litemenu-entry submenu";let s=!1;if(i===null)o.classList.add("separator");else{let u=t===null?"":String(t);typeof i=="string"?o.innerHTML=u:(o.innerHTML=i?.title??u,i.disabled&&(s=!0,o.classList.add("disabled"),o.setAttribute("aria-disabled","true")),(i.submenu||i.has_submenu)&&(o.classList.add("has_submenu"),o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded","false")),i.className&&(o.className+=` ${i.className}`)),o.value=i,o.setAttribute("role","menuitem"),typeof i=="function"?(o.dataset.value=String(t),o.onclick_callback=i):o.dataset.value=String(i)}this.root.append(o),s||o.addEventListener("click",d),!s&&n.autoopen&&o.addEventListener("pointerenter",_);let a=()=>{let u=this.root.querySelectorAll("div.litemenu-entry.has_submenu");if(u)for(let p of u)p.setAttribute("aria-expanded","false");o.setAttribute("aria-expanded","true")};function _(u){let p=this.value;!p||!p.has_submenu||(d.call(this,u),a())}let l=this;function d(u){let p=this.value,f=!0;if(l.current_submenu?.close(u),(p?.has_submenu||p?.submenu)&&a(),n.callback&&n.callback.call(this,p,n,u,l,n.node)===!0&&(f=!1),typeof p=="object"&&(p.callback&&!n.ignore_item_callbacks&&p.disabled!==!0&&p.callback.call(this,p,n,u,l,n.extra)===!0&&(f=!1),p.submenu)){if(!p.submenu.options)throw"ContextMenu submenu needs options";new l.constructor(p.submenu.options,{callback:p.submenu.callback,event:u,parentMenu:l,ignore_item_callbacks:p.submenu.ignore_item_callbacks,title:p.submenu.title,extra:p.submenu.extra,autoopen:n.autoopen}),f=!1}f&&!l.lock&&l.close()}return o}close(t,i){this.controller.abort(),this.root.remove(),this.parentMenu&&!i&&(this.parentMenu.lock=!1,this.parentMenu.current_submenu=void 0,t===void 0?this.parentMenu.close():t&&!r.isCursorOverElement(t,this.parentMenu.root)&&r.trigger(this.parentMenu.root,`${m.pointerevents_method}leave`,t)),this.current_submenu?.close(t,!0)}static trigger(t,i,n){let o=document.createEvent("CustomEvent");return o.initCustomEvent(i,!0,!0,n),t.dispatchEvent&&t.dispatchEvent(o),o}getTopMenu(){return this.options.parentMenu?this.options.parentMenu.getTopMenu():this}getFirstEvent(){return this.options.parentMenu?this.options.parentMenu.getFirstEvent():this.options.event}static isCursorOverElement(t,i){let n=t.clientX,o=t.clientY,s=i.getBoundingClientRect();return s?o>s.top&&o<s.top+s.height&&n>s.left&&n<s.left+s.width:!1}},bo=class{constructor(t){c(this,"points");c(this,"selected");c(this,"nearest");c(this,"size");c(this,"must_update");c(this,"margin");c(this,"_nearest");this.points=t,this.selected=-1,this.nearest=-1,this.size=null,this.must_update=!0,this.margin=5}static sampleCurve(t,i){if(i){for(let n=0;n<i.length-1;++n){let o=i[n],s=i[n+1];if(s[0]<t)continue;let a=s[0]-o[0];if(Math.abs(a)<1e-5)return o[1];let _=(t-o[0])/a;return o[1]*(1-_)+s[1]*_}return 0}}draw(t,i,n,o,s,a=!1){let _=this.points;if(!_)return;this.size=i;let l=i[0]-this.margin*2,d=i[1]-this.margin*2;s=s||"#666",t.save(),t.translate(this.margin,this.margin),o&&(t.fillStyle="#111",t.fillRect(0,0,l,d),t.fillStyle="#222",t.fillRect(l*.5,0,1,d),t.strokeStyle="#333",t.strokeRect(0,0,l,d)),t.strokeStyle=s,a&&(t.globalAlpha=.5),t.beginPath();for(let u of _)t.lineTo(u[0]*l,(1-u[1])*d);if(t.stroke(),t.globalAlpha=1,!a)for(let[u,p]of _.entries())t.fillStyle=this.selected==u?"#FFF":this.nearest==u?"#DDD":"#AAA",t.beginPath(),t.arc(p[0]*l,(1-p[1])*d,2,0,Math.PI*2),t.fill();t.restore()}onMouseDown(t,i){let n=this.points;if(!n||t[1]<0)return;if(this.size==null)throw new Error("CurveEditor.size was null or undefined.");let o=this.size[0]-this.margin*2,s=this.size[1]-this.margin*2,a=t[0]-this.margin,_=t[1]-this.margin,l=[a,_],d=30/i.ds.scale;if(this.selected=this.getCloserPoint(l,d),this.selected==-1){let u=[a/o,1-_/s];n.push(u),n.sort(function(p,f){return p[0]-f[0]}),this.selected=n.indexOf(u),this.must_update=!0}if(this.selected!=-1)return!0}onMouseMove(t,i){let n=this.points;if(!n)return;let o=this.selected;if(o<0)return;if(this.size==null)throw new Error("CurveEditor.size was null or undefined.");let s=(t[0]-this.margin)/(this.size[0]-this.margin*2),a=(t[1]-this.margin)/(this.size[1]-this.margin*2),_=[t[0]-this.margin,t[1]-this.margin],l=30/i.ds.scale;this._nearest=this.getCloserPoint(_,l);let d=n[o];if(d){let u=o==0||o==n.length-1;if(!u&&(t[0]<-10||t[0]>this.size[0]+10||t[1]<-10||t[1]>this.size[1]+10)){n.splice(o,1),this.selected=-1;return}u?d[0]=o==0?0:1:d[0]=Ee(s,0,1),d[1]=1-Ee(a,0,1),n.sort(function(p,f){return p[0]-f[0]}),this.selected=n.indexOf(d),this.must_update=!0}}onMouseUp(){return this.selected=-1,!1}getCloserPoint(t,i){let n=this.points;if(!n)return-1;if(i=i||30,this.size==null)throw new Error("CurveEditor.size was null or undefined.");let o=this.size[0]-this.margin*2,s=this.size[1]-this.margin*2,a=n.length,_=[0,0],l=1e6,d=-1;for(let u=0;u<a;++u){let p=n[u];_[0]=p[0]*o,_[1]=(1-p[1])*s;let f=Xe(t,_);f>l||f>i||(d=u,l=f)}return d}},yo=class{constructor(){c(this,"SlotShape",ze);c(this,"SlotDirection",vs);c(this,"SlotType",$t);c(this,"LabelPosition",Pt);c(this,"VERSION",.4);c(this,"CANVAS_GRID_SIZE",10);c(this,"NODE_TITLE_HEIGHT",30);c(this,"NODE_TITLE_TEXT_Y",20);c(this,"NODE_SLOT_HEIGHT",20);c(this,"NODE_WIDGET_HEIGHT",20);c(this,"NODE_WIDTH",140);c(this,"NODE_MIN_WIDTH",50);c(this,"NODE_COLLAPSED_RADIUS",10);c(this,"NODE_COLLAPSED_WIDTH",80);c(this,"NODE_TITLE_COLOR","#999");c(this,"NODE_SELECTED_TITLE_COLOR","#FFF");c(this,"NODE_TEXT_SIZE",14);c(this,"NODE_TEXT_COLOR","#AAA");c(this,"NODE_TEXT_HIGHLIGHT_COLOR","#EEE");c(this,"NODE_SUBTEXT_SIZE",12);c(this,"NODE_DEFAULT_COLOR","#333");c(this,"NODE_DEFAULT_BGCOLOR","#353535");c(this,"NODE_DEFAULT_BOXCOLOR","#666");c(this,"NODE_DEFAULT_SHAPE",W.ROUND);c(this,"NODE_BOX_OUTLINE_COLOR","#FFF");c(this,"NODE_ERROR_COLOUR","#E00");c(this,"NODE_FONT","Arial");c(this,"DEFAULT_FONT","Arial");c(this,"DEFAULT_SHADOW_COLOR","rgba(0,0,0,0.5)");c(this,"DEFAULT_GROUP_FONT",24);c(this,"DEFAULT_GROUP_FONT_SIZE");c(this,"GROUP_FONT","Arial");c(this,"WIDGET_BGCOLOR","#222");c(this,"WIDGET_OUTLINE_COLOR","#666");c(this,"WIDGET_ADVANCED_OUTLINE_COLOR","rgba(56, 139, 253, 0.8)");c(this,"WIDGET_TEXT_COLOR","#DDD");c(this,"WIDGET_SECONDARY_TEXT_COLOR","#999");c(this,"WIDGET_DISABLED_TEXT_COLOR","#666");c(this,"LINK_COLOR","#9A9");c(this,"EVENT_LINK_COLOR","#A86");c(this,"CONNECTING_LINK_COLOR","#AFA");c(this,"MAX_NUMBER_OF_NODES",1e4);c(this,"DEFAULT_POSITION",[100,100]);c(this,"VALID_SHAPES",["default","box","round","card"]);c(this,"ROUND_RADIUS",8);c(this,"BOX_SHAPE",W.BOX);c(this,"ROUND_SHAPE",W.ROUND);c(this,"CIRCLE_SHAPE",W.CIRCLE);c(this,"CARD_SHAPE",W.CARD);c(this,"ARROW_SHAPE",W.ARROW);c(this,"GRID_SHAPE",W.GRID);c(this,"INPUT",re.INPUT);c(this,"OUTPUT",re.OUTPUT);c(this,"EVENT",-1);c(this,"ACTION",-1);c(this,"NODE_MODES",["Always","On Event","Never","On Trigger"]);c(this,"NODE_MODES_COLORS",["#666","#422","#333","#224","#626"]);c(this,"ALWAYS",te.ALWAYS);c(this,"ON_EVENT",te.ON_EVENT);c(this,"NEVER",te.NEVER);c(this,"ON_TRIGGER",te.ON_TRIGGER);c(this,"UP",M.UP);c(this,"DOWN",M.DOWN);c(this,"LEFT",M.LEFT);c(this,"RIGHT",M.RIGHT);c(this,"CENTER",M.CENTER);c(this,"LINK_RENDER_MODES",["Straight","Linear","Spline"]);c(this,"HIDDEN_LINK",pe.HIDDEN_LINK);c(this,"STRAIGHT_LINK",pe.STRAIGHT_LINK);c(this,"LINEAR_LINK",pe.LINEAR_LINK);c(this,"SPLINE_LINK",pe.SPLINE_LINK);c(this,"NORMAL_TITLE",me.NORMAL_TITLE);c(this,"NO_TITLE",me.NO_TITLE);c(this,"TRANSPARENT_TITLE",me.TRANSPARENT_TITLE);c(this,"AUTOHIDE_TITLE",me.AUTOHIDE_TITLE);c(this,"VERTICAL_LAYOUT","vertical");c(this,"proxy",null);c(this,"node_images_path","");c(this,"debug",!1);c(this,"catch_exceptions",!0);c(this,"throw_errors",!0);c(this,"allow_scripts",!1);c(this,"registered_node_types",{});c(this,"node_types_by_file_extension",{});c(this,"Nodes",{});c(this,"Globals",{});c(this,"searchbox_extras",{});c(this,"node_box_coloured_when_on",!1);c(this,"node_box_coloured_by_mode",!1);c(this,"dialog_close_on_mouse_leave",!1);c(this,"dialog_close_on_mouse_leave_delay",500);c(this,"shift_click_do_break_link_from",!1);c(this,"click_do_break_link_to",!1);c(this,"ctrl_alt_click_do_break_link",!0);c(this,"snaps_for_comfy",!0);c(this,"snap_highlights_node",!0);c(this,"alwaysSnapToGrid");c(this,"snapToGrid");c(this,"search_hide_on_mouse_leave",!0);c(this,"search_filter_enabled",!1);c(this,"search_show_all_on_open",!0);c(this,"auto_load_slot_types",!1);c(this,"registered_slot_in_types",{});c(this,"registered_slot_out_types",{});c(this,"slot_types_in",[]);c(this,"slot_types_out",[]);c(this,"slot_types_default_in",{});c(this,"slot_types_default_out",{});c(this,"alt_drag_do_clone_nodes",!1);c(this,"do_add_triggers_slots",!1);c(this,"allow_multi_output_for_events",!0);c(this,"middle_click_slot_add_default_node",!1);c(this,"release_link_on_empty_shows_menu",!1);c(this,"pointerevents_method","pointer");c(this,"ctrl_shift_v_paste_connect_unselected_outputs",!0);c(this,"use_uuids",!1);c(this,"highlight_selected_group",!0);c(this,"context_menu_scaling",!1);c(this,"alwaysRepeatWarnings",!1);c(this,"onDeprecationWarning",[console.warn]);c(this,"macTrackpadGestures",!1);c(this,"macGesturesRequireMac",!0);c(this,"canvasNavigationMode","legacy");c(this,"truncateWidgetTextEvenly",!1);c(this,"truncateWidgetValuesFirst",!1);c(this,"saveViewportWithGraph",!0);c(this,"LGraph",ti);c(this,"LLink",H);c(this,"LGraphNode",oe);c(this,"LGraphGroup",Me);c(this,"DragAndScale",nn);c(this,"LGraphCanvas",ee);c(this,"ContextMenu",ko);c(this,"CurveEditor",bo);c(this,"Reroute",_e);c(this,"Classes",{get SubgraphSlot(){return Jt},get SubgraphIONodeBase(){return Se},get Rectangle(){return fe},get InputIndicators(){return xo}});c(this,"uuidv4",Pe);c(this,"distance",Xe);c(this,"isInsideRectangle",nr);c(this,"overlapBounding",ot);Object.defineProperty(this,"Classes",{writable:!1})}registerNodeType(t,i){var a;if(!i.prototype)throw"Cannot register a simple object, it must be a class with a prototype";i.type=t,this.debug&&console.log("Node registered:",t);let n=i.name,o=t.lastIndexOf("/");i.category=t.substring(0,o),i.title||(i.title=n);for(let _ in oe.prototype)(a=i.prototype)[_]||(a[_]=oe.prototype[_]);let s=this.registered_node_types[t];s&&this.debug&&console.log("replacing node type:",t),this.registered_node_types[t]=i,i.constructor.name&&(this.Nodes[n]=i),this.onNodeTypeRegistered?.(t,i),s&&this.onNodeTypeReplaced?.(t,i,s),i.prototype.onPropertyChange&&console.warn(`LiteGraph node class ${t} has onPropertyChange method, it must be called onPropertyChanged with d at the end`),this.auto_load_slot_types&&new i(i.title||"tmpnode")}unregisterNodeType(t){let i=typeof t=="string"?this.registered_node_types[t]:t;if(!i)throw`node type not found: ${String(t)}`;delete this.registered_node_types[String(i.type)];let n=i.constructor.name;n&&delete this.Nodes[n]}registerNodeAndSlotType(t,i,n){n||(n=!1);let s=(typeof t=="string"&&this.registered_node_types[t]!=="anonymous"?this.registered_node_types[t]:t).constructor.type,a=[];typeof i=="string"?a=i.split(","):i==this.EVENT||i==this.ACTION?a=["_event_"]:a=["*"];for(let _ of a){_===""&&(_="*");let l=n?this.registered_slot_out_types:this.registered_slot_in_types;l[_]??(l[_]={nodes:[]});let{nodes:d}=l[_];d.includes(s)||d.push(s);let u=n?this.slot_types_out:this.slot_types_in,p=_.toLowerCase();u.includes(p)||(u.push(p),u.sort())}}clearRegisteredTypes(){this.registered_node_types={},this.node_types_by_file_extension={},this.Nodes={},this.searchbox_extras={}}createNode(t,i,n){let o=this.registered_node_types[t];if(!o)return this.debug&&console.log(`GraphNode type "${t}" not registered.`),null;i=i||o.title||t;let s=null;if(this.catch_exceptions)try{s=new o(i)}catch(a){return console.error(a),null}else s=new o(i);if(s.type=t,!s.title&&i&&(s.title=i),s.properties||(s.properties={}),s.properties_info||(s.properties_info=[]),s.flags||(s.flags={}),s.size||(s.size=s.computeSize()),s.pos||(s.pos=[this.DEFAULT_POSITION[0],this.DEFAULT_POSITION[1]]),s.mode||(s.mode=te.ALWAYS),n)for(let a in n)s[a]=n[a];return s.onNodeCreated?.(),s}getNodeType(t){return this.registered_node_types[t]}getNodeTypesInCategory(t,i){let n=[];for(let o in this.registered_node_types){let s=this.registered_node_types[o];s.filter==i&&(t==""?s.category==null&&n.push(s):s.category==t&&n.push(s))}return n}getNodeTypesCategories(t){let i={"":1};for(let o in this.registered_node_types){let s=this.registered_node_types[o];if(s.category&&!s.skip_list){if(s.filter!=t)continue;i[s.category]=1}}let n=[];for(let o in i)n.push(o);return n}reloadNodes(t){let i=document.getElementsByTagName("script"),n=[];for(let s of i)n.push(s);let o=document.getElementsByTagName("head")[0];t=document.location.href+t;for(let s of n){let a=s.src;if(!(!a||a.substr(0,t.length)!=t))try{this.debug&&console.log("Reloading:",a);let _=document.createElement("script");_.type="text/javascript",_.src=a,o.append(_),s.remove()}catch(_){if(this.throw_errors)throw _;this.debug&&console.log("Error while reloading",a)}}this.debug&&console.log("Nodes reloaded")}cloneObject(t,i){if(t==null)return null;let n=JSON.parse(JSON.stringify(t));if(!i)return n;for(let o in n)i[o]=n[o];return i}isValidConnection(t,i){if((t==""||t==="*")&&(t=0),(i==""||i==="*")&&(i=0),!t||!i||t==i||t==this.EVENT&&i==this.ACTION)return!0;if(t=String(t),i=String(i),t=t.toLowerCase(),i=i.toLowerCase(),!t.includes(",")&&!i.includes(","))return t==i;let n=t.split(","),o=i.split(",");for(let s of n)for(let a of o)if(this.isValidConnection(s,a))return!0;return!1}getParameterNames(t){return String(t).replaceAll(/\/\/.*$/gm,"").replaceAll(/\s+/g,"").replaceAll(/\/\*[^*/]*\*\//g,"").split("){",1)[0].replace(/^[^(]*\(/,"").replaceAll(/=[^,]+/g,"").split(",").filter(Boolean)}pointerListenerAdd(t,i,n,o=!1){if(!t||!t.addEventListener||!i||typeof n!="function")return;let s=this.pointerevents_method,a=i;if(s=="pointer"&&!window.PointerEvent)switch(console.warn("sMethod=='pointer' && !window.PointerEvent"),console.log(`Converting pointer[${a}] : down move up cancel enter TO touchstart touchmove touchend, etc ..`),a){case"down":{s="touch",a="start";break}case"move":{s="touch";break}case"up":{s="touch",a="end";break}case"cancel":{s="touch";break}case"enter":{console.log("debug: Should I send a move event?");break}default:console.warn(`PointerEvent not available in this browser ? The event ${a} would not be called`)}switch(a){case"down":case"up":case"move":case"over":case"out":case"enter":t.addEventListener(s+a,n,o);case"leave":case"cancel":case"gotpointercapture":case"lostpointercapture":if(s!="mouse")return t.addEventListener(s+a,n,o);default:return t.addEventListener(a,n,o)}}pointerListenerRemove(t,i,n,o=!1){if(!(!t||!t.removeEventListener||!i||typeof n!="function"))switch(i){case"down":case"up":case"move":case"over":case"out":case"enter":(this.pointerevents_method=="pointer"||this.pointerevents_method=="mouse")&&t.removeEventListener(this.pointerevents_method+i,n,o);case"leave":case"cancel":case"gotpointercapture":case"lostpointercapture":if(this.pointerevents_method=="pointer")return t.removeEventListener(this.pointerevents_method+i,n,o);default:return t.removeEventListener(i,n,o)}}getTime(){return performance.now()}colorToString(t){return`rgba(${Math.round(t[0]*255).toFixed()},${Math.round(t[1]*255).toFixed()},${Math.round(t[2]*255).toFixed()},${t.length==4?t[3].toFixed(2):"1.0"})`}growBounding(t,i,n){i<t[0]?t[0]=i:i>t[2]&&(t[2]=i),n<t[1]?t[1]=n:n>t[3]&&(t[3]=n)}isInsideBounding(t,i){return!(t[0]<i[0][0]||t[1]<i[0][1]||t[0]>i[1][0]||t[1]>i[1][1])}hex2num(t){t.charAt(0)=="#"&&(t=t.slice(1)),t=t.toUpperCase();let i="0123456789ABCDEF",n=new Array(3),o=0,s,a;for(let _=0;_<6;_+=2)s=i.indexOf(t.charAt(_)),a=i.indexOf(t.charAt(_+1)),n[o]=s*16+a,o++;return n}num2hex(t){let i="0123456789ABCDEF",n="#",o,s;for(let a=0;a<3;a++)o=t[a]/16,s=t[a]%16,n+=i.charAt(o)+i.charAt(s);return n}closeAllContextMenus(t=window){let i=[...t.document.querySelectorAll(".litecontextmenu")];if(i.length)for(let n of i)"close"in n&&typeof n.close=="function"?n.close():n.remove()}extendClass(t,i){for(let n in i)t.hasOwnProperty(n)||(t[n]=i[n]);if(i.prototype)for(let n in i.prototype)i.prototype.hasOwnProperty(n)&&(t.prototype.hasOwnProperty(n)||(i.prototype.__lookupGetter__(n)?t.prototype.__defineGetter__(n,i.prototype.__lookupGetter__(n)):t.prototype[n]=i.prototype[n],i.prototype.__lookupSetter__(n)&&t.prototype.__defineSetter__(n,i.prototype.__lookupSetter__(n))))}};Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose"));Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));function Ir(){typeof window<"u"&&window.CanvasRenderingContext2D&&!window.CanvasRenderingContext2D.prototype.roundRect&&(window.CanvasRenderingContext2D.prototype.roundRect=function(r,t,i,n,o,s){let a=0,_=0,l=0,d=0;if(o===0){this.rect(r,t,i,n);return}if(s===void 0&&(s=o),Array.isArray(o))if(o.length==1)a=_=l=d=o[0];else if(o.length==2)a=d=o[0],_=l=o[1];else if(o.length==4)a=o[0],_=o[1],l=o[2],d=o[3];else return;else{a=o||0,_=o||0;let u=!Array.isArray(s)&&s?s:0;l=u,d=u}this.moveTo(r+a,t),this.lineTo(r+i-_,t),this.quadraticCurveTo(r+i,t,r+i,t+_),this.lineTo(r+i,t+n-d),this.quadraticCurveTo(r+i,t+n,r+i-d,t+n),this.lineTo(r+d,t+n),this.quadraticCurveTo(r,t+n,r,t+n-l),this.lineTo(r,t+l),this.quadraticCurveTo(r,t,r+a,t)}),typeof window<"u"&&!window.requestAnimationFrame&&(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(r){window.setTimeout(r,1e3/60)})}var bt=class extends Error{constructor(t="Attempted to access a link that was invalid.",i){super(t,{cause:i}),this.name="InvalidLinkError"}},ii=class extends Error{constructor(t){super(t),this.name="RecursionError"}},Kt=class extends Error{constructor(t="Attempted to access a slot that was out of bounds.",i){super(t,{cause:i}),this.name="SlotIndexError"}},Ci,bn,Js,rn=class{constructor(t,i,n,o){P(this,bn);c(this,"graph");c(this,"inputs");P(this,Ci);if(this.node=t,this.subgraphNodePath=i,this.nodesByExecutionId=n,this.subgraphNode=o,!t.graph)throw new R;B(this,Ci,[...this.subgraphNodePath,this.node.id].join(":")),this.graph=t.graph,this.inputs=this.node.inputs.map(s=>({linkId:s.link,name:s.name,type:s.type})),this.node.applyToGraph&&(this.applyToGraph=(...s)=>this.node.applyToGraph?.(...s))}get id(){return w(this,Ci)}get type(){return this.node.type}get title(){return this.node.title}get mode(){return this.node.mode}get comfyClass(){return this.node.comfyClass}get isVirtualNode(){return this.node.isVirtualNode}get widgets(){return this.node.widgets}get subgraphId(){return this.subgraphNode?.subgraph.id}getInnerNodes(){return this.subgraphNode?this.subgraphNode.getInnerNodes(this.nodesByExecutionId,this.subgraphNodePath):[this]}resolveInput(t,i=new Set){let n=`${this.subgraphNode?.subgraph.id}:${this.node.id}[I]${t}`;if(i.has(n)){let u=`${this.node.id}${this.node.title?` (${this.node.title})`:""}`,p=this.subgraphNodePath.length>0?` at path ${this.subgraphNodePath.join(":")}`:"";throw new ii(`Circular reference detected while resolving input ${t} of node ${u}${p}. This creates an infinite loop in link resolution. UniqueID: [${n}]`)}i.add(n);let o=this.inputs.at(t);if(!o)throw new Kt(`No input found for flattened id [${this.id}] slot [${t}]`);if(o.linkId==null)return;let s=this.graph.getLink(o.linkId);if(!s)throw new bt(`No link found in parent graph for id [${this.id}] slot [${t}] ${o.name}`);let{subgraphNode:a}=this;if(a&&s.originIsIoNode){let u=a.inputs.at(s.origin_slot);if(!u)throw new Kt(`No input found for slot [${s.origin_slot}] ${o.name}`);let p=u.link;if(p==null){let k=a.getWidgetFromSlot(u);return k?{node:this,origin_id:this.id,origin_slot:-1,widgetInfo:{value:k.value}}:void 0}let f=a.graph.getLink(p);if(!f)throw new bt(`No outer link found for slot [${s.origin_slot}] ${o.name}`);let h=this.subgraphNodePath.join(":"),g=this.nodesByExecutionId.get(h);if(!g)throw new Error(`No subgraph node DTO found for id [${h}]`);return g.resolveInput(f.target_slot,i)}let _=this.graph.getNodeById(s.origin_id);if(!_)throw new bt(`No input node found for id [${this.id}] slot [${t}] ${o.name}`);let l=[...this.subgraphNodePath,_.id].join(":"),d=this.nodesByExecutionId.get(l);if(!d)throw new Error(`No output node DTO found for id [${l}]`);return d.resolveOutput(s.origin_slot,o.type,i)}resolveOutput(t,i,n){let o=`${this.subgraphNode?.subgraph.id}:${this.node.id}[O]${t}`;if(n.has(o)){let a=`${this.node.id}${this.node.title?` (${this.node.title})`:""}`,_=this.subgraphNodePath.length>0?` at path ${this.subgraphNodePath.join(":")}`:"";throw new ii(`Circular reference detected while resolving output ${t} of node ${a}${_}. This creates an infinite loop in link resolution. UniqueID: [${o}]`)}if(n.add(o),this.mode===te.BYPASS){let{inputs:a}=this,_=Object.keys(a).map(Number),d=[t,..._].find(u=>a[u]?.type===i);if(d===void 0){console.debug(`[ExecutableNodeDTO.resolveOutput] No input types match type [${i}] for id [${this.id}] slot [${t}]`,this);return}return this.resolveInput(d,n)}let{node:s}=this;if(s.isSubgraphNode())return T(this,bn,Js).call(this,t,i,n);if(s.isVirtualNode){if(this.inputs.at(t))return this.resolveInput(t,n);let a=this.node.getInputLink(t);if(a){let _=this.graph.getNodeById(a.origin_id);if(!_)throw new bt(`Virtual node failed to resolve parent [${this.id}] slot [${t}]`);let l=[...this.subgraphNodePath,_.id].join(":"),d=this.nodesByExecutionId.get(l);if(!d)throw new Error(`No output node DTO found for id [${_.id}]`);return d.resolveOutput(a.origin_slot,i,n)}return}return{node:this,origin_id:this.id,origin_slot:t}}};Ci=new WeakMap,bn=new WeakSet,Js=function(t,i,n){let{node:o}=this,s=o.outputs.at(t);if(!s)throw new Kt(`No output found for flattened id [${this.id}] slot [${t}]`);if(!o.isSubgraphNode())throw new TypeError(`Node is not a subgraph node: ${o.id}`);let a=o.resolveSubgraphOutputLink(t);if(!a)return;let _=a.outputNode;if(!_)throw new Error(`No output node found for id [${this.id}] slot [${t}] ${s.name}`);let l=[...this.subgraphNodePath,o.id,_.id].join(":"),d=this.nodesByExecutionId.get(l);if(!d)throw new Error(`No inner node DTO found for id [${l}]`);return d.resolveOutput(a.link.origin_slot,i,n)};var Ei,Ye,wo,So,Yt=class extends oe{constructor(i,n,o){super(n.name,n.id);P(this,Ye);c(this,"type");c(this,"isVirtualNode",!0);c(this,"widgets",[]);P(this,Ei,new AbortController);this.graph=i,this.subgraph=n;let s=this.subgraph.events,{signal:a}=w(this,Ei);s.addEventListener("input-added",_=>{let l=_.detail.input,{name:d,type:u}=l,p=this.addInput(d,u);T(this,Ye,wo).call(this,l,p)},{signal:a}),s.addEventListener("removing-input",_=>{let l=_.detail.input._widget;l&&this.ensureWidgetRemoved(l),this.removeInput(_.detail.index),this.setDirtyCanvas(!0,!0)},{signal:a}),s.addEventListener("output-added",_=>{let{name:l,type:d}=_.detail.output;this.addOutput(l,d)},{signal:a}),s.addEventListener("removing-output",_=>{this.removeOutput(_.detail.index),this.setDirtyCanvas(!0,!0)},{signal:a}),s.addEventListener("renaming-input",_=>{let{index:l,newName:d}=_.detail,u=this.inputs.at(l);if(!u)throw new Error("Subgraph input not found");u.label=d},{signal:a}),s.addEventListener("renaming-output",_=>{let{index:l,newName:d}=_.detail,u=this.outputs.at(l);if(!u)throw new Error("Subgraph output not found");u.label=d},{signal:a}),this.type=n.id,this.configure(o)}get rootGraph(){return this.graph.rootGraph}get displayType(){return"Subgraph node"}isSubgraphNode(){return!0}configure(i){for(let n of this.inputs)n._listenerController?.abort();this.inputs.length=0,this.inputs.push(...this.subgraph.inputNode.slots.map(n=>new $e({name:n.name,localized_name:n.localized_name,label:n.label,type:n.type,link:null},this))),this.outputs.length=0,this.outputs.push(...this.subgraph.outputNode.slots.map(n=>new St({name:n.name,localized_name:n.localized_name,label:n.label,type:n.type,links:null},this))),super.configure(i)}_internalConfigureAfterSlots(){this.widgets.length=0;for(let i of this.inputs){let n=this.subgraph.inputNode.slots.find(o=>o.name===i.name);if(!n)throw new Error(`[SubgraphNode.configure] No subgraph input found for input ${i.name}`);T(this,Ye,wo).call(this,n,i);for(let o of n.linkIds){let s=this.subgraph.getLink(o);if(!s){console.warn(`[SubgraphNode.configure] No link found for link ID ${o}`,this);continue}let a=s.resolve(this.subgraph);if(!a.input||!a.inputNode){console.warn("Invalid resolved link",a,this);continue}let _=a.inputNode.getWidgetFromSlot(a.input);if(_){T(this,Ye,So).call(this,n,i,_);break}}}}addInput(i,n,o={}){return super.addInput(i,n,o)}getInputLink(i){let n=this.subgraph.outputNode.slots[i].getLinks().at(0);if(!n)return console.warn(`SubgraphNode.getInputLink: no inner link found for slot ${i}`),null;let o=H.create(n);return o.origin_id=`${this.id}:${n.origin_id}`,o.origin_slot=n.origin_slot,o}resolveSubgraphInputLinks(i){let n=this.subgraph.inputNode.slots[i],o=n.getLinks();return o.length===0?(console.debug(`[SubgraphNode.resolveSubgraphInputLinks] No inner links found for input slot [${i}] ${n.name}`,this),[]):o.map(s=>s.resolve(this.subgraph))}resolveSubgraphOutputLink(i){let n=this.subgraph.outputNode.slots[i],o=n.getLinks().at(0);if(o)return o.resolve(this.subgraph);console.debug(`[SubgraphNode.resolveSubgraphOutputLink] No inner link found for output slot [${i}] ${n.name}`,this)}getInnerNodes(i,n=[],o=[],s=new Set){if(s.has(this)){let d=`${this.id}${this.title?` (${this.title})`:""}`,u=`'${this.subgraph.name||"Unnamed Subgraph"}'`,p=n.length;throw new ii(`Circular reference detected at depth ${p} in node ${d} of subgraph ${u}. This creates an infinite loop in the subgraph hierarchy.`)}s.add(this);let a=[...n,this.id],_=this.graph.rootGraph.resolveSubgraphIdPath(n).at(-1),l=new rn(this,n,i,_);i.set(l.id,l);for(let d of this.subgraph.nodes)if("getInnerNodes"in d)d.getInnerNodes(i,a,o,new Set(s));else{let u=new rn(d,a,i,this);i.set(u.id,u),o.push(u)}return o}removeWidgetByName(i){let n=this.widgets.find(o=>o.name===i);n&&this.subgraph.events.dispatch("widget-demoted",{widget:n,subgraphNode:this}),super.removeWidgetByName(i)}ensureWidgetRemoved(i){this.widgets.includes(i)&&this.subgraph.events.dispatch("widget-demoted",{widget:i,subgraphNode:this}),super.ensureWidgetRemoved(i)}onRemoved(){w(this,Ei).abort();for(let i of this.widgets)this.subgraph.events.dispatch("widget-demoted",{widget:i,subgraphNode:this});for(let i of this.inputs)i._listenerController?.abort()}};Ei=new WeakMap,Ye=new WeakSet,wo=function(i,n){n._listenerController?.abort(),n._listenerController=new AbortController;let{signal:o}=n._listenerController;i.events.addEventListener("input-connected",()=>{if(n._widget)return;let s=i._widget;s&&T(this,Ye,So).call(this,i,n,s)},{signal:o}),i.events.addEventListener("input-disconnected",()=>{i.getConnectedWidgets().length>0||(this.removeWidgetByName(n.name),delete n.pos,delete n.widget,n._widget=void 0)},{signal:o})},So=function(i,n,o){let s=Ki(o,this).createCopyForNode(this);Object.assign(s,{get name(){return i.name},set name(a){console.warn("Promoted widget: setting name is not allowed",this,a)},get localized_name(){return i.localized_name},set localized_name(a){console.warn("Promoted widget: setting localized_name is not allowed",this,a)},get label(){return i.label},set label(a){console.warn("Promoted widget: setting label is not allowed",this,a)},get tooltip(){return o.tooltip},set tooltip(a){console.warn("Promoted widget: setting tooltip is not allowed",this,a)}}),this.widgets.push(s),this.subgraph.events.dispatch("widget-promoted",{widget:s,subgraphNode:this}),n.widget={name:i.name},n._widget=s};var m=new yo;Ir();var Cr={onWidgetChanged(r,t,i,n){if(r==="insert_textual_inversion"){let o=t?.value?.keyword;if(!o)return;let s=`<${o}>`,a=this.widgets?.find(l=>l.name==="prompt"),_=a?.value??"";typeof _=="string"&&a&&(_.includes(s)?a.value=_.split(s).join(""):a.value=`<${o}> ${_}`),n.value="..."}},onConnectionsChange(r,t,i,n,o){if(app.extensionManager.setting.get("drawthings.node.color_prompts")===!1)return;let s=!1,a=!1;for(let _ of this.outputs?.[0]?.links??[]){let l=this.graph?.getLink(_);if(!l)continue;let d=l.target_id,u=this.graph?.getNodeById(d);if(u?.comfyClass==="DrawThingsSampler"){let p=u?.inputs?.[l.target_slot];p?.name==="positive"&&(s=!0),p?.name==="negative"&&(a=!0)}}s&&a?(this.color=ee.node_colors.purple.color,this.bgcolor=ee.node_colors.purple.bgcolor):s?(this.color=ee.node_colors.green.color,this.bgcolor=ee.node_colors.green.bgcolor):a?(this.color=ee.node_colors.red.color,this.bgcolor=ee.node_colors.red.bgcolor):(this.color=void 0,this.bgcolor=void 0)},onNodeCreated(){let r=this.outputs?.find(n=>n.name=="PROMPT");r&&(r.color_on=r.color_off=app.canvas.default_connection_color_byType.CONDITIONING);let t=this.widgets?.find(n=>n.name==="prompt"),i=this;t?.element&&t.element.addEventListener("change",()=>{i.updateOptions()})},getExtraMenuOptions(r,t){let i=app.extensionManager.setting.get("drawthings.node.color_prompts");t.push(null,{content:(i?"\u2713 ":"")+"Change colors when connections change",callback:async()=>{try{await app.extensionManager.setting.set("drawthings.node.color_prompts",!i)}catch(n){console.error(`Error changing setting: ${n}`)}}},null)}},Er={name:"promptNode",beforeRegisterNodeDef(r,t,i){r.comfyClass==="DrawThingsPrompt"&&le(r,Cr)},settings:[{id:"drawthings.node.color_prompts",type:"boolean",name:"Change prompt node colors when connections change",defaultValue:!0,category:["DrawThings","Nodes","Change prompt"],onChange:(r,t)=>{t===!1&&r===!0&&app.graph.nodes.filter(i=>i.type==="DrawThingsPrompt").forEach(i=>{setTimeout(()=>i.onConnectionsChange(),10)})}}]},Zs=Er;import{app as Nr}from"../../scripts/app.js";var Ni=[zt,Zs,rs,Yo,Jo,as];Nr.registerExtension({name:"DrawThings-gRPC",getCustomWidgets(...r){return zt.getCustomWidgets?zt.getCustomWidgets.apply(zt,r):{}},beforeConfigureGraph(...r){for(let t of Ni)try{t.beforeConfigureGraph?.apply(t,r)}catch(i){console.error(`Error in ${t.name} beforeConfigureGraph:`,i)}},beforeRegisterNodeDef(...r){for(let t of Ni)try{t.beforeRegisterNodeDef?.apply(t,r)}catch(i){console.error(`Error in ${t.name} beforeConfigureGraph:`,i)}},afterConfigureGraph(...r){for(let t of Ni)try{t.afterConfigureGraph?.apply(t,r)}catch(i){console.error(`Error in ${t.name} afterConfigureGraph:`,i)}},setup(...r){for(let t of Ni)try{t.setup?.apply(t,r)}catch(i){console.error(`Error in ${t.name} beforeConfigureGraph:`,i)}Dr("extensions/drawthings-grpc/drawThings.css")},settings:Ni.flatMap(r=>r.settings??[]),aboutPageBadges:[{label:`DrawThings-gRPC v${it}`,url:"https://github.com/Jokimbe/ComfyUI-DrawThings-gRPC",icon:"dt-grpc-about-badge-logo"}]});function Dr(r){return document.querySelector(`link[href^="${r}"]`)?Promise.resolve():new Promise(t=>{let i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css");let n=setTimeout(t,1e3);i.addEventListener("load",o=>{clearInterval(n),t()}),i.href=r,document.head.appendChild(i)})}export{Dr as injectCss};
//# sourceMappingURL=extension.esm.js.map